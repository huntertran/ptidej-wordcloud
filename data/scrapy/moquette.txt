Sign in to GitHub · GitHub
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
GitHub - moquette-io/moquette: Java MQTT lightweight broker
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Reject
Save preferences
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Join GitHub · GitHub
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Java MQTT lightweight broker
Projects · moquette-io/moquette · GitHub
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
moquette-io.github.io/moquette/
View license
1.7k
stars
670
forks
Star
Watch
Code
Issues
63
Pull requests
14
Actions
Projects
Actions · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Join GitHub · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
15
branches
15
tags
Go to file
Code
Clone
HTTPS
GitHub CLI
Use Git or checkout with SVN using the web URL.
Work fast with our official CLI.
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
Moquette · GitHub
All GitHub
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Learn more.
Open with GitHub Desktop
Download ZIP
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching Xcode
If nothing happens, download Xcode and try again.
Go back
Launching Visual Studio
If nothing happens, download the GitHub extension for Visual Studio and try again.
Go back
Latest commit
moquette/license.txt at master · moquette-io/moquette · GitHub
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
andsel
Rolbacked Paho to 1.2.0 since starting from 1.2.1 TLS tests fails wit…
…
3c3859f
Nov 7, 2020
Rolbacked Paho to 1.2.0 since starting from 1.2.1 TLS tests fails wit…
…h: Caused by: javax.net.ssl.SSLHandshakeException: No name matching localhost found
3c3859f
Git stats
1,283
commits
Files
Permalink
Failed to load latest commit information.
Type
Join GitHub · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
File Finder · GitHub
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Name
Latest commit message
Commit time
.github
Added GitHub Issue template
Oct 20, 2017
.mvn/wrapper
Reintroduce maven build, with wrapper, removed gradle. (#542)
Nov 2, 2020
broker
Rolbacked Paho to 1.2.0 since starting from 1.2.1 TLS tests fails wit…
Nov 7, 2020
distribution
Updates Netty to 4.1.53 to have MQTT5 support (#546)
Nov 3, 2020
Moquette Broker
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Sign in to GitHub · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
↵
Search
All GitHub
↵
Jump to
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Added GitHub Issue template · moquette-io/moquette@a49792a · GitHub
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Organize your issues with project boards
Did you know you can manage projects in the same place you keep your code? Set up a project board on GitHub to streamline and automate your workflow.
Learn More
Get organized
Created with Sketch.
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this organization
All GitHub
↵
Jump to
↵
No suggested jump to results
In this organization
All GitHub
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Security Overview · moquette-io/moquette · GitHub
Packages · Moquette · GitHub
Join GitHub · GitHub
Join GitHub · GitHub
Sign in to GitHub · GitHub
embedding_moquette
Removed gradle script files
Nov 2, 2020
tools_scripts
Bumped dev cycle 0.13
Mar 17, 2019
.editorconfig
switch to gradle
Aug 24, 2017
.gitignore
enable the usage of Netty OpenSSL provider implementation
Jun 22, 2018
.travis.yml
Reintroduce maven build, with wrapper, removed gradle. (#542)
Nov 2, 2020
ChangeLog.txt
Moquette
Documentation
Mailing list
Moquette MQTT broker
JVM lightweight MQTT broker for the Internet of Things. Simply embeddable in your IoT projects
Learn more
Follow on twitter @moquetteproject.
Join GitHub · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Rolbacked Paho to 1.2.0 since starting from 1.2.1 TLS tests fails wit… · moquette-io/moquette@3c3859f · GitHub
Reintroduce maven build, with wrapper, removed gradle. (#542) · moquette-io/moquette@17f2c93 · GitHub
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Sort tasks
Add issues and pull requests to your board and prioritize them alongside note cards containing ideas or task lists.
Plan project
Created with Sketch.
Plan your project
Sort tasks into columns by status. You can label columns with status indicators like "To Do", "In Progress", and "Done".
Automate workflow
Created with Sketch.
Automate your workflow
Set up triggering events to save time on project management—we’ll move tasks into the right columns for you.
Track progress
Created with Sketch.
Track progress
Keep track of everything happening in your project and see exactly what’s changed since the last time you looked.
Share status
↵
Jump to
↵
In this organization
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Moquette is lightweight MQTT Java broker
Italy
http://moquette.io
Repositories
Packages
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Added implementation of retained store in H2
Nov 28, 2018
README.md
Minor, changed header (#536)
Oct 1, 2020
about.html
Update about.html
Apr 16, 2018
checkstyle-suppressions.xml
checkstyle: resource folders excluded form check
Feb 1, 2017
checkstyle.xml
Fixed checkStyle and ErrorProne warns
Apr 26, 2018
license-eplv10-aslv20.html
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
moquette · GitHub Topics · GitHub
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
Sign in to GitHub · GitHub
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
Join GitHub · GitHub
Wiki
Security
Insights
Automate your workflow from idea to production
GitHub Actions makes it easy to automate all your software workflows, now with world-class CI/CD. Build, test, and deploy your code right from GitHub.
Learn More
Linux, macOS, Windows, ARM, and containers
Hosted runners for every major OS make it easy to build and test all your projects. Run directly on a VM or inside a container. Use your own VMs, in the cloud or on-prem, with self-hosted runners.
Matrix builds
Save time with matrix workflows that simultaneously test across multiple operating systems and versions of your runtime.
Any language
GitHub Actions supports Node.js, Python, Java, Ruby, PHP, Go, Rust, .NET, and more. Build, test, and deploy applications in your language of choice.
Live logs
See your workflow run in realtime with color and emoji. It’s one click to copy a link that highlights a specific line number to share a CI/CD failure.
Built-in secret store
Automate your software development practices with workflow files embracing the Git flow by codifying it in your repository.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
moquette/checkstyle-suppressions.xml at master · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
moquette/.gitignore at master · moquette-io/moquette · GitHub
Created with Sketch.
Share status
Each card has a unique URL, making it easy to share and discuss individual tasks with your team.
Finish project
Created with Sketch.
Wrap up
After you wrap up your work, close your project board to remove it from your active projects list. On to the next project!
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
People
Projects
Dismiss
Grow your team on GitHub
GitHub is home to over 50 million developers working together. Join them to grow your own development teams, manage permissions, and collaborate on projects.
Sign up
Type:
All
Select type
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
moquette/license.txt at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
Sign in to GitHub · GitHub
Sign in to GitHub · GitHub
Added copyright and license notice to every source file, added about.…
Jun 11, 2014
license.txt
Added Apache 2.0 license
Oct 4, 2013
mvnw
Reintroduce maven build, with wrapper, removed gradle. (#542)
Nov 2, 2020
mvnw.cmd
Reintroduce maven build, with wrapper, removed gradle. (#542)
Nov 2, 2020
pom.xml
Updates Netty to 4.1.53 to have MQTT5 support (#546)
Nov 3, 2020
View code
GitHub - moquette-io/netty-mqtt5-codec: Netty codec implementation for MQTT3 and MQTT5
Projects · moquette-io · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Sign in to GitHub · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Release Release v.012.1 · moquette-io/moquette · GitHub
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Multi-container testing
Test your web service and its DB in your workflow by simply adding some docker-compose to your workflow file.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Certifications
Status
Contact GitHub
Company
About
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
All
Sources
Forks
Archived
Mirrors
Language:
All
Select language
All
Java
Repositories
moquette
Java MQTT lightweight broker
java
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
README.md
Moquette Project
Documentation reference guide Guide on how to use and configure Moquette
Google Group Google Group to participate in development discussions.
Moquette aims to be a MQTT compliant broker. The broker supports QoS 0, QoS 1 and QoS 2.
Its designed to be evented, uses Netty for the protocol encoding and decoding part.
Embeddable
Freedomotic is an home automation framework and uses Moquette embedded to interface with MQTT by a specific plugin.
Moquette is also used into Atomize Spin a software solution for the logistic field.
Part of moquette are used into the Vertx MQTT module, into MQTT spy
and into WSO2 Messge broker.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
Join GitHub · GitHub
Sign in to GitHub · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
mqtt
broker
moquette
Java
670
1,664
63
14
Updated Nov 7, 2020
netty-mqtt5-codec
Netty codec implementation for MQTT3 and MQTT5
Java
Apache-2.0
9
18
1
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Sign in to GitHub · GitHub
Sign in to GitHub · GitHub
Try the demo instance
Point your browser to cloud instance, request an account then use it from your MQTT clients.
1 minute set up
Start play with it, download the self distribution tar from BinTray ,
the un untar and start the broker listening on 1883 port and enjoy!
tar xvf moquette-distribution-0.12.1.tar.gz
Join GitHub · GitHub
Sign in to GitHub · GitHub
Join GitHub · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Security
Team
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Reject
Save preferences
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
moquette/license.txt
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
205 lines (170 sloc)
11.3 KB
Raw
Blame
Copyright 2012-2013 (c) Andrea Selva
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Learn more
Accept
Reject
Save preferences
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
moquette /
No matching files found.
© 2020 GitHub, Inc.
Terms
Privacy
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
0
Updated Dec 1, 2018
Top languages
Loading…
Most used topics
Loading…
People
This organization has no public members. You must be a member to see who’s a part of this organization.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
0
Projects
Type:
All
Select type
All
Container
npm
RubyGems
Maven
Docker
NuGet
Visibility:
All
Select visibility
All
Private
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Accept
Reject
Save preferences
Learn more
Accept
Reject
Save preferences
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
cd bin
./moquette.sh
Or if you are on Windows shell
cd bin
.\moquette.bat
Embedding in other projects
To embed Moquette in another maven project is sufficient to include a repository and declare the dependency:
<repositories>
<repository>
<id>bintray</id>
<url>https://jcenter.bintray.com</url>
<releases>
<enabled>true</enabled>
</releases>
Sign in to GitHub · GitHub
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
moquette/ISSUE_TEMPLATE.md at a49792adf5d6bcf636737478e972207f516dc4df · moquette-io/moquette · GitHub
Accept
Reject
Save preferences
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
In this topic
All GitHub
↵
Jump to
↵
No suggested jump to results
In this topic
All GitHub
↵
Jump to
↵
In this topic
All GitHub
↵
Jump to
↵
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
Apache License
Version 2.0, January 2004
http://www.apache.org/licenses/
TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION
1. Definitions.
"License" shall mean the terms and conditions for use, reproduction,
and distribution as defined by Sections 1 through 9 of this document.
"Licensor" shall mean the copyright owner or entity authorized by
the copyright owner that is granting the License.
"Legal Entity" shall mean the union of the acting entity and all
other entities that control, are controlled by, or are under common
control with that entity. For the purposes of this definition,
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Learn more
Accept
Reject
Save preferences
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Added GitHub Issue template
Loading branch information
andsel
committed
Oct 20, 2017
1 parent
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Overview
Security policy
Security advisories
0
Overview
Security policy
Public
Sort by:
Most downloads
Select sort view
Most downloads
Least downloads
Clear current search query, filters, and sorts
0 packages
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
moquette/.gitignore at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
Sign in to GitHub · GitHub
<snapshots>
<enabled>false</enabled>
</snapshots>
</repository>
</repositories>
Include dependency in your project:
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
<version>0.12.1</version>
</dependency>
Build from sources
After a git clone of the repository, cd into the cloned sources and: ./gradlew clean moquette-distribution:distMoquetteTar or
./gradlew clean moquette-distribution:distMoquetteZip.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
moquette/.travis.yml at 17f2c9390a7e80b887087186f3272c4814ac4846 · moquette-io/moquette · GitHub
moquette/maven-wrapper.properties at 17f2c9390a7e80b887087186f3272c4814ac4846 · moquette-io/moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
moquette/maven-wrapper.jar at 17f2c9390a7e80b887087186f3272c4814ac4846 · moquette-io/moquette · GitHub
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
netty-mqtt5-codec
Watch
3
Star
18
Fork
9
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
Projects
Moquette doesn’t have any public projects.
© 2020 GitHub, Inc.
Terms
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Certifications
Status
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Sign in
Sign up
Explore
Topics
Trending
Collections
Events
GitHub Sponsors
Get email updates
#
moquette
Star
Here are
2 public repositories
matching this topic...
moquette-io
/
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
"control" means (i) the power, direct or indirect, to cause the
direction or management of such entity, whether by contract or
otherwise, or (ii) ownership of fifty percent (50%) or more of the
outstanding shares, or (iii) beneficial ownership of such entity.
"You" (or "Your") shall mean an individual or Legal Entity
exercising permissions granted by this License.
"Source" form shall mean the preferred form for making modifications,
including but not limited to software source code, documentation
source, and configuration files.
"Object" form shall mean any form resulting from mechanical
transformation or translation of a Source form, including but
not limited to compiled object code, generated documentation,
and conversions to other media types.
"Work" shall mean the work of authorship, whether in Source or
Object form, made available under the License, as indicated by a
copyright notice that is included in or attached to the work
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Rolbacked Paho to 1.2.0 since starting from 1.2.1 TLS tests fails wit…
…h: Caused by: javax.net.ssl.SSLHandshakeException: No name matching localhost found
Loading branch information
andsel
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Reintroduce maven build, with wrapper, removed gradle. (#542)
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
1b272e5
commit a49792adf5d6bcf636737478e972207f516dc4df
Unified
Split
Showing
1 changed file
with
13 additions
and 0 deletions.
+13
−0
.github/ISSUE_TEMPLATE.md
13
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Security advisories
0
Security overview
Security policy
Suggest how users should report security vulnerabilities for this repository
Suggest a security policy
Security advisories
View security advisories for this repository
View security advisories
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
In distribution/build directory will be produced the selfcontained file for the broker with all dependencies and a running script.
If you like Moquette you can support us by donating.
About
Java MQTT lightweight broker
moquette-io.github.io/moquette/
Topics
broker
mqtt
java
moquette
Resources
Readme
License
View license
Releases
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Save preferences
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
Netty codec implementation for MQTT3 and MQTT5
Apache-2.0 License
18
stars
9
forks
Star
Watch
Code
Issues
1
Pull requests
0
Actions
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
moquette/MavenWrapperDownloader.java at 17f2c9390a7e80b887087186f3272c4814ac4846 · moquette-io/moquette · GitHub
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Pull requests · moquette-io/moquette · GitHub
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
moquette
Star
1.7k
Code
Issues
Pull requests
Java MQTT lightweight broker
java
mqtt
broker
moquette
Updated
Nov 7, 2020
Java
dnobel
/
mqtt-load-balancer
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
(an example is provided in the Appendix below).
"Derivative Works" shall mean any work, whether in Source or Object
form, that is based on (or derived from) the Work and for which the
editorial revisions, annotations, elaborations, or other modifications
represent, as a whole, an original work of authorship. For the purposes
of this License, Derivative Works shall not include works that remain
separable from, or merely link (or bind by name) to the interfaces of,
the Work and Derivative Works thereof.
"Contribution" shall mean any work of authorship, including
the original version of the Work and any modifications or additions
to that Work or Derivative Works thereof, that is intentionally
submitted to Licensor for inclusion in the Work by the copyright owner
or by an individual or Legal Entity authorized to submit on behalf of
the copyright owner. For the purposes of this definition, "submitted"
Security
Team
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Issues · moquette-io/moquette · GitHub
committed
Nov 7, 2020
1 parent
89a4ada
commit 3c3859fbd575179e404a6d2c45da6ff9852d279a
Unified
Split
Showing
1 changed file
with
1 addition
and 1 deletion.
+1
−1
broker/pom.xml
2
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
moquette/checkstyle-suppressions.xml
Go to file
Loading branch information
andsel
committed
Nov 2, 2020
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
b69146b
commit 17f2c9390a7e80b887087186f3272c4814ac4846
Unified
Split
.github/ISSUE_TEMPLATE.md
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,13 @@
### Expected behavior
### Actual behavior
### Steps to reproduce
### Minimal yet complete reproducer code (or URL to code) or complete log file
### Moquette MQTT version
### JVM version (e.g. `java -version`)
### OS version (e.g. `uname -a`)
Toggle all file notes
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/license.txt
Go to file
Go to file
T
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
queue is full · Issue #521 · moquette-io/moquette · GitHub
15
Release v.012.1
Latest
Mar 3, 2019
+ 14 releases
Packages 0
No packages published
Contributors 36
+ 25 contributors
Languages
Java
79.8%
Groovy
13.9%
HTML
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1 · Issue #522 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
All GitHub
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Projects
0
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Star
4
Code
Issues
Pull requests
MQTT Load Balancer with HAProxy
docker
mqtt
haproxy
moquette
Updated
Sep 3, 2017
Improve this page
Add a description, image, and links to the
moquette
topic page so that developers can more easily learn about it.
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
Latest release
v0.12.1
26e43c5
Compare
Choose a tag to compare
Search for a tag
means any form of electronic, verbal, or written communication sent
to the Licensor or its representatives, including but not limited to
communication on electronic mailing lists, source code control systems,
and issue tracking systems that are managed by, or on behalf of, the
Licensor for the purpose of discussing and improving the Work, but
excluding communication that is conspicuously marked or otherwise
designated in writing by the copyright owner as "Not a Contribution."
"Contributor" shall mean Licensor and any individual or Legal Entity
on behalf of whom a Contribution has been received by Licensor and
subsequently incorporated within the Work.
2. Grant of Copyright License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
copyright license to reproduce, prepare Derivative Works of,
publicly display, publicly perform, sublicense, and distribute the
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
Releases · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
broker/pom.xml
Show comments
View file
Edit file
Delete file
@@ -17,7 +17,7 @@
<bintray.package>io.moquette.moquette-broker</bintray.package>
<netty.version>4.1.53.Final</netty.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<paho.version>1.2.1</paho.version>
<paho.version>1.2.0</paho.version>
<h2.version>1.4.199</h2.version>
</properties>
Toggle all file notes
0 comments
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
8 lines (7 sloc)
260 Bytes
Raw
Blame
<?xml version="1.0"?>
<!DOCTYPE suppressions PUBLIC
"-//Puppy Crawl//DTD Suppressions 1.0//EN"
"http://www.puppycrawl.com/dtds/suppressions_1_0.dtd">
<suppressions>
<suppress checks="[a-zA-Z0-9]*" files=".*/resources/.*"/>
Showing
21 changed files
with
1,241 additions
and 372 deletions.
+117
−0
.mvn/wrapper/MavenWrapperDownloader.java
BIN
.mvn/wrapper/maven-wrapper.jar
+2
−0
.mvn/wrapper/maven-wrapper.properties
+2
−9
.travis.yml
0 comments
on commit a49792a
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
moquette/.gitignore
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
49 lines (44 sloc)
730 Bytes
Raw
Blame
/build
*/build/
/target/
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Save preferences
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Go to line
L
Copy path
Cannot retrieve contributors at this time
205 lines (170 sloc)
11.3 KB
Raw
Blame
Copyright 2012-2013 (c) Andrea Selva
Apache License
Version 2.0, January 2004
http://www.apache.org/licenses/
TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
5.3%
Other
1.0%
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
master
1
branch
0
tags
Go to file
Code
Clone
HTTPS
GitHub CLI
Use Git or checkout with SVN using the web URL.
Work fast with our official CLI.
Learn more.
Open with GitHub Desktop
Download ZIP
Moquette shows topics, but subscribers won't receive anything - Subscription missing? · Issue #510 · moquette-io/moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Curate this topic
Add this topic to your repo
To associate your repository with the
moquette
topic, visit your repo's landing page and select "manage topics."
Learn more
Product
Features
Security
Team
Enterprise
Release v.012.1
Latest release
v0.12.1
26e43c5
Compare
Choose a tag to compare
Search for a tag
andsel
released this
Mar 3, 2019
·
Work and such Derivative Works in Source or Object form.
3. Grant of Patent License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
(except as stated in this section) patent license to make, have made,
use, offer to sell, sell, import, and otherwise transfer the Work,
where such license applies only to those patent claims licensable
by such Contributor that are necessarily infringed by their
Contribution(s) alone or by combination of their Contribution(s)
with the Work to which such Contribution(s) was submitted. If You
institute patent litigation against any entity (including a
cross-claim or counterclaim in a lawsuit) alleging that the Work
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
on commit 3c3859f
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
</suppressions>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
+265
−0
broker/pom.xml
+1
−1
broker/src/test/java/io/moquette/integration/IntegrationUtils.java
+1
−1
broker/src/test/resources/log4j.properties
+68
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
/parser/target/
/benchmarking/target/
.idea/
*.iml
broker/target/
client/target/
parser_commons/target/
netty_parser/target/
netty_parser/target/
parser_commons/target/
distribution/target/
1. Definitions.
"License" shall mean the terms and conditions for use, reproduction,
and distribution as defined by Sections 1 through 9 of this document.
"Licensor" shall mean the copyright owner or entity authorized by
the copyright owner that is granting the License.
"Legal Entity" shall mean the union of the acting entity and all
other entities that control, are controlled by, or are under common
control with that entity. For the purposes of this definition,
"control" means (i) the power, direct or indirect, to cause the
direction or management of such entity, whether by contract or
otherwise, or (ii) ownership of fifty percent (50%) or more of the
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Subscription breaks during performance test · Issue #505 · moquette-io/moquette · GitHub
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
BrokerInterceptor thread pool never closing on serverStop · Issue #506 · moquette-io/moquette · GitHub
Bridging to a cloud broker [Microsoft Azure -- IOT Hub] ? · Issue #513 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Certifications
Status
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching Xcode
If nothing happens, download Xcode and try again.
Go back
Launching Visual Studio
If nothing happens, download the GitHub extension for Visual Studio and try again.
Go back
Latest commit
Git stats
2
commits
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
21 commits
to master
since this release
Bugfix release for bad push of queue messages
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
or a Contribution incorporated within the Work constitutes direct
or contributory patent infringement, then any patent licenses
granted to You under this License for that Work shall terminate
as of the date such litigation is filed.
4. Redistribution. You may reproduce and distribute copies of the
Work or Derivative Works thereof in any medium, with or without
modifications, and in Source or Object form, provided that You
meet the following conditions:
(a) You must give any other recipients of the Work or
Derivative Works a copy of this License; and
(b) You must cause any modified files to carry prominent notices
stating that You changed the files; and
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
−0
distribution/pom.xml
+57
−0
distribution/src/main/assembly/assembly.xml
+23
−0
embedding_moquette/pom.xml
+0
−9
gradle/java.gradle
+0
−20
gradle/lint.gradle
+0
−63
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
broker/moquette.log
broker/runner
/bundle/target/
/bundle/runner/
/osgi_test/target/
/perf/target/
/mapdb_storage/target/
*~
*.log*
.DS_Store
.settings/
.project
.classpath
/*/bin/
*.swp
*.class
outstanding shares, or (iii) beneficial ownership of such entity.
"You" (or "Your") shall mean an individual or Legal Entity
exercising permissions granted by this License.
"Source" form shall mean the preferred form for making modifications,
including but not limited to software source code, documentation
source, and configuration files.
"Object" form shall mean any form resulting from mechanical
transformation or translation of a Source form, including but
not limited to compiled object code, generated documentation,
and conversions to other media types.
"Work" shall mean the work of authorship, whether in Source or
Object form, made available under the License, as indicated by a
copyright notice that is included in or attached to the work
(an example is provided in the Appendix below).
"Derivative Works" shall mean any work, whether in Source or Object
form, that is based on (or derived from) the Work and for which the
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Files
Permalink
Failed to load latest commit information.
Type
Name
Latest commit message
Commit time
src
LICENSE
README.md
pom.xml
View code
README.md
netty-mqtt5-codec
Netty codec implementation for MQTT3 and MQTT5
About
Issues · moquette-io/moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
a49792adf5
moquette/.github/ISSUE_TEMPLATE.md
Go to file
Go to file
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Professional Services
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
(c) You must retain, in the Source form of any Derivative Works
that You distribute, all copyright, patent, trademark, and
attribution notices from the Source form of the Work,
excluding those notices that do not pertain to any part of
the Derivative Works; and
(d) If the Work includes a "NOTICE" text file as part of its
distribution, then any Derivative Works that You distribute must
include a readable copy of the attribution notices contained
within such NOTICE file, excluding those notices that do not
pertain to any part of the Derivative Works, in at least one
of the following places: within a NOTICE text file distributed
as part of the Derivative Works; within the Source form or
documentation, if provided along with the Derivative Works; or,
within a display generated by the Derivative Works, if and
wherever such third-party notices normally appear. The contents
of the NOTICE file are for informational purposes only and
Accept
Reject
Save preferences
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
gradle/test.gradle
BIN
gradle/wrapper/gradle-wrapper.jar
+0
−5
gradle/wrapper/gradle-wrapper.properties
+0
−172
gradlew
+0
−84
gradlew.bat
+310
−0
mvnw
# Mobile Tools for Java (J2ME)
.mtj.tmp/
# Package Files #
*.war
*.ear
# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml
hs_err_pid*
broker/*moquette_store.*
embedding_moquette/target/
broker/nb-configuration.xml
broker/nbactions-Server.xml
maven-metadata.xml
/.gradle/
/bin/
Copy lines
editorial revisions, annotations, elaborations, or other modifications
represent, as a whole, an original work of authorship. For the purposes
of this License, Derivative Works shall not include works that remain
separable from, or merely link (or bind by name) to the interfaces of,
the Work and Derivative Works thereof.
"Contribution" shall mean any work of authorship, including
the original version of the Work and any modifications or additions
to that Work or Derivative Works thereof, that is intentionally
submitted to Licensor for inclusion in the Work by the copyright owner
or by an individual or Legal Entity authorized to submit on behalf of
the copyright owner. For the purposes of this definition, "submitted"
means any form of electronic, verbal, or written communication sent
to the Licensor or its representatives, including but not limited to
communication on electronic mailing lists, source code control systems,
and issue tracking systems that are managed by, or on behalf of, the
Licensor for the purpose of discussing and improving the Work, but
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/.gitignore
Go to file
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
How one port supports both unidirectional and two-way certificate authentication for TLS · Issue #491 · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Subscription storage · Issue #482 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
17f2c9390a
moquette/.travis.yml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
17f2c9390a
moquette/.mvn/wrapper/maven-wrapper.properties
Go to file
Go to file
T
Go to line
L
Copy path
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
17f2c9390a
moquette/.mvn/wrapper/maven-wrapper.jar
Go to file
Go to file
T
Go to line
L
Copy path
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Netty codec implementation for MQTT3 and MQTT5
Resources
Readme
License
Apache-2.0 License
Releases
No releases published
Packages 0
No packages published
Languages
Java
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
This file is used as an issue template.
You are using an old version of issue templates. Please update to the new issue template workflow.
Learn more
13 lines (7 sloc)
248 Bytes
Raw
Blame
Expected behavior
Actual behavior
Steps to reproduce
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
do not modify the License. You may add Your own attribution
notices within Derivative Works that You distribute, alongside
or as an addendum to the NOTICE text from the Work, provided
that such additional attribution notices cannot be construed
as modifying the License.
You may add Your own copyright statement to Your modifications and
may provide additional or different license terms and conditions
for use, reproduction, or distribution of Your modifications, or
for any such Derivative Works as a whole, provided Your use,
reproduction, and distribution of the Work otherwise complies with
the conditions stated in this License.
5. Submission of Contributions. Unless You explicitly state otherwise,
any Contribution intentionally submitted for inclusion in the Work
by You to the Licensor shall be under the terms and conditions of
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
+182
−0
mvnw.cmd
+213
−0
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
excluding communication that is conspicuously marked or otherwise
designated in writing by the copyright owner as "Not a Contribution."
"Contributor" shall mean Licensor and any individual or Legal Entity
on behalf of whom a Contribution has been received by Licensor and
subsequently incorporated within the Work.
2. Grant of Copyright License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
copyright license to reproduce, prepare Derivative Works of,
publicly display, publicly perform, sublicense, and distribute the
Work and such Derivative Works in Source or Object form.
3. Grant of Patent License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
49 lines (44 sloc)
730 Bytes
Raw
Blame
/build
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
6 lines (5 sloc)
65 Bytes
Raw
Blame
language: java
jdk:
- openjdk12
#script:
# - ./mvnw verify
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Issues · moquette-io/moquette · GitHub
Cannot retrieve contributors at this time
2 lines (2 sloc)
218 Bytes
Raw
Blame
distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.6.2/apache-maven-3.6.2-bin.zip
wrapperUrl=https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Cannot retrieve contributors at this time
49.5 KB
Download
View raw
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
100.0%
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Add Ping Request handling to the interceptors · Issue #481 · moquette-io/moquette · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
17f2c9390a
moquette/.mvn/wrapper/MavenWrapperDownloader.java
/
Jump to
Minimal yet complete reproducer code (or URL to code) or complete log file
Moquette MQTT version
JVM version (e.g. java -version)
OS version (e.g. uname -a)
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
this License, without any additional terms or conditions.
Notwithstanding the above, nothing herein shall supersede or modify
the terms of any separate license agreement you may have executed
with Licensor regarding such Contributions.
6. Trademarks. This License does not grant permission to use the trade
names, trademarks, service marks, or product names of the Licensor,
except as required for reasonable and customary use in describing the
origin of the Work and reproducing the content of the NOTICE file.
7. Disclaimer of Warranty. Unless required by applicable law or
agreed to in writing, Licensor provides the Work (and each
Contributor provides its Contributions) on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied, including, without limitation, any warranties or conditions
of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
PARTICULAR PURPOSE. You are solely responsible for determining the
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
pom.xml
+0
−8
settings.gradle
117
.mvn/wrapper/MavenWrapperDownloader.java
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,117 @@
/*
* Copyright 2007-present the original author or authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
(except as stated in this section) patent license to make, have made,
use, offer to sell, sell, import, and otherwise transfer the Work,
where such license applies only to those patent claims licensable
by such Contributor that are necessarily infringed by their
Contribution(s) alone or by combination of their Contribution(s)
with the Work to which such Contribution(s) was submitted. If You
institute patent litigation against any entity (including a
cross-claim or counterclaim in a lawsuit) alleging that the Work
or a Contribution incorporated within the Work constitutes direct
or contributory patent infringement, then any patent licenses
granted to You under this License for that Work shall terminate
as of the date such litigation is filed.
4. Redistribution. You may reproduce and distribute copies of the
Work or Derivative Works thereof in any medium, with or without
*/build/
/target/
/parser/target/
/benchmarking/target/
.idea/
*.iml
broker/target/
client/target/
parser_commons/target/
netty_parser/target/
netty_parser/target/
parser_commons/target/
distribution/target/
broker/moquette.log
broker/runner
/bundle/target/
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Issues · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Releases · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
117 lines (107 sloc)
4.83 KB
Raw
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
6
New pull request
New
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Accept
Reject
Save preferences
appropriateness of using or redistributing the Work and assume any
risks associated with Your exercise of permissions under this License.
8. Limitation of Liability. In no event and under no legal theory,
whether in tort (including negligence), contract, or otherwise,
unless required by applicable law (such as deliberate and grossly
negligent acts) or agreed to in writing, shall any Contributor be
liable to You for damages, including any direct, indirect, special,
incidental, or consequential damages of any character arising as a
result of this License or out of the use or inability to use the
Work (including but not limited to damages for loss of goodwill,
other commercial damages or losses), even if such Contributor
has been advised of the possibility of such damages.
9. Accepting Warranty or Additional Liability. While redistributing
the Work or Derivative Works thereof, You may choose to offer,
and charge a fee for, acceptance of support, warranty, indemnity,
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Be notified of new releases
Create your free GitHub account today to subscribe to this repository for new releases and build software alongside 50 million developers.
Sign up
Releases
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
import java.net.*;
import java.io.*;
import java.nio.channels.*;
import java.util.Properties;
public class MavenWrapperDownloader {
private static final String WRAPPER_VERSION = "0.5.6";
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
modifications, and in Source or Object form, provided that You
meet the following conditions:
(a) You must give any other recipients of the Work or
Derivative Works a copy of this License; and
(b) You must cause any modified files to carry prominent notices
stating that You changed the files; and
(c) You must retain, in the Source form of any Derivative Works
that You distribute, all copyright, patent, trademark, and
attribution notices from the Source form of the Work,
excluding those notices that do not pertain to any part of
the Derivative Works; and
(d) If the Work includes a "NOTICE" text file as part of its
distribution, then any Derivative Works that You distribute must
include a readable copy of the attribution notices contained
within such NOTICE file, excluding those notices that do not
pertain to any part of the Derivative Works, in at least one
/bundle/runner/
/osgi_test/target/
/perf/target/
/mapdb_storage/target/
*~
*.log*
.DS_Store
.settings/
.project
.classpath
/*/bin/
*.swp
*.class
# Mobile Tools for Java (J2ME)
.mtj.tmp/
# Package Files #
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
queue is full
#521
Open
arifainchtein opened this issue
Mar 28, 2020
· 0 comments
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
Open
mjacoby opened this issue
Mar 31, 2020
· 0 comments
Open
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
mjacoby opened this issue
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Release 0.9 · moquette-io/moquette · GitHub
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Reject
Save preferences
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Blame
/*
* Copyright 2007-present the original author or authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
or other liability obligations and/or rights consistent with this
License. However, in accepting such obligations, You may act only
on Your own behalf and on Your sole responsibility, not on behalf
of any other Contributor, and only if You agree to indemnify,
defend, and hold each Contributor harmless for any liability
incurred by, or claims asserted against, such Contributor by reason
of your accepting any such warranty or additional liability.
END OF TERMS AND CONDITIONS
APPENDIX: How to apply the Apache License to your work.
To apply the Apache License to your work, attach the following
boilerplate notice, with the fields enclosed by brackets "[]"
replaced with your own identifying information. (Don't include
the brackets!) The text should be enclosed in the appropriate
comment syntax for the file format. We also recommend that a
file or class name and description of purpose be included on the
Tags
Nov 2, 2020
…
Show 2 newer tags
Nov 2, 2020
last_gradle
…
Last version with gradle build system
Nov 2, 2020
b69146b
zip
tar.gz
Apr 11, 2020
v0.13
…
Moquette 0.13 versions release
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
/**
* Default URL to download the maven-wrapper.jar from, if no 'downloadUrl' is provided.
*/
private static final String DEFAULT_DOWNLOAD_URL = "https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/"
+ WRAPPER_VERSION + "/maven-wrapper-" + WRAPPER_VERSION + ".jar";
/**
* Path to the maven-wrapper.properties file, which might contain a downloadUrl property to
* use instead of the default one.
*/
private static final String MAVEN_WRAPPER_PROPERTIES_PATH =
".mvn/wrapper/maven-wrapper.properties";
/**
* Path where the maven-wrapper.jar will be saved to.
*/
private static final String MAVEN_WRAPPER_JAR_PATH =
of the following places: within a NOTICE text file distributed
as part of the Derivative Works; within the Source form or
documentation, if provided along with the Derivative Works; or,
within a display generated by the Derivative Works, if and
wherever such third-party notices normally appear. The contents
of the NOTICE file are for informational purposes only and
do not modify the License. You may add Your own attribution
notices within Derivative Works that You distribute, alongside
or as an addendum to the NOTICE text from the Work, provided
that such additional attribution notices cannot be construed
as modifying the License.
You may add Your own copyright statement to Your modifications and
may provide additional or different license terms and conditions
for use, reproduction, or distribution of Your modifications, or
for any such Derivative Works as a whole, provided Your use,
reproduction, and distribution of the Work otherwise complies with
*.war
*.ear
# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml
hs_err_pid*
broker/*moquette_store.*
embedding_moquette/target/
broker/nb-configuration.xml
broker/nbactions-Server.xml
maven-metadata.xml
/.gradle/
/bin/
Copy lines
Copy permalink
Open
queue is full
#521
arifainchtein opened this issue
Mar 28, 2020
· 0 comments
Comments
Copy link
Quote reply
arifainchtein
commented
Mar 28, 2020
Hello,
I am using version 0.11 and I am getting this error. Any suggestions as to why its happening and how do i prevent it from happening?
Thanks
7013256 [nioEventLoopGroup-3-1] INFO ProtocolProcessor - Processing PUBLISH message. CId=ZhinuHeartPublisher, topic=OrganismStatus, messageId=9663, qos=AT_LEAST_ONCE 97013256 [nioEventLoopGroup-3-1] INFO MessagesPublisher - Sending publish message to subscribers. ClientId=ZhinuHeartPublisher, topic=OrganismStatus, messageId=9663 97013256 [nioEventLoopGroup-3-1] INFO PersistentQueueMessageSender - Sending PUBLISH message. MessageId=20314, CId=web_63, topic=OrganismStatus 97013256 [nioEventLoopGroup-3-1] INFO ConnectionDescriptorStore - Sending PUBLISH message CId=<web_63>, messageId=20314 97013256 [nioEventLoopGroup-3-1] ERROR NettyMQTTHandler - Exception was caught while processing MQTT message, null java.lang.IllegalStateException: Queue full at java.util.AbstractQueue.add(AbstractQueue.java:98) at java.util.concurrent.ArrayBlockingQueue.add(ArrayBlockingQueue.java:312) at io.moquette.spi.DurableSession.enqueue(DurableSession.java:207) at io.moquette.spi.impl.MessagesPublisher.publish2Subscribers(MessagesPublisher.java:107) at io.moquette.spi.impl.MessagesPublisher.publish2Subscribers(MessagesPublisher.java:71) at io.moquette.spi.impl.Qos1PublishHandler.receivedPublishQos1(Qos1PublishHandler.java:70) at io.moquette.spi.impl.ProtocolProcessor.processPublish(ProtocolProcessor.java:470) at io.moquette.server.netty.NettyMQTTHandler.channelRead(NettyMQTTHandler.java:56) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) at io.moquette.server.netty.metrics.MQTTMessageLogger.channelRead(MQTTMessageLogger.java:44) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) at io.moquette.server.netty.metrics.MessageMetricsHandler.channelRead(MessageMetricsHandler.java:48) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) at io.moquette.server.netty.metrics.BytesMetricsHandler.channelRead(BytesMetricsHandler.java:49) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926) at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:134) at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644) at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579) at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496) at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458) at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:138) at java.lang.Thread.run(Thread.java:748)
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Issues · moquette-io/moquette · GitHub
Bumped dev cycle for 0.10 · moquette-io/moquette@a7b8c07 · GitHub
Release before_sofia2 · moquette-io/moquette · GitHub
Error processing protocol message: PUBACK · Issue #483 · moquette-io/moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Bumped version 0.9 · moquette-io/moquette@4162aae · GitHub
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
Mar 31, 2020
· 0 comments
Comments
Copy link
Quote reply
Contributor
mjacoby
commented
Mar 31, 2020
Expected behavior
Broker should reject connection with protocol version 3.1 and clientId longer than 23 characters with return code 2 (Identifier Rejected) as defined in the standard https://public.dhe.ibm.com/software/dw/webservices/ws-mqtt/mqtt-v3r1.html#connect
Actual behavior
Exception is thrown and no CONNACK is sent. Seems like server does not accept any connections after that.
Steps to reproduce
Start moquette MQTT server and establish client connection using MQTT v3.1 using a clientId with more than 23 characters
Minimal yet complete reproducer code (or URL to code) or complete log file
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Moquette shows topics, but subscribers won't receive anything - Subscription missing?
#510
Open
beniroquai opened this issue
Dec 18, 2019
· 1 comment
Open
Moquette shows topics, but subscribers won't receive anything - Subscription missing?
import java.net.*;
import java.io.*;
import java.nio.channels.*;
import java.util.Properties;
public class MavenWrapperDownloader {
private static final String WRAPPER_VERSION = "0.5.6";
/**
* Default URL to download the maven-wrapper.jar from, if no 'downloadUrl' is provided.
*/
private static final String DEFAULT_DOWNLOAD_URL = "https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/"
+ WRAPPER_VERSION + "/maven-wrapper-" + WRAPPER_VERSION + ".jar";
/**
* Path to the maven-wrapper.properties file, which might contain a downloadUrl property to
* use instead of the default one.
*/
private static final String MAVEN_WRAPPER_PROPERTIES_PATH =
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
same "printed page" as the copyright notice for easier
identification within third-party archives.
Copyright [yyyy] [name of copyright owner]
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
Copy lines
Copy permalink
Apr 11, 2020
3b83f47
zip
tar.gz
Latest release
v0.12.1
26e43c5
Compare
Choose a tag to compare
Search for a tag
Release v.012.1
Latest release
v0.12.1
26e43c5
Compare
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
".mvn/wrapper/maven-wrapper.jar";
/**
* Name of the property which should be used to override the default download url for the wrapper.
*/
private static final String PROPERTY_NAME_WRAPPER_URL = "wrapperUrl";
public static void main(String args[]) {
System.out.println("- Downloader started");
File baseDirectory = new File(args[0]);
System.out.println("- Using base directory: " + baseDirectory.getAbsolutePath());
// If the maven-wrapper.properties exists, read it and check if it contains a custom
// wrapperUrl parameter.
File mavenWrapperPropertyFile = new File(baseDirectory, MAVEN_WRAPPER_PROPERTIES_PATH);
String url = DEFAULT_DOWNLOAD_URL;
if(mavenWrapperPropertyFile.exists()) {
FileInputStream mavenWrapperPropertyFileInputStream = null;
the conditions stated in this License.
5. Submission of Contributions. Unless You explicitly state otherwise,
any Contribution intentionally submitted for inclusion in the Work
by You to the Licensor shall be under the terms and conditions of
this License, without any additional terms or conditions.
Notwithstanding the above, nothing herein shall supersede or modify
the terms of any separate license agreement you may have executed
with Licensor regarding such Contributions.
6. Trademarks. This License does not grant permission to use the trade
names, trademarks, service marks, or product names of the Licensor,
except as required for reasonable and customary use in describing the
origin of the Work and reproducing the content of the NOTICE file.
7. Disclaimer of Warranty. Unless required by applicable law or
agreed to in writing, Licensor provides the Work (and each
Contributor provides its Contributions) on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
Jump to bottom
Subscription breaks during performance test
#505
Open
JinseonyLee opened this issue
Oct 4, 2019
· 1 comment
Open
Subscription breaks during performance test
#505
JinseonyLee opened this issue
Oct 4, 2019
· 1 comment
Comments
Copy link
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
Fork
670
Code
Issues
63
Pull requests
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
to your account
Jump to bottom
BrokerInterceptor thread pool never closing on serverStop
#506
Open
bobrowskim opened this issue
Oct 9, 2019
· 0 comments
Open
BrokerInterceptor thread pool never closing on serverStop
#506
bobrowskim opened this issue
Oct 9, 2019
· 0 comments
Comments
Copy link
to your account
Jump to bottom
Bridging to a cloud broker [Microsoft Azure -- IOT Hub] ?
#513
Open
carlsberg-stack opened this issue
Jan 17, 2020
· 5 comments
Open
Bridging to a cloud broker [Microsoft Azure -- IOT Hub] ?
#513
carlsberg-stack opened this issue
Jan 17, 2020
· 5 comments
Comments
Copy link
Exception thrown
ERROR i.m.s.netty.NettyMQTTHandler - Unexpected exception while processing MQTT message. Closing Netty channel. CId=null
java.lang.NullPointerException: null
at io.moquette.server.netty.metrics.MQTTMessageLogger.logMQTTMessage(MQTTMessageLogger.java:54)
at io.moquette.server.netty.metrics.MQTTMessageLogger.channelRead(MQTTMessageLogger.java:44)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.moquette.server.netty.metrics.MessageMetricsHandler.channelRead(MessageMetricsHandler.java:50)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)
at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284)
Plans to support MQTT 5? · Issue #490 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
#510
beniroquai opened this issue
Dec 18, 2019
· 1 comment
Comments
Copy link
Quote reply
beniroquai
commented
Dec 18, 2019
Expected behavior
Clients should receive topics
Actual behavior
Clients - subscribed to topic - don'T receive anything.
".mvn/wrapper/maven-wrapper.properties";
/**
* Path where the maven-wrapper.jar will be saved to.
*/
private static final String MAVEN_WRAPPER_JAR_PATH =
".mvn/wrapper/maven-wrapper.jar";
/**
* Name of the property which should be used to override the default download url for the wrapper.
*/
private static final String PROPERTY_NAME_WRAPPER_URL = "wrapperUrl";
public static void main(String args[]) {
System.out.println("- Downloader started");
File baseDirectory = new File(args[0]);
dsoulayrol
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Choose a tag to compare
Search for a tag
andsel
released this
Mar 3, 2019
·
21 commits
to master
since this release
Bugfix release for bad push of queue messages
Assets
2
Source code (zip)
Source code (tar.gz)
👎
😄
🎉
😕
❤️
🚀
👀
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
1
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
try {
mavenWrapperPropertyFileInputStream = new FileInputStream(mavenWrapperPropertyFile);
Properties mavenWrapperProperties = new Properties();
mavenWrapperProperties.load(mavenWrapperPropertyFileInputStream);
url = mavenWrapperProperties.getProperty(PROPERTY_NAME_WRAPPER_URL, url);
} catch (IOException e) {
System.out.println("- ERROR loading '" + MAVEN_WRAPPER_PROPERTIES_PATH + "'");
} finally {
try {
if(mavenWrapperPropertyFileInputStream != null) {
mavenWrapperPropertyFileInputStream.close();
}
} catch (IOException e) {
// Ignore ...
implied, including, without limitation, any warranties or conditions
of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
PARTICULAR PURPOSE. You are solely responsible for determining the
appropriateness of using or redistributing the Work and assume any
risks associated with Your exercise of permissions under this License.
8. Limitation of Liability. In no event and under no legal theory,
whether in tort (including negligence), contract, or otherwise,
unless required by applicable law (such as deliberate and grossly
negligent acts) or agreed to in writing, shall any Contributor be
liable to You for damages, including any direct, indirect, special,
incidental, or consequential damages of any character arising as a
result of this License or out of the use or inability to use the
Work (including but not limited to damages for loss of goodwill,
other commercial damages or losses), even if such Contributor
has been advised of the possibility of such damages.
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Quote reply
JinseonyLee
commented
Oct 4, 2019
•
edited
Hi,
I tested mqtt server with moquette 0.12.1 version with H2.
I sent 1 message/per sec with 2 ~ 3000 clients.
When I first started testing, then It was done properly.
But, when all clients are disconnected and restarted testing, It can't use internalPublish methods.
It is the error log below.
Caused by: java.lang.NullPointerException: null
at io.moquette.broker.subscriptions.CTrie.evaluate(CTrie.java:58)
at io.moquette.broker.subscriptions.CTrie.recursiveMatch(CTrie.java:70)
at io.moquette.broker.subscriptions.CTrie.recursiveMatch(CTrie.java:86)
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Release Release v0.10 · moquette-io/moquette · GitHub
Bumped release 0.10 · moquette-io/moquette@0480260 · GitHub
Merge pull request #350 from AndreasMager/test_setup_improvement · moquette-io/moquette@7c4f902 · GitHub
Release last_with_maven · moquette-io/moquette · GitHub
Merge pull request #345 from AndreasMager/gradle · moquette-io/moquette@c367100 · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Release second_try_with_osgi_giveup · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Quote reply
bobrowskim
commented
Oct 9, 2019
•
edited
Expected behavior
When using moquette-io as embedded broker in application when invoking method stopServer from class Server it would be expected that all related threads are closing.
Actual behavior
Invoking stopServer from class Server does not call to stop BrokerInterceptor thus the threads pool it created is never shutdown and some thread is kept in awaiting state. This leads to application hang running.
Steps to reproduce
Start Server
Connect client to server, publish and subscribe to some topics
Stop server Server.stopServer
Thread pool created by BrokerInterceptor is still in waiting state
Application never stops.
Quote reply
carlsberg-stack
commented
Jan 17, 2020
No description provided.
Copy link
Collaborator
andsel
commented
Jan 17, 2020
Please file a request with more details, "bridging to a cloud broker" is not so clear to understand what you mean
Copy link
Author
carlsberg-stack
commented
Jan 17, 2020
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.moquette.server.netty.metrics.BytesMetricsHandler.channelRead(BytesMetricsHandler.java:51)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
Steps to reproduce
See below
Minimal yet complete reproducer code (or URL to code) or complete log file
public class MQTTBroker implements Callable<Boolean> {
private static final String TAG = "MQTTBrokerThread";
private Server server;
private Properties config;
public MQTTBroker(Properties config) {
this.config = config;
}
public Server getServer() {
return server;
}
public void stopServer() {
server.stopServer();
}
@Override
System.out.println("- Using base directory: " + baseDirectory.getAbsolutePath());
// If the maven-wrapper.properties exists, read it and check if it contains a custom
// wrapperUrl parameter.
File mavenWrapperPropertyFile = new File(baseDirectory, MAVEN_WRAPPER_PROPERTIES_PATH);
String url = DEFAULT_DOWNLOAD_URL;
if(mavenWrapperPropertyFile.exists()) {
FileInputStream mavenWrapperPropertyFileInputStream = null;
try {
mavenWrapperPropertyFileInputStream = new FileInputStream(mavenWrapperPropertyFile);
Properties mavenWrapperProperties = new Properties();
mavenWrapperProperties.load(mavenWrapperPropertyFileInputStream);
url = mavenWrapperProperties.getProperty(PROPERTY_NAME_WRAPPER_URL, url);
} catch (IOException e) {
System.out.println("- ERROR loading '" + MAVEN_WRAPPER_PROPERTIES_PATH + "'");
} finally {
try {
1
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
one get
#520
opened Mar 4, 2020 by
luoliangtiger
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
Authentication changes
#507
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
v0.12
3080050
Compare
Choose a tag to compare
Search for a tag
Release v.012
v0.12
3080050
Compare
Choose a tag to compare
Search for a tag
andsel
released this
Dec 1, 2018
·
micw
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
opened Jul 23, 2020 by
dsoulayrol
NullPointerException in CTrie.evaluate
#529
opened May 13, 2020 by
hylkevds
1
3
Publish javadoc & sources of 0.13
#528
opened May 13, 2020 by
}
}
}
System.out.println("- Downloading from: " + url);
File outputFile = new File(baseDirectory.getAbsolutePath(), MAVEN_WRAPPER_JAR_PATH);
if(!outputFile.getParentFile().exists()) {
if(!outputFile.getParentFile().mkdirs()) {
System.out.println(
"- ERROR creating output directory '" + outputFile.getParentFile().getAbsolutePath() + "'");
}
}
System.out.println("- Downloading to: " + outputFile.getAbsolutePath());
try {
downloadFileFromURL(url, outputFile);
System.out.println("Done");
System.exit(0);
9. Accepting Warranty or Additional Liability. While redistributing
the Work or Derivative Works thereof, You may choose to offer,
and charge a fee for, acceptance of support, warranty, indemnity,
or other liability obligations and/or rights consistent with this
License. However, in accepting such obligations, You may act only
on Your own behalf and on Your sole responsibility, not on behalf
of any other Contributor, and only if You agree to indemnify,
defend, and hold each Contributor harmless for any liability
incurred by, or claims asserted against, such Contributor by reason
of your accepting any such warranty or additional liability.
END OF TERMS AND CONDITIONS
APPENDIX: How to apply the Apache License to your work.
To apply the Apache License to your work, attach the following
boilerplate notice, with the fields enclosed by brackets "[]"
replaced with your own identifying information. (Don't include
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
at io.moquette.broker.subscriptions.CTrie.recursiveMatch(CTrie.java:86)
at io.moquette.broker.subscriptions.CTrie.recursiveMatch(CTrie.java:86)
at io.moquette.broker.subscriptions.CTrie.recursiveMatch(CTrie.java:65)
at io.moquette.broker.subscriptions.CTrieSubscriptionDirectory.matchWithoutQosSharpening(CTrieSubscriptionDirectory.java:67)
at io.moquette.broker.subscriptions.CTrieSubscriptionDirectory.matchQosSharpening(CTrieSubscriptionDirectory.java:72)
at io.moquette.broker.PostOfficeImpl.publish2Subscribers(PostOfficeImpl.java:226)
at io.moquette.broker.PostOfficeImpl.internalPublish(PostOfficeImpl.java:304)
I checked the subscription tree trace log.
subscription tree root
|-level1
| |-level2
| | |-''TNode
| | |-''TNode
| | |-''TNode
When the exception occured, the subscription suddenly changed from CNode to TNode.
I added log to check Node type and token value in CTrie.java
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
How one port supports both unidirectional and two-way certificate authentication for TLS
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Subscription storage
#482
Open
BigGitWorld opened this issue
Jun 12, 2019
· 0 comments
Open
Minimal yet complete reproducer code (or URL to code) or complete log file
Here is sample code
Run class NotClosingApplication.
Moquette MQTT version
Tested on version: 0.12.1
JVM version (e.g. java -version)
Tested with: 1.8_162, 11.0.1 and 13
OS version (e.g. uname -a)
Windows 10 and OSx 10.11.6
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Please file a request with more details, "bridging to a cloud broker" is not so clear to understand what you mean
I am sorry. So i am able to run broker in my android device. I am using for azure iot for remote access. I want to bridge between my android broker and azure iot.
Copy link
Collaborator
andsel
commented
Jan 17, 2020
You have to write some code to bridge it. Moquette exposes a set of
Interceptor callback interfaces, you can implement the one you are
interested in (for example a forwarder to Azure using some Azure HTTP
endpoint or whatever protocol Azure use) and register in you embedded
application.
…
On Fri, Jan 17, 2020 at 10:24 AM Amit Jaiswal ***@***.***> wrote:
Please file a request with more details, "bridging to a cloud broker" is
not so clear to understand what you mean
I am sorry. So i am able to run broker in my android device. I am using
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926)
at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:134)
at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644)
at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579)
at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496)
at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)
at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)
at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:138)
at java.lang.Thread.run(Thread.java:748)
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
2 Open
1 Closed
2 Open
1 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
public Boolean call() throws Exception {
try {
// use ServerInstance singleton to get the same instance of server
server = ServerInstance.getServerInstance();
server.startServer(config);
Log.d(TAG, "MQTT Broker Started");
return true;
} catch (Exception e) {
Log.e(TAG, e.getMessage());
throw new Exception(e.getLocalizedMessage());
}
}
}
Moquette MQTT version
latest
JVM version (e.g. java -version)
if(mavenWrapperPropertyFileInputStream != null) {
mavenWrapperPropertyFileInputStream.close();
}
} catch (IOException e) {
// Ignore ...
}
}
}
System.out.println("- Downloading from: " + url);
File outputFile = new File(baseDirectory.getAbsolutePath(), MAVEN_WRAPPER_JAR_PATH);
if(!outputFile.getParentFile().exists()) {
if(!outputFile.getParentFile().mkdirs()) {
System.out.println(
"- ERROR creating output directory '" + outputFile.getParentFile().getAbsolutePath() + "'");
opened Oct 11, 2019 by
ndchandar
2
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
ilylia
4
Reject
Save preferences
35 commits
to master
since this release
Dropped Hazelcast because at the moment Moquette is not designed to be clusterizable
Rewritten completly the broker to introduce the concept of MqttConnection
Dropped suppoert for MapDB and keeped only H2 MvStore for persistence
Assets
2
Source code (zip)
Source code (tar.gz)
v0.11
0bf35a7
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
hylkevds
Buffering settings to reduce latency
#527
opened May 8, 2020 by
impliedx
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
mjacoby
queue is full
#521
opened Mar 28, 2020 by
arifainchtein
java.lang.NoSuchMethodError: No static method encodeHexString([B)Ljava/lang/String; in class Lorg/apache/commons/codec/binary/Hex; or its super classes
} catch (Throwable e) {
System.out.println("- Error downloading");
e.printStackTrace();
System.exit(1);
}
}
private static void downloadFileFromURL(String urlString, File destination) throws Exception {
if (System.getenv("MVNW_USERNAME") != null && System.getenv("MVNW_PASSWORD") != null) {
String username = System.getenv("MVNW_USERNAME");
char[] password = System.getenv("MVNW_PASSWORD").toCharArray();
Authenticator.setDefault(new Authenticator() {
@Override
protected PasswordAuthentication getPasswordAuthentication() {
the brackets!) The text should be enclosed in the appropriate
comment syntax for the file format. We also recommend that a
file or class name and description of purpose be included on the
same "printed page" as the copyright notice for easier
identification within third-party archives.
Copyright [yyyy] [name of copyright owner]
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
CTrie.java(62line) cnode = io.moquette.broker.subscriptions.TNode@1f, token = FirstTest.7
CTrie.java(63line) cnode.token = null
Caused by: java.lang.NullPointerException: null
at io.moquette.broker.subscriptions.CTrie.evaluate(CTrie.java:58)
at io.moquette.broker.subscriptions.CTrie.recursiveMatch(CTrie.java:70
java -version
openjdk version "1.8.0_212"
OpenJDK Runtime Environment (Zulu 8.38.0.13-CA-linux64) (build 1.8.0_212-b04)
OpenJDK 64-Bit Server VM (Zulu 8.38.0.13-CA-linux64) (build 25.212-b04, mixed mode)
cat /etc/os-release
NAME="Red Hat Enterprise Linux Server"
VERSION="7.5 (Maipo)"
Is there any way to solve this situation?
Copy link
Author
JinseonyLee
#491
Open
cnneillee opened this issue
Jul 30, 2019
· 0 comments
Open
How one port supports both unidirectional and two-way certificate authentication for TLS
#491
cnneillee opened this issue
Jul 30, 2019
· 0 comments
Comments
Copy link
Quote reply
cnneillee
commented
Jul 30, 2019
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Issues · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf by komamitsu · Pull Request #464 · moquette-io/moquette · GitHub
Make the number of Netty worker threads number configurable by komamitsu · Pull Request #468 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
to your account
Clear current search query, filters, and sorts
1 Open
5 Closed
1 Open
5 Closed
Author
Filter by author
Subscription storage
#482
BigGitWorld opened this issue
Jun 12, 2019
· 0 comments
Comments
Copy link
Quote reply
BigGitWorld
commented
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
for azure iot for remote access. I want to bridge between my android broker
and azure iot.
—
You are receiving this because you commented.
Reply to this email directly, view it on GitHub
<#513?email_source=notifications&email_token=AAH5RUKNMO4ZMQSG3XPDDNLQ6F2OHA5CNFSM4KIDNQKKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJHB7WQ#issuecomment-575545306>,
or unsubscribe
<https://github.com/notifications/unsubscribe-auth/AAH5RUMNBGPURCWKGD2UKLTQ6F2OHANCNFSM4KIDNQKA>
.
👍
1
Copy link
Author
carlsberg-stack
Moquette MQTT version
0.11
JVM version (e.g. java -version)
1.8.0_211
OS version (e.g. uname -a)
Win 10 Enterprise
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Sign in
to your account
Jump to bottom
Add Ping Request handling to the interceptors
#481
Open
djbr-david opened this issue
Jun 5, 2019
· 6 comments
Open
Add Ping Request handling to the interceptors
#481
djbr-david opened this issue
Jun 5, 2019
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
1.8
OS version (e.g. uname -a)
Android
Hey,
thanks for putting this great work online! I was wondering if someone ever tried to create a broker + cleint on the same (Android) device. My app has a moquette broker app which connects just fine and receives commands sent from a second cellphone. The brokers' debug output is reflecting the topic, but the second device (ESP32) is not receiving anything - even though it's subscribed to this topic. Do you have any idea?
The debug-output is this one:
12-17 18:11:34.839 9128-16229/in.dotworld.mqttserver I/System.out: 7468801 [nioEventLoopGroup-9-6] DEBUG io.moquette.server.netty.AutoFlushHandler - Flushing idle Netty channel. MqttClientId = AND1230206.
2019-12-17 18:11:34.840 9128-16229/in.dotworld.mqttserver I/System.out: 7468801 [nioEventLoopGroup-9-6] DEBUG io.moquette.server.netty.AutoFlushHandler - Flushing idle Netty channel. MqttClientId = AND1230206.
2019-12-17 18:11:34.861 9128-16229/in.dotworld.mqttserver I/System.out: 7468824 [nioEventLoopGroup-9-6] INFO messageLogger - C->B PUBLISH <AND1230206> to topics </S004/LAR01/RECM>
2019-12-17 18:11:34.862 9128-16229/in.dotworld.mqttserver I/System.out: 7468824 [nioEventLoopGroup-9-6] INFO messageLogger - C->B PUBLISH <AND1230206> to topics </S004/LAR01/RECM>
2019-12-17 18:11:34.862 9128-16229/in.dotworld.mqttserver I/System.out: 7468824 [nioEventLoopGroup-9-6] INFO messageLogger - C->B PUBLISH <AND1230206> to topics </S004/LAR01/RECM>
2019-12-17 18:11:34.865 9128-16229/in.dotworld.mqttserver I/System.out: 7468827 [nioEventLoopGroup-9-6] DEBUG io.moquette.server.netty.NettyMQTTHandler - Processing MQTT message, type: PUBLISH
2019-12-17 18:11:34.865 9128-16229/in.dotworld.mqttserver I/System.out: 7468827 [nioEventLoopGroup-9-6] DEBUG io.moquette.server.netty.NettyMQTTHandler - Processing MQTT message, type: PUBLISH
2019-12-17 18:11:34.866 9128-16229/in.dotworld.mqttserver I/System.out: 7468827 [nioEventLoopGroup-9-6] DEBUG io.moquette.server.netty.NettyMQTTHandler - Processing MQTT message, type: PUBLISH
}
}
System.out.println("- Downloading to: " + outputFile.getAbsolutePath());
try {
downloadFileFromURL(url, outputFile);
System.out.println("Done");
System.exit(0);
} catch (Throwable e) {
System.out.println("- Error downloading");
e.printStackTrace();
System.exit(1);
}
}
private static void downloadFileFromURL(String urlString, File destination) throws Exception {
if (System.getenv("MVNW_USERNAME") != null && System.getenv("MVNW_PASSWORD") != null) {
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
4
ProTip!
Updated in the last three days: updated:>2020-11-08.
© 2020 GitHub, Inc.
Terms
Privacy
Compare
Choose a tag to compare
Search for a tag
Release v0.11
v0.11
0bf35a7
Compare
Choose a tag to compare
Search for a tag
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
andsel
#518
opened Feb 27, 2020 by
carlsberg-stack
BUG - null Session in subscribe procedure
#517
opened Feb 14, 2020 by
BigGitWorld
Question: disconnecting a client when authentication details removed
#516
opened Jan 23, 2020 by
MattyyttaM
Bridging to a cloud broker [Microsoft Azure -- IOT Hub] ?
#513
return new PasswordAuthentication(username, password);
}
});
}
URL website = new URL(urlString);
ReadableByteChannel rbc;
rbc = Channels.newChannel(website.openStream());
FileOutputStream fos = new FileOutputStream(destination);
fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);
fos.close();
rbc.close();
}
}
BIN
+49.5 KB
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
commented
Dec 10, 2019
I found a solution.
In performance test, it is processed in Tnode format in CTrie.java's recursiveMatch methods.
NullPointerException is not thrown if the source is changed as follows:
It just changes the order of processing.
Before
CNode cnode = inode.mainNode();
NavigationAction action = evaluate(topic, cnode);
if (action == NavigationAction.MATCH) {
return cnode.subscriptions;
}
if (action == NavigationAction.STOP) {
return Collections.emptySet();
}
if (cnode instanceof TNode) {
return Collections.emptySet();
Hello
I have a question
How one port supports both unidirectional and two-way certificate authentication for TLS？
thank you!
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
159
Star
1.7k
Fork
670
Code
Issues
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Fork
670
Code
Issues
63
Pull requests
Wiki
Security
Insights
Dismiss
Be notified of new releases
Create your free GitHub account today to subscribe to this repository for new releases and build software alongside 50 million developers.
Sign up
Releases
Tags
Feb 3, 2016
v0.8.1
…
Version 0.8.1 with bugfixes on clean session
Feb 3, 2016
5e680b6
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
license is missing in artifact · Issue #492 · moquette-io/moquette · GitHub
Jun 12, 2019
Where is moquette saving list of subscriptions?
I want to keep list of subscriptions when the moquette server is restarted.
Moquette MQTT version
Latest version
JVM version (e.g. java -version)
java 1.8
OS version (e.g. uname -a)
Linux Ubuntu 16.04
Sign up for free
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
commented
Jan 17, 2020
You have to write some code to bridge it. Moquette exposes a set of Interceptor callback interfaces, you can implement the one you are interested in (for example a forwarder to Azure using some Azure HTTP endpoint or whatever protocol Azure use) and register in you embedded application.
…
On Fri, Jan 17, 2020 at 10:24 AM Amit Jaiswal @.***> wrote: Please file a request with more details, "bridging to a cloud broker" is not so clear to understand what you mean I am sorry. So i am able to run broker in my android device. I am using for azure iot for remote access. I want to bridge between my android broker and azure iot. — You are receiving this because you commented. Reply to this email directly, view it on GitHub <#513?email_source=notifications&email_token=AAH5RUKNMO4ZMQSG3XPDDNLQ6F2OHA5CNFSM4KIDNQKKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJHB7WQ#issuecomment-575545306>, or unsubscribe https://github.com/notifications/unsubscribe-auth/AAH5RUMNBGPURCWKGD2UKLTQ6F2OHANCNFSM4KIDNQKA .
Thanks
carlsberg-stack
closed this
Jan 17, 2020
Copy link
Author
carlsberg-stack
commented
Jan 20, 2020
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
v0.9
4162aae
Compare
Choose a tag to compare
Search for a tag
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
· 6 comments
Comments
Copy link
Quote reply
djbr-david
commented
Jun 5, 2019
•
edited
Expected behavior
Ping Request messages should be notified using the Interceptor interface. This is useful for monitoring client status.
Actual behavior
Currently Ping Requests are handled without any notification
Steps to reproduce
Feature request
Minimal yet complete reproducer code (or URL to code) or complete log file
🚀
👀
NullPointerException in CTrie.evaluate
#529
opened May 13, 2020 by
hylkevds
1
3
Publish javadoc & sources of 0.13
#528
opened May 13, 2020 by
hylkevds
ProTip!
Exclude everything labeled bug with -label:bug.
© 2020 GitHub, Inc.
2019-12-17 18:11:34.867 9128-16229/in.dotworld.mqttserver I/System.out: 7468830 [nioEventLoopGroup-9-6] INFO io.moquette.spi.impl.ProtocolProcessor - Processing PUBLISH message. CId=AND1230206, topic=/S004/LAR01/RECM, messageId=3, qos=AT_LEAST_ONCE
2019-12-17 18:11:34.868 9128-16229/in.dotworld.mqttserver I/System.out: 7468830 [nioEventLoopGroup-9-6] INFO io.moquette.spi.impl.ProtocolProcessor - Processing PUBLISH message. CId=AND1230206, topic=/S004/LAR01/RECM, messageId=3, qos=AT_LEAST_ONCE
2019-12-17 18:11:34.868 9128-16229/in.dotworld.mqttserver I/System.out: 7468830 [nioEventLoopGroup-9-6] INFO io.moquette.spi.impl.ProtocolProcessor - Processing PUBLISH message. CId=AND1230206, topic=/S004/LAR01/RECM, messageId=3, qos=AT_LEAST_ONCE
2019-12-17 18:11:34.870 9128-16229/in.dotworld.mqttserver I/System.out: 7468833 [nioEventLoopGroup-9-6] INFO io.moquette.spi.impl.MessagesPublisher - Sending publish message to subscribers. ClientId=AND1230206, topic=/S004/LAR01/RECM, messageId=3
2019-12-17 18:11:34.871 9128-16229/in.dotworld.mqttserver I/System.out: 7468833 [nioEventLoopGroup-9-6] INFO io.moquette.spi.impl.MessagesPublisher - Sending publish message to subscribers. ClientId=AND1230206, topic=/S004/LAR01/RECM, messageId=3
2019-12-17 18:11:34.872 9128-16229/in.dotworld.mqttserver I/System.out: 7468833 [nioEventLoopGroup-9-6] INFO io.moquette.spi.impl.MessagesPublisher - Sending publish message to subscribers. ClientId=AND1230206, topic=/S004/LAR01/RECM, messageId=3
2019-12-17 18:11:34.875 9128-16229/in.dotworld.mqttserver I/System.out: 7468838 [nioEventLoopGroup-9-6] INFO io.moquette.spi.impl.Qos1PublishHandler - Sending PUBACK message CId=<AND1230206>
2019-12-17 18:11:34.875 9128-16229/in.dotworld.mqttserver I/System.out: 7468838 [nioEventLoopGroup-9-6] INFO io.moquette.spi.impl.Qos1PublishHandler - Sending PUBACK message CId=<AND1230206>
2019-12-17 18:11:34.876 9128-16229/in.dotworld.mqttserver I/System.out: 7468838 [nioEventLoopGroup-9-6] INFO io.moquette.spi.impl.Qos1PublishHandler - Sending PUBACK message CId=<AND1230206>
2019-12-17 18:11:34.877 9128-16229/in.dotworld.mqttserver I/System.out: 7468840 [nioEventLoopGroup-9-6] INFO messageLogger - C<-B PUBACK <AND1230206> packetID <3>
2019-12-17 18:11:34.877 9128-16229/in.dotworld.mqttserver I/System.out: 7468840 [nioEventLoopGroup-9-6] INFO messageLogger - C<-B PUBACK <AND1230206> packetID <3>
2019-12-17 18:11:34.878 9128-16229/in.dotworld.mqttserver I/System.out: 7468840 [nioEventLoopGroup-9-6] INFO messageLogger - C<-B PUBACK <AND1230206> packetID <3>
2019-12-17 18:11:34.966 9128-15058/in.dotworld.mqttserver I/System.out: 7468929 [nioEventLoopGroup-9-1] DEBUG io.moquette.server.netty.AutoFlushHandler - Flushing idle Netty channel. MqttClientId = myesp.
Any idea? Both devices are visible, but it seems, that the ESP32 is not subscribing to anything,, am I right?
Cheers and thanks for putting this up! :)
Copy link
String username = System.getenv("MVNW_USERNAME");
char[] password = System.getenv("MVNW_PASSWORD").toCharArray();
Authenticator.setDefault(new Authenticator() {
@Override
protected PasswordAuthentication getPasswordAuthentication() {
return new PasswordAuthentication(username, password);
}
});
}
URL website = new URL(urlString);
ReadableByteChannel rbc;
rbc = Channels.newChannel(website.openStream());
FileOutputStream fos = new FileOutputStream(destination);
fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);
fos.close();
rbc.close();
}
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
released this
Jun 10, 2018
·
87 commits
to master
since this release
Updated readme for version 0.11
Assets
2
Source code (zip)
Source code (tar.gz)
Aug 26, 2017
second_try_with_osgi_giveup
…
Abandon OSGi for the second time in the project history
Aug 26, 2017
opened Jan 17, 2020 by
carlsberg-stack
5
Moquette shows topics, but subscribers won't receive anything - Subscription missing?
#510
opened Dec 18, 2019 by
beniroquai
1
Will it be compatible with Graalvm in the future?
#509
opened Dec 12, 2019 by
coolbeevip
Moquette & 2-way SSL authentication
#508
opened Nov 25, 2019 by
lukaszsoszynski
.mvn/wrapper/maven-wrapper.jar
Show comments
View file
Edit file
Delete file
Binary file not shown.
2
.mvn/wrapper/maven-wrapper.properties
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,2 @@
distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.6.2/apache-maven-3.6.2-bin.zip
wrapperUrl=https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
}
TO-BE
CNode cnode = inode.mainNode();
if (cnode instanceof TNode) {
return Collections.emptySet();
}
NavigationAction action = evaluate(topic, cnode);
if (action == NavigationAction.MATCH) {
return cnode.subscriptions;
}
if (action == NavigationAction.STOP) {
return Collections.emptySet();
}
hylkevds
mentioned this issue
May 25, 2020
NullPointerException in CTrie.evaluate
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Buffering settings to reduce latency
🎉
😕
❤️
🚀
👀
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
mjacoby
ProTip!
Exclude everything labeled bug with -label:bug.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Bumped dev cycle for 0.10
Loading branch information
andsel
committed
Jan 11, 2017
1 parent
4162aae
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
before_sofia2
a7b8c07
Compare
Choose a tag to compare
Search for a tag
before_sofia2
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
zip
tar.gz
Jan 17, 2016
v0.8
…
Release 0.8 drop LMAX RingBuffer for in/out queues and use of multith…
…reading on Protocol Processor instead of single thread
Jan 17, 2016
a44d6b0
zip
tar.gz
Sep 29, 2015
last_with_ringbuffer
…
Last version with LMAX ringbuffer
Sep 29, 2015
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
queue is full
#521
opened Mar 28, 2020 by
arifainchtein
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
You have to write some code to bridge it. Moquette exposes a set of Interceptor callback interfaces, you can implement the one you are interested in (for example a forwarder to Azure using some Azure HTTP endpoint or whatever protocol Azure use) and register in you embedded application.
…
On Fri, Jan 17, 2020 at 10:24 AM Amit Jaiswal @.***> wrote: Please file a request with more details, "bridging to a cloud broker" is not so clear to understand what you mean I am sorry. So i am able to run broker in my android device. I am using for azure iot for remote access. I want to bridge between my android broker and azure iot. — You are receiving this because you commented. Reply to this email directly, view it on GitHub <#513?email_source=notifications&email_token=AAH5RUKNMO4ZMQSG3XPDDNLQ6F2OHA5CNFSM4KIDNQKKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEJHB7WQ#issuecomment-575545306>, or unsubscribe https://github.com/notifications/unsubscribe-auth/AAH5RUMNBGPURCWKGD2UKLTQ6F2OHANCNFSM4KIDNQKA .
Using Interceptor we can only send data to remote. What about to receive messages from remote? I have seen some blogs but there is no configuration here [https://aws.amazon.com/blogs/iot/how-to-bridge-mosquitto-mqtt-broker-to-aws-iot/]
carlsberg-stack
reopened this
Jan 20, 2020
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
0.9
v0.9
4162aae
Compare
Choose a tag to compare
Search for a tag
andsel
released this
Jan 11, 2017
·
385 commits
to master
since this release
Move the protocol processing to concurrent FSM.
Fixes for tests
Assets
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
N/A
Moquette MQTT version
0.12.1
JVM version (e.g. java -version)
Any
OS version (e.g. uname -a)
Any
Copy link
Collaborator
andsel
commented
Jun 7, 2019
Hi, why ping requests should be notified with interceptors, which is the
use case for an application that embed Moquette to know each ping from
every connected client?
Il mer 5 giu 2019, 13:23 David Brooks <notifications@github.com> ha scritto:
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Author
beniroquai
commented
Jan 2, 2020
The problem is here. The "join" method is not implemented for some reason. I changed
this.topic = String.join("/", strTokens); to this.topic = "/"+strTokens;
This worked for me.
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
c367100
zip
tar.gz
Aug 24, 2017
last_with_maven
…
Last version with maven build system
Aug 24, 2017
7c4f902
zip
tar.gz
v0.10
0480260
Compare
Choose a tag to compare
Search for a tag
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
Subscription breaks during performance test
#505
opened Oct 4, 2019 by
JinseonyLee
1
Connection dropped when publishing message with payload greater 8KB.
#503
opened Aug 30, 2019 by
r-t-s
MQTT SSL not working
#499
11
.travis.yml
Show comments
View file
Edit file
Delete file
@@ -1,13 +1,6 @@
language: java
jdk:
- openjdk12
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
directories:
- $HOME/.gradle/caches/
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
#529
Open
hylkevds
added a commit
to hylkevds/moquette
that referenced
this issue
Aug 13, 2020
Fixes moquette-io#529, moquette-io#505: NPE caused by matching on a T…
…
9c1c2ff
…Node
hylkevds
added a commit
to hylkevds/moquette
that referenced
this issue
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
#527
opened May 8, 2020 by
impliedx
1
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
commit a7b8c07d1aa683236ef827b0d3d4141ec96e33ec
Unified
Split
Showing
11 changed files
with
13 additions
and 10 deletions.
+3
−0
ChangeLog.txt
+1
−1
before_sofia2
a7b8c07
Compare
Choose a tag to compare
Search for a tag
andsel
tagged this
Jan 18, 2017
·
384 commits
to master
since this tag
Before contribution from Sofia2 improvements
Assets
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Permalink
Browse files
Loading status checks…
Bumped version 0.9
Loading branch information
andsel
committed
Jan 11, 2017
1 parent
ac8a11f
commit 4162aae3a0a4e697e49983858afacb2fe1f60af5
Unified
Split
Showing
10 changed files
with
b716927
zip
tar.gz
Jul 8, 2015
0.7
…
Version 0.7 MapDB migration
Jul 8, 2015
f0a8346
zip
tar.gz
Apr 6, 2015
last_osgi
…
Last try with OSGi and pax-runners, too complex and time burners to use
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
ProTip!
What’s not been updated in a month: updated:<2020-10-11.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Save preferences
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
2 participants
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
👀
Potential Bug in NextPacketID
bug
#237
opened Nov 29, 2016 by
peacecoder
processConnectionLost miss to remove the subscriptions of the client
question
#236
opened Nov 18, 2016 by
shuzhongling
1
republishing messages fails....
bug
#234
…
Expected behavior
Ping Request messages should be notified using the Interceptor interface
Actual behavior
Currently Ping Requests are handled without any notification
Steps to reproduce
Feature request
Minimal yet complete reproducer code (or URL to code) or complete log file
N/A
Moquette MQTT version
0.12.1
JVM version (e.g. java -version)
Any
OS version (e.g. uname -a)
Any
—
You are receiving this because you are subscribed to this thread.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Release v0.10
v0.10
0480260
Compare
Choose a tag to compare
Search for a tag
andsel
released this
Jun 30, 2017
·
143 commits
to master
opened Aug 20, 2019 by
francesco98
1
license is missing in artifact
#492
opened Jul 30, 2019 by
ascheman
How one port supports both unidirectional and two-way certificate authentication for TLS
#491
opened Jul 30, 2019 by
cnneillee
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
- $HOME/.gradle/wrapper/
script:
- ./gradlew install test
#script:
# - ./mvnw verify
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 17f2c93
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Aug 13, 2020
Fixes moquette-io#529, moquette-io#505: NPE caused by matching on a T…
…
72a21ef
…Node
hylkevds
mentioned this issue
Aug 13, 2020
Fixes #529, #505: NPE caused by matching on a TNode
#532
Open
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Learn more
Accept
Reject
Save preferences
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
ProTip!
Adding no:label will show everything without a label.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
Subscription breaks during performance test
#505
opened Oct 4, 2019 by
JinseonyLee
1
ProTip!
Follow long discussions with comments:>50.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
👀
Question: disconnecting a client when authentication details removed
#516
opened Jan 23, 2020 by
MattyyttaM
ProTip!
Adding no:label will show everything without a label.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
README.md
+1
−1
broker/pom.xml
+1
−1
broker/src/main/java/io/moquette/server/Server.java
+1
−1
distribution/pom.xml
+1
−1
embedding_moquette/pom.xml
+1
−1
netty_parser/pom.xml
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Wiki
Security
Insights
Releases
Tags
v0.10
0480260
Compare
Choose a tag to compare
Search for a tag
Release v0.10
v0.10
0480260
Compare
Choose a tag to compare
Search for a tag
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Bumped release 0.10
Loading branch information
andsel
committed
Jun 27, 2017
1 parent
ae9c6c7
commit 0480260a567a4e5317acb441b7d35988df4a687f
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Merge pull request #350 from AndreasMager/test_setup_improvement
Test setup improvement
Loading branch information
andsel
committed
Aug 24, 2017
2 parents
dbd1310
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Actions
Projects
Wiki
Security
Insights
Releases
Tags
last_with_maven
7c4f902
Compare
Choose a tag to compare
Search for a tag
last_with_maven
last_with_maven
7c4f902
Compare
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Merge pull request #345 from AndreasMager/gradle
Switched build from Maven to Gradle
Loading branch information
andsel
Sign in
to your account
Jump to bottom
Error processing protocol message: PUBACK
#483
Open
Demitrius opened this issue
Jun 13, 2019
· 0 comments
Open
Error processing protocol message: PUBACK
#483
Demitrius opened this issue
Jun 13, 2019
· 0 comments
Comments
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Moquette & 2-way SSL authentication
#508
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
10 additions
and 10 deletions.
+1
−1
README.md
+1
−1
broker/pom.xml
+1
−1
broker/src/main/java/io/moquette/server/Server.java
+1
−1
distribution/pom.xml
+1
−1
Apr 6, 2015
d850262
zip
tar.gz
PreviousNext
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Plans to support MQTT 5?
#490
Open
mpe85 opened this issue
Jul 23, 2019
· 6 comments
Open
Plans to support MQTT 5?
#490
mpe85 opened this issue
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
opened Nov 17, 2016 by
windbender
7
checkHeaderAvailability don't check max remaininglength
#217
opened Oct 12, 2016 by
beyondfengyu
1
when protocol processor is inited with ssl port the word "disabled" is used to indicate the server name
#209
opened Sep 15, 2016 by
windbender
Intermittent concurrentModificationExceptions
bug
#208
Reply to this email directly, view it on GitHub
<#481?email_source=notifications&email_token=AAH5RUNUSONGCDO5AHH4MTDPY6O4JA5CNFSM4HTVVFCKYY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4GXX2EOQ>,
or mute the thread
<https://github.com/notifications/unsubscribe-auth/AAH5RUPXSIN4F4QXRY66WUTPY6O4JANCNFSM4HTVVFCA>
.
Copy link
Author
djbr-david
commented
Jun 7, 2019
Hi. The use case is purely from an Application Support view. Operationally these messages don’t do anything, but support teams like to see this sort of thing as confirmation that the client is still connected, still sending data and isn’t in some zombie state. In our app we have a status page for the broker showing the latest messages received and knowing pingreq is still happening is a useful feature for the support team
Copy link
Collaborator
andsel
commented
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
since this release
Release 0.10
Assets
2
Source code (zip)
Source code (tar.gz)
Jan 18, 2017
before_sofia2
…
Before contribution from Sofia2 improvements
Jan 18, 2017
a7b8c07
zip
tar.gz
v0.9
mpe85
6
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
Subscription storage
#482
opened Jun 12, 2019 by
BigGitWorld
Add Ping Request handling to the interceptors
#481
opened Jun 5, 2019 by
djbr-david
6
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Add Ping Request handling to the interceptors
+1
−1
osgi_test/pom.xml
+1
−1
perf/pom.xml
+1
−1
pom.xml
+1
−1
tools_scripts/integration/brokerEmbeddedTest.groovy
3
ChangeLog.txt
Show comments
View file
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
andsel
released this
Jun 30, 2017
·
143 commits
to master
since this release
Release 0.10
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Unified
Split
Showing
11 changed files
with
14 additions
and 14 deletions.
+3
−3
README.md
+1
−1
broker/pom.xml
+1
−1
broker/src/main/java/io/moquette/server/Server.java
+1
+
4d59a54
commit 7c4f902dbd20e398f734501426cdd2ec22df6d2c
Unified
Split
Showing
9 changed files
with
175 additions
and 20 deletions.
+1
−1
.gitignore
+28
−0
broker/pom.xml
+11
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Choose a tag to compare
Search for a tag
andsel
tagged this
Aug 24, 2017
·
122 commits
to master
since this tag
Last version with maven build system
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
committed
Aug 24, 2017
2 parents
7c4f902
+
e8b105f
commit c367100e6b34908a8cf9b644013133e94abdc4d8
Unified
Split
Showing
31 changed files
with
699 additions
and 1,316 deletions.
+3
−0
.editorconfig
Copy link
Quote reply
Demitrius
commented
Jun 13, 2019
Expected behavior
Moquette works without exceptions when receive many (1000 for example) messages
Actual behavior
Many exceptions when client (javascript Paho) send 1000 messages in loop.
Some first (300-400 messages) was processed normal, but then exceptions.
Steps to reproduce
Run Moquette.
Run javacript code in browser (Paho lib required)
Part of code:
opened Nov 25, 2019 by
lukaszsoszynski
ProTip!
Mix and match filters to narrow down what you’re looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
Releases
Tags
second_try_with_osgi_giveup
c367100
Compare
Choose a tag to compare
Search for a tag
second_try_with_osgi_giveup
second_try_with_osgi_giveup
c367100
Compare
Choose a tag to compare
Search for a tag
andsel
tagged this
Aug 26, 2017
embedding_moquette/pom.xml
+1
−1
netty_parser/pom.xml
+1
−1
osgi_test/pom.xml
+1
−1
perf/pom.xml
+1
−1
pom.xml
+1
−1
tools_scripts/integration/brokerEmbeddedTest.groovy
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
🎉
😕
❤️
🚀
👀
Significant (>90%) message loss under heavy load
#480
opened Jun 5, 2019 by
flonix8
2
NullPointerException.I think is a bug
#473
opened Apr 22, 2019 by
liuhanjim
3
How to forcefully disconnect the client from the broker?
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Save preferences
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Jul 23, 2019
· 6 comments
Comments
Copy link
Quote reply
mpe85
commented
Jul 23, 2019
Are there any plans to support the latest specification version 5?
Copy link
Collaborator
andsel
commented
Jul 23, 2019
Yes
I'm working on it, in my spare time.
Learn more
Accept
Reject
Save preferences
opened Sep 14, 2016 by
kjayashankar
1
Server API to get subscriptions information
feature req
#207
opened Sep 14, 2016 by
teranisi
3
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
stayclean
1
Authentication interface should return Optional< Principal>
Jun 8, 2019
Hi @djbr-david I understand you requirements, we could have 2 solutions, in my opinion:
make the interceptors aware of the ping from client, but in a configurable manner, with a configuration property to switch on startup.
notify only when a client is not anymore alive which means connection closed or failed ping
Personally i prefer the second one, because the broker doesn't flood too much notification to the interceptors.
Would you like to provide an PR with this? In case remember to cover it with unit tests
Copy link
Author
djbr-david
commented
Jul 1, 2019
Hi - apologies for not replying earlier, I didn't see your second message until just now. I'll take a look at adding both options to the project to provide the most flexibility.
Copy link
Author
djbr-david
commented
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
4162aae
Compare
Choose a tag to compare
Search for a tag
0.9
v0.9
4162aae
Compare
Choose a tag to compare
Search for a tag
andsel
released this
Previous 1 2 3 Next
Previous Next
ProTip!
Mix and match filters to narrow down what you’re looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
#481
opened Jun 5, 2019 by
djbr-david
6
ProTip!
What’s not been updated in a month: updated:<2020-10-11.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Edit file
Delete file
@@ -1,3 +1,6 @@
Version 0.10:
Version 0.9:
Moved canRead check to topic from publish phase to subscribe (#144)
Added javadoc and src jars creations for JCenter/Maven central
2
README.md
Show comments
View file
Edit file
Delete file
Reject
Save preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
−1
distribution/pom.xml
+1
−1
embedding_moquette/pom.xml
+1
−1
h2_storage/pom.xml
+1
−1
mapdb_storage/pom.xml
+1
−1
osgi_test/pom.xml
+1
−0
broker/src/test/java/io/moquette/server/ServerIntegrationSSLClientAuthTest.java
+12
−0
broker/src/test/java/io/moquette/server/ServerIntegrationSSLTest.java
+18
−11
broker/src/test/java/io/moquette/server/ServerLowlevelMessagesIntegrationTests.java
+5
−0
osgi_test/README.md
+31
−0
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
+3
−1
.gitignore
+10
−0
.travis.yml
+3
−2
README.md
+51
−0
broker/build.gradle
+0
−282
broker/pom.xml
var mqtt_client = new Paho.MQTT.Client(host, Number(port), "/mqtt", device_guid);
// loop
for (var iii =0; iii < 1000; iii++) mqtt_client.send(device_guid, 'Hello Test #'+iii, 1, false);
Minimal yet complete reproducer code (or URL to code) or complete log file
Log with exception attached
mqtt-log.log
Moquette MQTT version
version 0.13-SNAPSHOT
JVM version (e.g. java -version)
openjdk version "11.0.3" 2019-04-16 LTS
OpenJDK Runtime Environment 18.9 (build 11.0.3+7-LTS)
OpenJDK 64-Bit Server VM 18.9 (build 11.0.3+7-LTS, mixed mode, sharing)
OS version (e.g. uname -a)
Linux dev.cwt.local 4.1.12-124.26.10.el7uek.x86_64 #2 SMP Fri Apr 19 18:00:11 PDT 2019 x86_64 x86_64 x86_64 GNU/Linux
Sign up for free
to join this conversation on GitHub.
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
·
120 commits
to master
since this tag
Abandon OSGi for the second time in the project history
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
2
README.md
Show comments
View file
Edit file
Delete file
@@ -55,7 +55,7 @@ Include dependency in your project:
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
<version>0.8.1</version>
<version>0.9</version>
</dependency>
```
2
broker/pom.xml
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
#469
opened Apr 8, 2019 by
giri110890
9
Netty Leak Detection.
#467
opened Apr 4, 2019 by
kopens
1
failed to allocate 16777216 byte(s) of direct memory
#466
opened Apr 4, 2019 by
FengXMGeek
3
Deploy -javadoc and -source jars
#465
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Andrea
…
On Tue, Jul 23, 2019 at 8:57 AM mpe85 ***@***.***> wrote:
Are there any plans to support the latest specification version 5?
—
You are receiving this because you are subscribed to this thread.
Reply to this email directly, view it on GitHub
<#490?email_source=notifications&email_token=AAH5RULSU5MYI3ASVS4FETTQA2TWFA5CNFSM4IGAUTOKYY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4HA2ZNLQ>,
or mute the thread
<https://github.com/notifications/unsubscribe-auth/AAH5RULZOSLBDZAXBJOW673QA2TWFANCNFSM4IGAUTOA>
.
👍
1
🎉
1
Copy link
feature req
#176
opened May 6, 2016 by
windbender
2
Allow for multiple server side clients to share a topic with queue behavior...
feature req
#158
opened Mar 4, 2016 by
redboy1972
4
Avoid OutOfMemory error
feature req
#141
opened Jan 17, 2016 by
andsel
Jul 2, 2019
Thinking of option 2 again, isn't that already covered by the use of the onDisconnect and onConnectionLost interceptors?
Copy link
Collaborator
andsel
commented
Jul 2, 2019
Yes, you are right! good catch
…
On Tue, Jul 2, 2019 at 4:58 PM David Brooks ***@***.***> wrote:
Jan 11, 2017
·
385 commits
to master
since this release
Move the protocol processing to concurrent FSM.
Fixes for tests
Assets
2
Source code (zip)
Source code (tar.gz)
PreviousNext
© 2020 GitHub, Inc.
Terms
Privacy
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
@@ -55,7 +55,7 @@ Include dependency in your project:
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
<version>0.9</version>
<version>0.10-SNAPSHOT</version>
</dependency>
```
2
broker/pom.xml
Show comments
View file
Edit file
Delete file
@@ -6,7 +6,7 @@
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
−1
perf/pom.xml
+1
−1
pom.xml
+2
−2
tools_scripts/integration/brokerEmbeddedTest.groovy
6
README.md
Show comments
View file
Edit file
Delete file
osgi_test/pom.xml
+57
−8
osgi_test/src/test/java/io/moquette/test/osgi/MoquetteOsgiTest.java
+12
−0
osgi_test/src/test/resources/log4j.properties
2
.gitignore
Show comments
View file
Edit file
Delete file
@@ -18,7 +18,7 @@ broker/runner
/perf/target/
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Sign in
to your account
Jump to bottom
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
Open
komamitsu
wants to merge
2
commits into
moquette-io:master
base:
master
from
komamitsu:wrong-netty-buf-ref-cnt
Open
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Make the number of Netty worker threads number configurable
#468
Open
komamitsu
wants to merge
1
commit into
moquette-io:master
base:
master
from
treasure-data:netty-threads-num
+89
−0
build.gradle
+63
−0
distribution/build.gradle
+0
−80
distribution/pom.xml
+0
−57
distribution/src/main/assembly/assembly.xml
+5
−0
embedding_moquette/build.gradle
+0
−37
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Show comments
View file
Edit file
Delete file
@@ -6,7 +6,7 @@
<relativePath>../</relativePath>
opened Apr 1, 2019 by
joker1
distribute
#458
opened Mar 18, 2019 by
dqqzj
7
MQTT durable subscription exception
bug
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
0.13
1
InterceptAcknowledgedMessage.StoredMessage is inaccessible
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Author
mpe85
commented
Jul 23, 2019
Thats great to hear :-)
Thanks for the quick answer.
Copy link
Collaborator
andsel
commented
Jul 23, 2019
Your're welcome,
but the implementation will take time;-)
0.9
3
[FR]Moquette clusters
feature req
#131
opened Dec 11, 2015 by
pabloa
0.9
19
Retained message with QoS 0
#125
opened Nov 11, 2015 by
env3d
5
Previous 1 2 3 Next
Thinking of option 2 again, isn't that already covered by the use of the
onDisconnect and onConnectionLost interceptors?
—
You are receiving this because you commented.
Reply to this email directly, view it on GitHub
<#481?email_source=notifications&email_token=AAH5RULVP6SLZ3GDQVXXBT3P5NUINA5CNFSM4HTVVFCKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODZBR3QI#issuecomment-507715009>,
or mute the thread
<https://github.com/notifications/unsubscribe-auth/AAH5RULH77JBO23CXOPAHULP5NUINANCNFSM4HTVVFCA>
.
djbr-david
pushed a commit
to djbr-david/moquette
that referenced
this issue
Jul 2, 2019
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.9</version>
<version>0.10-SNAPSHOT</version>
</parent>
<artifactId>moquette-broker</artifactId>
2
broker/src/main/java/io/moquette/server/Server.java
Show comments
View file
Edit file
Delete file
@@ -68,7 +68,7 @@
public static void main(String[] args) throws IOException {
final Server server = new Server();
@@ -20,10 +20,10 @@ and into [WSO2 Messge broker] (http://techexplosives-pamod.blogspot.it/2014/05/m
Point your MQTT client to _broker.moquette.io_
## 1 minute set up
Start play with it, download the self distribution tar from [BinTray](https://bintray.com/artifact/download/andsel/generic/distribution-0.8-bundle-tar.tar.gz) ,
Start play with it, download the self distribution tar from [BinTray](https://bintray.com/artifact/download/andsel/generic/distribution-0.10-bundle-tar.tar.gz) ,
the un untar and start the broker listening on 1883 port and enjoy!
```
tar zxf distribution-0.8-bundle-tar.tar.gz
tar zxf distribution-0.10-bundle-tar.tar.gz
cd bin
./moquette.sh
```
@@ -58,7 +58,7 @@ Include dependency in your project:
<dependency>
/mapdb_storage/target/
*~
*log*
*.log*
.DS_Store
.settings/
.project
28
broker/pom.xml
Show comments
View file
Edit file
Delete file
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
#464
komamitsu
wants to merge
2
commits into
moquette-io:master
from
komamitsu:wrong-netty-buf-ref-cnt
Conversation
4
Commits
2
Checks
0
Files changed
Conversation
Copy link
Open
Make the number of Netty worker threads number configurable
#468
komamitsu
wants to merge
1
commit into
moquette-io:master
from
treasure-data:netty-threads-num
Conversation
1
Commits
1
embedding_moquette/pom.xml
+9
−0
gradle/java.gradle
+19
−0
gradle/lint.gradle
+62
−0
gradle/test.gradle
BIN
gradle/wrapper/gradle-wrapper.jar
+6
−0
gradle/wrapper/gradle-wrapper.properties
+164
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.9-SNAPSHOT</version>
<version>0.9</version>
</parent>
<artifactId>moquette-broker</artifactId>
2
broker/src/main/java/io/moquette/server/Server.java
Show comments
View file
Edit file
Delete file
@@ -68,7 +68,7 @@
public static void main(String[] args) throws IOException {
final Server server = new Server();
server.startServer();
#444
opened Jan 14, 2019 by
austinw-fineart
0.13
3
getSubscriptions() always return an Empty list
#438
opened Nov 19, 2018 by
abdollahpour
Publish Failed Acknowledgment
#433
opened Oct 22, 2018 by
BigGitWorld
Abnormal disconnection of the connection will result in InterceptHandler.onConnectionLost() called twice
#430
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
license is missing in artifact
#492
Open
ascheman opened this issue
Jul 30, 2019
· 0 comments
Open
license is missing in artifact
#492
Andrea
…
On Tue, Jul 23, 2019 at 9:06 AM mpe85 ***@***.***> wrote:
Thats great to hear :-)
Thanks for the quick answer.
—
You are receiving this because you commented.
Reply to this email directly, view it on GitHub
<#490?email_source=notifications&email_token=AAH5RUIY2SGOD3RP6TA2XALQA2UWTA5CNFSM4IGAUTOKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2SELWI#issuecomment-514082265>,
or mute the thread
<https://github.com/notifications/unsubscribe-auth/AAH5RUK5SNWNBPUWJOMKXLTQA2UWTANCNFSM4IGAUTOA>
.
Copy link
MuhammadMattiullah
Previous Next
ProTip!
Add no:assignee to see everything that’s not assigned.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
Issue moquette-io#481 - Moquette. Add Ping Request handling to the in…
…
eb2b64e
…terceptors
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
server.startServer();
System.out.println("Server started, version 0.9");
System.out.println("Server started, version 0.10-SNAPSHOT");
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread() {
@Override
2
distribution/pom.xml
Show comments
View file
Edit file
Delete file
@@ -6,7 +6,7 @@
<!--<relativePath>../pom.xml</relativePath>-->
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
<version>0.10-SNAPSHOT</version>
<version>0.10</version>
</dependency>
```
2
broker/pom.xml
Show comments
View file
Edit file
Delete file
@@ -5,7 +5,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
@@ -100,6 +100,12 @@
<version>5.1.0</version>
</dependency>
<dependency>
<groupId>com.librato.metrics</groupId>
<artifactId>librato-java</artifactId>
<version>2.1.0</version>
</dependency>
<dependency>
<groupId>com.bugsnag</groupId>
<artifactId>bugsnag</artifactId>
@@ -176,6 +182,13 @@
<scope>test</scope>
</dependency>
<dependency>
Issues · moquette-io/moquette · GitHub
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Pull requests · moquette-io/moquette · GitHub
Quote reply
Contributor
komamitsu
commented
Mar 31, 2019
I ran into this exception when Moquette was running with QoS1 under heavy load.
07:42:33.467 [nioEventLoopGroup-3-1] ERROR i.m.broker.NewNettyMQTTHandler - Unexpected exception while processing MQTT message. Closing Netty channel. CId=internal-client
io.netty.util.IllegalReferenceCountException: refCnt: 0, increment: 1
at io.netty.buffer.AbstractReferenceCountedByteBuf.retain0(AbstractReferenceCountedByteBuf.java:67)
at io.netty.buffer.AbstractReferenceCountedByteBuf.retain(AbstractReferenceCountedByteBuf.java:54)
at io.netty.buffer.AbstractPooledDerivedByteBuf.init(AbstractPooledDerivedByteBuf.java:59)
at io.netty.buffer.PooledDuplicatedByteBuf.newInstance(PooledDuplicatedByteBuf.java:43)
at io.netty.buffer.PooledDuplicatedByteBuf.retainedDuplicate(PooledDuplicatedByteBuf.java:102)
at io.moquette.broker.Session.resendInflightNotAcked(Session.java:297)
at io.moquette.broker.MQTTConnection.resendNotAckedPublishes(MQTTConnection.java:481)
Checks
0
Files changed
Conversation
Copy link
Quote reply
Contributor
komamitsu
commented
Apr 8, 2019
I noticed Moquette users can't configure the number of Netty worker threads in current Moquette. Increasing Netty worker threads number is important in our use case that handles a lot of MQTT requests.
This PR makes it configurable.
Add BrokerConstants.NETTY_WORKER_THREADS
Loading status checks…
48ccd40
komamitsu
−0
gradlew
+90
−0
gradlew.bat
+23
−0
h2_storage/build.gradle
+0
−129
h2_storage/pom.xml
+23
−0
mapdb_storage/build.gradle
+0
−129
Issues · moquette-io/moquette · GitHub
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
System.out.println("Server started, version 0.9-SNAPSHOT");
System.out.println("Server started, version 0.9");
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread() {
@Override
2
distribution/pom.xml
Show comments
View file
Edit file
Delete file
@@ -6,7 +6,7 @@
<!--<relativePath>../pom.xml</relativePath>-->
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.9-SNAPSHOT</version>
opened Sep 20, 2018 by
CoderBigL
ConcurrentModificationException while stress testing
invalid
#427
opened Aug 9, 2018 by
rakechan
2
In BytesMetrics wroteBytes always return 0
#425
opened Jul 27, 2018 by
mjpatelsls
1
ascheman opened this issue
Jul 30, 2019
· 0 comments
Comments
Copy link
Quote reply
ascheman
commented
Jul 30, 2019
Please add the license file to the released artifact.
This makes usage of the broker much easier when using license checkers like WhiteSource.
Sign up for free
to join this conversation on GitHub.
Already have an account?
commented
Sep 20, 2019
Hello Andsel, is it supporting mqtt v5 ?
Copy link
Collaborator
andsel
commented
Sep 20, 2019
Hi Muhammad
not at the moment, it's still work in progress.
Andrea
…
On Fri, Sep 20, 2019 at 1:48 PM Muhammad Mattiullah < ***@***.***> wrote:
Hello Andsel, is it supporting mqtt v5 ?
—
You are receiving this because you commented.
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
2 participants
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
<groupId>io.moquette</groupId>
<version>0.9</version>
<version>0.10-SNAPSHOT</version>
</parent>
<artifactId>distribution</artifactId>
2
embedding_moquette/pom.xml
Show comments
View file
Edit file
Delete file
@@ -5,7 +5,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.9</version>
<groupId>io.moquette</groupId>
<version>0.10-SNAPSHOT</version>
<version>0.10</version>
</parent>
<artifactId>moquette-broker</artifactId>
2
broker/src/main/java/io/moquette/server/Server.java
Show comments
View file
Edit file
Delete file
@@ -74,7 +74,7 @@
public static void main(String[] args) throws IOException {
final Server server = new Server();
server.startServer();
<groupId>org.awaitility</groupId>
<artifactId>awaitility</artifactId>
<version>3.0.0</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>com.h2database</groupId>
<artifactId>h2</artifactId>
@@ -241,6 +254,21 @@
</goals>
</execution>
</executions>
<configuration>
<instructions>
<Export-Package>
io.moquette.persistence,
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
👎
😄
🎉
😕
❤️
🚀
👀
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
mpe85
6
ProTip!
Exclude everything labeled bug with -label:bug.
© 2020 GitHub, Inc.
Terms
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
ProTip!
Find all open issues with in progress development work with linked:pr.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
at io.moquette.broker.NewNettyMQTTHandler.userEventTriggered(NewNettyMQTTHandler.java:106)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
force-pushed the
treasure-data:netty-threads-num
branch
from
c520b9f
to
48ccd40
Apr 8, 2019
Copy link
Quote reply
Collaborator
mapdb_storage/pom.xml
+1
−1
osgi_test/README.md
+22
−0
osgi_test/build.gradle
+0
−183
osgi_test/pom.xml
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
<version>0.9</version>
</parent>
<artifactId>distribution</artifactId>
2
embedding_moquette/pom.xml
Show comments
View file
Edit file
Delete file
@@ -5,7 +5,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.9-SNAPSHOT</version>
<version>0.9</version>
</parent>
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
zhengyangyong
3
The server throws an exception when the message is received
#406
opened Jun 4, 2018 by
ma-yadong
3
client can't reconnect to the broker once exception happened inner processSubscribe()
#388
opened Feb 6, 2018 by
fjcyue
6
Will Message lost if client reconnect before server clear the old connection
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Reply to this email directly, view it on GitHub
<#490?email_source=notifications&email_token=AAH5RUKESDF2GDSBPBPJWF3QKS2BZA5CNFSM4IGAUTOKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD7GOCYI#issuecomment-533520737>,
or mute the thread
<https://github.com/notifications/unsubscribe-auth/AAH5RUKZIRJYE5KAAFJKX23QKS2BZANCNFSM4IGAUTOA>
.
👍
1
🎉
1
Copy link
MuhammadMattiullah
commented
Sep 20, 2019
Thanks for the quick response.
Regards
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
<version>0.10-SNAPSHOT</version>
</parent>
<artifactId>moquette-embedded-test</artifactId>
2
netty_parser/pom.xml
Show comments
View file
Edit file
Delete file
@@ -6,7 +6,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.9</version>
<version>0.10-SNAPSHOT</version>
</parent>
System.out.println("Server started, version 0.10-SNAPSHOT");
System.out.println("Server started, version 0.10");
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread(server::stopServer));
}
2
distribution/pom.xml
Show comments
View file
Edit file
Delete file
@@ -6,7 +6,7 @@
<!--<relativePath>../pom.xml</relativePath>-->
io.moquette.server.config,
io.moquette.spi,
io.moquette.spi.impl.subscriptions,
</Export-Package>
<Embed-Dependency>
com.bugsnag;bugsnag,
com.librato.metrics;metrics-librato,
com.librato.metrics;librato-java,
</Embed-Dependency>
</instructions>
</configuration>
</plugin>
</plugins>
</build>
11
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
MQTT SSL not working · Issue #499 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.handler.codec.ByteToMessageDecoder.userEventTriggered(ByteToMessageDecoder.java:353)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
andsel
commented
Apr 8, 2019
This is not necessary. Netty used asunch IO an Moquette is essentially IO
bound so adding thread only adds threads that do IO waiting. The broker
starts and Co figure the number of threads equals to the number of cores -
1, let this configurable to put for example 1000 threads it's a no sense,
just adds weight to the scheduler and stole memory for each thread's stack.
Il lun 8 apr 2019, 07:24 Mitsunori Komatsu <notifications@github.com> ha
scritto:
…
+28
−38
osgi_test/src/test/java/io/moquette/test/osgi/MoquetteOsgiTest.java
+9
−0
perf/build.gradle
+0
−142
perf/pom.xml
+0
−235
pom.xml
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
<artifactId>moquette-embedded-test</artifactId>
2
netty_parser/pom.xml
Show comments
View file
Edit file
Delete file
@@ -6,7 +6,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
#366
opened Oct 22, 2017 by
fjcyue
1
1
cannot make a distinction between bad user and not authorized when connect
#359
opened Sep 5, 2017 by
rongwei84n
2
Netty Leak Detection
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
Learn more
Accept
Reject
Save preferences
<artifactId>moquette-netty-parser</artifactId>
2
osgi_test/pom.xml
Show comments
View file
Edit file
Delete file
@@ -5,7 +5,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.10-SNAPSHOT</version>
<version>0.10</version>
</parent>
<artifactId>distribution</artifactId>
2
embedding_moquette/pom.xml
Show comments
View file
Edit file
Delete file
broker/src/test/java/io/moquette/server/ServerIntegrationSSLClientAuthTest.java
Show comments
View file
Edit file
Delete file
@@ -40,6 +40,7 @@
import org.eclipse.paho.client.mqttv3.MqttException;
import org.eclipse.paho.client.mqttv3.persist.MqttDefaultFilePersistence;
import org.junit.After;
import org.junit.AfterClass;
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
Connection dropped when publishing message with payload greater 8KB. · Issue #503 · moquette-io/moquette · GitHub
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Release Release v0.11 · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
at io.moquette.broker.MoquetteIdleTimeoutHandler.userEventTriggered(MoquetteIdleTimeoutHandler.java:48)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
I noticed Moquette users can't configure the number of Netty worker
threads in current Moquette. Increasing Netty worker threads number is
important in our use case that handles a lot of MQTT requests.
This PR makes it configurable.
------------------------------
You can view, comment on, or merge this pull request online at:
#468
Commit Summary
- Add BrokerConstants.NETTY_WORKER_THREADS
File Changes
- *M* broker/src/main/java/io/moquette/BrokerConstants.java
<https://github.com/moquette-io/moquette/pull/468/files#diff-0> (1)
+16
−0
settings.gradle
3
.editorconfig
Show comments
View file
Edit file
Delete file
@@ -11,3 +11,6 @@ charset = utf-8
indent_style = space
indent_size = 4
max_line_length=120
[*.gradle]
Updated readme for version 0.11 · moquette-io/moquette@0bf35a7 · GitHub
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
<version>0.9-SNAPSHOT</version>
<version>0.9</version>
</parent>
<artifactId>moquette-netty-parser</artifactId>
2
osgi_test/pom.xml
Show comments
View file
Edit file
Delete file
@@ -5,7 +5,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.9-SNAPSHOT</version>
#356
opened Aug 31, 2017 by
somejavadev
1
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
edenmob
1
Message size >64kB is not handled via Websocket connection.
#319
opened May 25, 2017 by
raipratheek
1
if unchecked exception is throw while running processSubscription then remove() will never be called
#316
Clean test storage on exit to prevent assert in next test by qbast · Pull Request #497 · moquette-io/moquette · GitHub
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
3 participants
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
<groupId>io.moquette</groupId>
<version>0.9</version>
<version>0.10-SNAPSHOT</version>
</parent>
<artifactId>moquette-osgi-test</artifactId>
2
perf/pom.xml
Show comments
View file
Edit file
Delete file
@@ -6,7 +6,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
@@ -5,7 +5,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.10-SNAPSHOT</version>
<version>0.10</version>
</parent>
<artifactId>moquette-embedded-test</artifactId>
2
h2_storage/pom.xml
Show comments
View file
Edit file
Delete file
@@ -5,7 +5,7 @@
<relativePath>../</relativePath>
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;
@@ -113,11 +114,21 @@
IMqttClient m_client;
MessageCollector m_callback;
static String backup;
@BeforeClass
public static void beforeTests() {
String tmpDir = System.getProperty("java.io.tmpdir");
s_dataStore = new MqttDefaultFilePersistence(tmpDir);
backup = System.getProperty("moquette.path");
}
@AfterClass
public static void afterTests() {
if (backup == null)
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
fix trie match bug and bytesMetrics bug by ilylia · Pull Request #479 · moquette-io/moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.moquette.broker.InflightResender.resendNotAcked(InflightResender.java:160)
at io.moquette.broker.InflightResender.access$100(InflightResender.java:32)
at io.moquette.broker.InflightResender$WriterIdleTimeoutTask.run(InflightResender.java:58)
It looks like Session#resendInflightNotAcked() was triggered, but it dealt with a ByteBuf already freed. After this exception, the channel didn't work at all and I think this is a critical bug.
I reproduced this bug as ServerLowlevelMessagesIntegrationTests#testResendNotAckedPublishes and I tried fixing it somehow by retaining the duplicated buffer. It works so far.
komamitsu
added 2 commits
Mar 28, 2019
Add a test to reproduce the issue
00443e0
Fix a bug Session#resendInflightNotAcked() fails
…
Loading status checks…
- *M* broker/src/main/java/io/moquette/broker/NewNettyAcceptor.java
<https://github.com/moquette-io/moquette/pull/468/files#diff-1> (13)
Patch Links:
- https://github.com/moquette-io/moquette/pull/468.patch
- https://github.com/moquette-io/moquette/pull/468.diff
—
You are receiving this because you are subscribed to this thread.
Reply to this email directly, view it on GitHub
<#468>, or mute the thread
<https://github.com/notifications/unsubscribe-auth/AA_Y0dOkYC03U8T_1P3ARPjffNKz8uxPks5vetKKgaJpZM4chUpc>
.
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
indent_size = 2
4
.gitignore
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,5 @@
/build
*/build/
/target/
/parser/target/
/benchmarking/target/
@@ -31,7 +33,6 @@ broker/runner
.mtj.tmp/
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
<version>0.9</version>
</parent>
<artifactId>moquette-osgi-test</artifactId>
2
perf/pom.xml
Show comments
View file
Edit file
Delete file
@@ -6,7 +6,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.9-SNAPSHOT</version>
<version>0.9</version>
</parent>
opened May 19, 2017 by
windbender
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
ThomasSchemmer
3
Previous 1 2 3 Next
Previous Next
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
<groupId>io.moquette</groupId>
<version>0.9</version>
<version>0.10-SNAPSHOT</version>
</parent>
<artifactId>moquette-performance</artifactId>
2
pom.xml
Show comments
View file
Edit file
Delete file
@@ -14,7 +14,7 @@
<artifactId>moquette-parent</artifactId>
<packaging>pom</packaging>
<version>0.9</version>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.10-SNAPSHOT</version>
<version>0.10</version>
</parent>
<artifactId>moquette-h2-storage</artifactId>
2
mapdb_storage/pom.xml
Show comments
View file
Edit file
Delete file
@@ -5,7 +5,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
System.clearProperty("moquette.path");
else
System.setProperty("moquette.path", backup);
}
protected void startServer() throws IOException {
12
broker/src/test/java/io/moquette/server/ServerIntegrationSSLTest.java
Show comments
View file
Edit file
Delete file
@@ -41,6 +41,7 @@
import org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;
import org.eclipse.paho.client.mqttv3.persist.MqttDefaultFilePersistence;
import org.junit.After;
import org.junit.AfterClass;
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Pull requests · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Moquette & 2-way SSL authentication · Issue #508 · moquette-io/moquette · GitHub
Java 11 compatibility by qbast · Pull Request #498 · moquette-io/moquette · GitHub
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Pull requests · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
6dee138
due to handling a freed ByteBuf
Copy link
Quote reply
Collaborator
andsel
commented
Apr 2, 2019
I have to reason about this more carefully, because this could potentially open to memory leakeage
🎉
1
🚀
1
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
2 participants
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
# Package Files #
*.jar
*.war
*.ear
@@ -43,3 +44,4 @@ broker/nb-configuration.xml
broker/nbactions-Server.xml
maven-metadata.xml
/.gradle/
10
.travis.yml
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,13 @@
language: java
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
<artifactId>moquette-performance</artifactId>
2
pom.xml
Show comments
View file
Edit file
Delete file
@@ -14,7 +14,7 @@
<artifactId>moquette-parent</artifactId>
<packaging>pom</packaging>
<version>0.9-SNAPSHOT</version>
<version>0.9</version>
<name>Moquette MQTT</name>
<description>Moquette lightweight MQTT Broker</description>
<inceptionYear>2011</inceptionYear>
2
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<version>0.10-SNAPSHOT</version>
<name>Moquette MQTT</name>
<description>Moquette lightweight MQTT Broker</description>
<inceptionYear>2011</inceptionYear>
2
tools_scripts/integration/brokerEmbeddedTest.groovy
Show comments
View file
Edit file
Delete file
<version>0.10-SNAPSHOT</version>
<version>0.10</version>
</parent>
<artifactId>moquette-mapdb-storage</artifactId>
2
osgi_test/pom.xml
Show comments
View file
Edit file
Delete file
@@ -5,7 +5,7 @@
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;
@@ -60,10 +61,21 @@
IMqttClient m_client;
MessageCollector m_callback;
static String backup;
@BeforeClass
public static void beforeTests() {
String tmpDir = System.getProperty("java.io.tmpdir");
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Will it be compatible with Graalvm in the future? · Issue #509 · moquette-io/moquette · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Copy link
Quote reply
Contributor
Author
komamitsu
commented
Apr 3, 2019
Yeah. If you have any concern of memory leak, feel free to give me feedbacks. Thanks.
IMO, this issue occurs 100% when a subscriber takes time and potential memory leak may be better than it.
I think you can easily reproduce this issue by running testResendNotAckedPublishes() introduced by this pull request with commenting out the fix.
Copy link
Quote reply
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
jdk:
- oraclejdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
directories:
- $HOME/.gradle/caches/
- $HOME/.gradle/wrapper/
script:
- ./gradlew install test
5
README.md
Show comments
View file
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
tools_scripts/integration/brokerEmbeddedTest.groovy
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@Grab(group='io.moquette', module='moquette-broker', version='0.9-SNAPSHOT')
@Grab(group='io.moquette', module='moquette-broker', version='0.9')
import io.moquette.server.Server
Toggle all file notes
0 comments
on commit 4162aae
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
@@ -1,5 +1,5 @@
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@Grab(group='io.moquette', module='moquette-broker', version='0.9')
@Grab(group='io.moquette', module='moquette-broker', version='0.10-SNAPSHOT')
import io.moquette.server.Server
Toggle all file notes
0 comments
on commit a7b8c07
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.10-SNAPSHOT</version>
<version>0.10</version>
</parent>
<artifactId>moquette-osgi-test</artifactId>
2
perf/pom.xml
Show comments
View file
Edit file
Delete file
@@ -6,7 +6,7 @@
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
s_dataStore = new MqttDefaultFilePersistence(tmpDir);
backup = System.getProperty("moquette.path");
}
@AfterClass
public static void afterTests() {
if (backup == null)
System.clearProperty("moquette.path");
else
System.setProperty("moquette.path", backup);
}
protected void startServer() throws IOException {
29
broker/src/test/java/io/moquette/server/ServerLowlevelMessagesIntegrationTests.java
Show comments
View file
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Issues · moquette-io/moquette · GitHub
Release Release v.012 · moquette-io/moquette · GitHub
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
0 Open
0 Closed
0 Open
0 Closed
Author
Filter by author
githawks
commented
Sep 24, 2019
hey brother, me too
Copy link
Quote reply
githawks
commented
Sep 24, 2019
just four sensor, the problem
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Edit file
Delete file
@@ -64,6 +64,7 @@ Include dependency in your project:
## Build from sources
After a git clone of the repository, cd into the cloned sources and: `mvn clean package`.
In distribution/target directory will be produced the selfcontained tar for the broker with all dependencies and a running script.
After a git clone of the repository, cd into the cloned sources and: `./gradlew clean distribution:distMoquetteTar` or
`./gradlew clean distribution:distMoquetteZip`.
In distribution/build directory will be produced the selfcontained file for the broker with all dependencies and a running script.
51
broker/build.gradle
Show comments
View file
Edit file
Delete file
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
<groupId>io.moquette</groupId>
<version>0.10-SNAPSHOT</version>
<version>0.10</version>
</parent>
<artifactId>moquette-performance</artifactId>
2
pom.xml
Show comments
View file
Edit file
Delete file
@@ -14,7 +14,7 @@
<artifactId>moquette-parent</artifactId>
<packaging>pom</packaging>
<version>0.10-SNAPSHOT</version>
Edit file
Delete file
@@ -27,8 +27,11 @@
import org.junit.Test;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.awaitility.Awaitility;
import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.util.Properties;
import java.util.concurrent.TimeUnit;
import static io.netty.handler.codec.mqtt.MqttConnectReturnCode.*;
import static org.junit.Assert.*;
@@ -81,10 +84,10 @@ public void elapseKeepAliveTime() throws InterruptedException {
*/
m_client.sendMessage(connectMessage);
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Authentication changes by ndchandar · Pull Request #507 · moquette-io/moquette · GitHub
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
3 participants
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
@@ -0,0 +1,51 @@
description = 'Moquette - broker'
apply plugin: 'osgi'
apply plugin: 'maven'
dependencies {
compile group: 'io.netty', name: 'netty-common', version: nettyVersion
compile group: 'io.netty', name: 'netty-buffer', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport', version: nettyVersion
compile group: 'io.netty', name: 'netty-handler', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-http', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-mqtt', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport-native-epoll', version: nettyVersion, classifier: 'linux-x86_64'
compile group: 'io.dropwizard.metrics', name: 'metrics-core', version:'3.2.2'
compile group: 'io.dropwizard.metrics', name: 'metrics-jvm', version:'3.2.2'
compile group: 'com.librato.metrics', name: 'metrics-librato', version:'5.1.0'
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<version>0.10</version>
<name>Moquette MQTT</name>
<description>Moquette lightweight MQTT Broker</description>
<inceptionYear>2011</inceptionYear>
4
tools_scripts/integration/brokerEmbeddedTest.groovy
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@Grab(group='io.moquette', module='moquette-broker', version='0.10-SNAPSHOT')
@Grab(group='io.moquette', module='moquette-broker', version='0.10')
// wait 2 times the keepAlive
Thread.sleep(keepAlive * 2 * 1000);
assertTrue(m_client.isConnectionLost());
// wait 3 times the keepAlive
Awaitility.await()
.atMost(3 * keepAlive, TimeUnit.SECONDS)
.until(m_client::isConnectionLost);
}
private static MqttConnectMessage createConnectMessage(String clientID, int keepAlive) {
@@ -109,14 +112,18 @@ public void testWillMessageIsWiredOnClientKeepAliveExpiry() throws Exception {
m_client.clientId("FAKECLNT").connect(willTestamentTopic, willTestamentMsg);
long connectTime = System.currentTimeMillis();
// but after the 2 KEEP ALIVE timeout expires it gets fired,
// NB it's 1,5 * KEEP_ALIVE so 3 secs and some millis to propagate the message
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Issues · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
v0.11
0bf35a7
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
fixed throw NullPointerException when new connection by luoliangtiger · Pull Request #519 · moquette-io/moquette · GitHub
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
MQTT SSL not working
#499
Open
francesco98 opened this issue
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
compile group: 'com.librato.metrics', name: 'librato-java' , version:'2.1.0'
compile group: 'com.bugsnag', name: 'bugsnag', version:'[3.0,4.0)'
compile group: 'commons-codec', name: 'commons-codec', version:'1.10'
// compile group: 'org.hdrhistogram', name: 'HdrHistogram', version:'2.1.4'
compile group: 'com.hazelcast', name: 'hazelcast', version:'3.5.4'
testCompile group: 'org.fusesource.mqtt-client', name: 'mqtt-client', version:'1.12'
testCompile group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version:'1.0.2'
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.191'
}
task createPom () {
}
jar {
manifest {
instruction 'Bundle-Description', 'Moquette lightweight MQTT Broker'
instruction 'Bundle-License', 'http://www.apache.org/licenses/LICENSE-2.0.txt, http://www.eclipse.org/org/documents/epl-v10.php'
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Updated readme for version 0.11
Loading branch information
andsel
committed
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
Learn more
Accept
Reject
Save preferences
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
import io.moquette.server.Server
@@ -13,4 +13,4 @@ props.setProperty('password_file', '../broker/config/password_file.conf')
println "starting proprs $props"
server.startServer(props)
println "Stopping broker.."
server.stopServer()
server.stopServer()
Toggle all file notes
0 comments
on commit 0480260
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
org.eclipse.paho.client.mqttv3.MqttMessage msg = m_messageCollector.waitMessage(5);
assertNotNull("the will message should be fired after keep alive!", msg);
// the will message hasn't to be received before the elapsing of Keep Alive timeout
assertTrue(System.currentTimeMillis() - connectTime > 3000);
Awaitility.await()
.atMost(7, TimeUnit.SECONDS)
.untilAsserted(() -> {
// but after the 2 KEEP ALIVE timeout expires it gets fired,
// NB it's 1,5 * KEEP_ALIVE so 3 secs and some millis to propagate the message
org.eclipse.paho.client.mqttv3.MqttMessage msg = m_messageCollector.getMessageImmediate();
assertNotNull("the will message should be fired after keep alive!", msg);
// the will message hasn't to be received before the elapsing of Keep Alive timeout
assertTrue(System.currentTimeMillis() - connectTime > 3000);
assertEquals(willTestamentMsg, new String(msg.getPayload(), StandardCharsets.UTF_8));
});
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
license is missing in artifact
#492
opened Jul 30, 2019 by
ascheman
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Connection dropped when publishing message with payload greater 8KB.
#503
Open
r-t-s opened this issue
Aug 30, 2019
· 0 comments
Open
Connection dropped when publishing message with payload greater 8KB.
#503
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Question: disconnecting a client when authentication details removed · Issue #516 · moquette-io/moquette · GitHub
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
Compare
Choose a tag to compare
Search for a tag
Release v0.11
v0.11
0bf35a7
Compare
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Bumped release 0.12 · moquette-io/moquette@3080050 · GitHub
one get by luoliangtiger · Pull Request #520 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Aug 20, 2019
· 1 comment
Open
MQTT SSL not working
#499
francesco98 opened this issue
Aug 20, 2019
· 1 comment
Comments
Copy link
Quote reply
francesco98
commented
Aug 20, 2019
Hi guys,
I am having some problems with the configuration of MQTT throw SSL, below description and useful code.
👎
😄
🎉
😕
❤️
🚀
👀
No results matched your search.
You could search all of GitHub or try an advanced search.
ProTip!
Follow long discussions with comments:>50.
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
instruction 'Import-Package', '!com.codahale.metrics*, !com.bugsnag*, !com.librato.metrics*, *'
}
from "build/pom.xml"
}
}
jar.dependsOn createPom
282
broker/pom.xml
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
May 17, 2018
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
08d3e8d
commit 0bf35a7b8da7267c726aa2148fd631da4fa07173
Unified
Split
Showing
1 changed file
with
3 additions
and 3 deletions.
+3
👍
👎
😄
🎉
😕
❤️
🚀
👀
How one port supports both unidirectional and two-way certificate authentication for TLS
#491
opened Jul 30, 2019 by
cnneillee
ProTip!
Follow long discussions with comments:>50.
© 2020 GitHub, Inc.
Terms
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Clean test storage on exit to prevent assert in next test
#497
Open
qbast
wants to merge
1
commit into
moquette-io:master
base:
master
from
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
assertEquals(willTestamentMsg, new String(msg.getPayload()));
m_willSubscriber.disconnect();
}
5
osgi_test/README.md
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,5 @@
# Development
to run the osgi tests use:
mvn clean && mvn install -DskipTests=true -Dmaven.javadoc.skip=true -B -V && mvn -B test -pl osgi_test
31
osgi_test/pom.xml
ProTip!
Adding no:label will show everything without a label.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
r-t-s opened this issue
Aug 30, 2019
· 0 comments
Comments
Copy link
Quote reply
r-t-s
commented
Aug 30, 2019
Expected behavior
Connection Disconnected when publishing a JSON string 9000 characters long. Works for 8000 characters. Works on mosquito.
Actual behavior
Steps to reproduce
Minimal yet complete reproducer code (or URL to code) or complete log file
Moquette MQTT version
0.12.1 and 0.12
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Issues · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
BUG - null Session in subscribe procedure · Issue #517 · moquette-io/moquette · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
Choose a tag to compare
Search for a tag
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
andsel
released this
Jun 10, 2018
·
87 commits
to master
since this release
Updated readme for version 0.11
Assets
2
Source code (zip)
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
fix trie match bug and bytesMetrics bug
#479
Open
ilylia
wants to merge
1
commit into
moquette-io:master
base:
master
Description
I am trying to include moquette in my Java Project using SSL (8883), but somethings is wrong. Before checking SSL connection, I have configured standard connection throw 1883 port and tested with Paho Java Client, therefore this work correctly! Instead, SSL seems not listening to 8883 port and every connection is refused. The command "netstat -aon | grep 8883" return 0 lines, instead "netstat -aon | grep 1883" return 1 line. Moreover, the new method added getSslPort() return always 0.
This is my config/moquette.conf
port 1883
ssl_provider JDK
ssl_port 8883
jks_path serverkeystore.jks
key_store_type jks
key_store_password myPwd
key_manager_password myPwd
host 0.0.0.0
allow_anonymous true
This is the code to start server
try {
IResourceLoader classpathLoader = new ClasspathResourceLoader();
final IConfig classPathConfig = new ResourceLoaderConfig(classpathLoader);
final Server mqttBroker = new Server();
final List<? extends InterceptHandler> userHandlers = Arrays.asList(new MoquetteHandler());
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit c367100
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
−3
README.md
6
README.md
Show comments
View file
Edit file
Delete file
@@ -25,11 +25,11 @@ Point your MQTT client to _broker.moquette.io_
## 1 minute set up
Start play with it, download the self distribution tar from [BinTray](https://bintray.com/artifact/download/andsel/generic/distribution-0.10-bundle-tar.tar.gz) ,
Start play with it, download the self distribution tar from [BinTray](https://bintray.com/artifact/download/andsel/generic/moquette-distribution-0.11.tar) ,
the un untar and start the broker listening on `1883` port and enjoy!
```
tar zxf distribution-0.10-bundle-tar.tar.gz
tar zxf moquette-distribution-0.11.tar
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
augnetuk:it-file-fix
Open
Clean test storage on exit to prevent assert in next test
#497
qbast
wants to merge
1
commit into
moquette-io:master
from
augnetuk:it-file-fix
Conversation
0
Commits
1
Checks
0
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Show comments
View file
Edit file
Delete file
@@ -22,6 +22,37 @@
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
</dependency>
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-h2-storage</artifactId>
</dependency>
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-mapdb-storage</artifactId>
</dependency>
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
error.log
JVM version (e.g. java -version)
java version "1.8.0_172"
Java(TM) SE Runtime Environment (build 1.8.0_172-b11)
OS version (e.g. uname -a)
Windows 10
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
New
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Moquette & 2-way SSL authentication
#508
Open
lukaszsoszynski opened this issue
Nov 25, 2019
· 0 comments
Open
Moquette & 2-way SSL authentication
#508
lukaszsoszynski opened this issue
java.lang.NoSuchMethodError: No static method encodeHexString([B)Ljava/lang/String; in class Lorg/apache/commons/codec/binary/Hex; or its super classes · Issue #518 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Java 11 compatibility
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
New pull request
New
Clear current search query, filters, and sorts
2 Open
1 Closed
2 Open
1 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
from
ilylia:master
Open
fix trie match bug and bytesMetrics bug
#479
ilylia
wants to merge
1
commit into
moquette-io:master
from
ilylia:master
Conversation
4
Commits
1
Checks
mqttBroker.startServer(classPathConfig, userHandlers);
System.out.println("moquette mqtt broker started, press ctrl-c to shutdown..");
Runtime.getRuntime().addShutdownHook(new Thread() {
@Override
public void run() {
System.out.println("stopping moquette mqtt broker..");
mqttBroker.stopServer();
System.out.println("moquette mqtt broker stopped");
}
});
} catch(Exception e) {
e.printStackTrace();
}
Could you help me? Thank you!
Copy link
Rick-Farstreet
commented
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
cd bin
./moquette.sh
```
@@ -66,7 +66,7 @@ Include dependency in your project:
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
<version>0.10</version>
<version>0.11</version>
</dependency>
```
Toggle all file notes
0 comments
on commit 0bf35a7
Please
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Files changed
Conversation
Copy link
Quote reply
qbast
commented
Aug 16, 2019
Running ./gradlew build on linux causes following test failure:
io.moquette.integration.ServerIntegrationPahoCanPublishOnReadBlockedTopicTest > shouldNotInternalPublishOnReadBlockedSubscriptionTopic PASSED
io.moquette.integration.ServerIntegrationSSLClientAuthTest > checkClientAuthentication FAILED
java.lang.AssertionError: The DB storagefile /home/kuba/moquette/broker/build/moquette_store.h2 already exists
at org.junit.Assert.fail(Assert.java:91)
at org.junit.Assert.assertTrue(Assert.java:43)
at org.junit.Assert.assertFalse(Assert.java:68)
at io.moquette.integration.ServerIntegrationSSLClientAuthTest.setUp(ServerIntegrationSSLClientAuthTest.java:154)
<dependency>
<groupId>javax.servlet</groupId>
<artifactId>javax.servlet-api</artifactId>
<version>3.1.0</version>
</dependency>
<dependency>
<groupId>org.slf4j</groupId>
<artifactId>slf4j-api</artifactId>
<version>1.7.5</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.slf4j</groupId>
<artifactId>slf4j-log4j12</artifactId>
<version>1.7.5</version>
Reject
Save preferences
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Release v0.13 · moquette-io/moquette · GitHub
Release last_gradle · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Bumped release 0.13 (#523) · moquette-io/moquette@3b83f47 · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Wiki
Security
Insights
Releases
Tags
v0.12
3080050
Compare
Choose a tag to compare
Search for a tag
Release v.012
v0.12
3080050
Compare
Choose a tag to compare
Search for a tag
Nov 25, 2019
· 0 comments
Comments
Copy link
Quote reply
lukaszsoszynski
commented
Nov 25, 2019
I have just question: Does Moquette support 2-way SSL authentication? I found in documentation section "SSL Configuration" (https://moquette-io.github.io/moquette/documentation.html#_ssl_configuration) but if I understand example correctly there is covered only "1-way" SSL authentication and client certificate is not verified by server.
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
#498
Open
qbast
wants to merge
2
commits into
moquette-io:master
base:
master
from
augnetuk:new-gradle
Open
Java 11 compatibility
#498
qbast
wants to merge
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Already on GitHub?
Sign in
to your account
Jump to bottom
Will it be compatible with Graalvm in the future?
#509
Open
coolbeevip opened this issue
Dec 12, 2019
· 0 comments
Open
Will it be compatible with Graalvm in the future?
#509
coolbeevip opened this issue
Dec 12, 2019
· 0 comments
Comments
0
Files changed
Conversation
Copy link
Quote reply
ilylia
commented
Jun 2, 2019
fix trie match bug when topic contains root;
fix bytesMetrics wroteBytes always 0;
fix startup shell can not run outside bin;
Copy link
Quote reply
Collaborator
andsel
Nov 9, 2019
Hi franscesco98,
I think that the problem that you're having is due to the fact that your jks file might not be found. In my own code I give the whole path from the /src folder
(jks_path src\main\java\com\mycompany\myproject\mqtt\broker\config\serverkeystore.jks).
without this path my code did not work for me eather.
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
Learn more
Accept
Reject
Save preferences
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
This is caused by ServerIntegrationPahoCanPublishOnReadBlockedTopicTest not deleting H2 file in tearDown
Clean test storage on exit to prevent assert in next test
Loading status checks…
1671fd2
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
<scope>test</scope>
</dependency>
65
osgi_test/src/test/java/io/moquette/test/osgi/MoquetteOsgiTest.java
Show comments
View file
Edit file
Delete file
@@ -18,15 +18,18 @@
import static org.junit.Assert.*;
import static org.ops4j.pax.exam.CoreOptions.*;
import java.util.Arrays;
import java.util.LinkedList;
import java.util.List;
import org.junit.Test;
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
ilylia
4
ProTip!
Updated in the last three days: updated:>2020-11-08.
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
andsel
released this
Dec 1, 2018
·
35 commits
to master
since this release
Dropped Hazelcast because at the moment Moquette is not designed to be clusterizable
Rewritten completly the broker to introduce the concept of MqttConnection
Dropped suppoert for MapDB and keeped only H2 MvStore for persistence
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Issues · moquette-io/moquette · GitHub
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Bugfix/stop broker interceptor by Northram511 · Pull Request #530 · moquette-io/moquette · GitHub
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
2
commits into
moquette-io:master
from
augnetuk:new-gradle
Conversation
0
Commits
2
Checks
0
Files changed
Conversation
Copy link
Quote reply
qbast
commented
Save preferences
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Copy link
Quote reply
coolbeevip
commented
Dec 12, 2019
Expected behavior
Actual behavior
Steps to reproduce
Minimal yet complete reproducer code (or URL to code) or complete log file
Moquette MQTT version
JVM version (e.g. java -version)
OS version (e.g. uname -a)
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
commented
Jun 3, 2019
Sorry @ilylia but this PR miss an important part, at least one test that manifest the problem you are trying to solve.
fix trie match bug when topic contains root, with test case;
…
Loading status checks…
74d92f9
fix bytesMetrics wroteBytes always 0;
fix startup shell can not run outside bin;
ilylia
force-pushed the
ilylia:master
branch
from
1bad339
to
74d92f9
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
2 participants
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
import org.junit.runner.RunWith;
import org.ops4j.pax.exam.Configuration;
import org.ops4j.pax.exam.Option;
import org.ops4j.pax.exam.junit.PaxExam;
import org.osgi.framework.Bundle;
import org.osgi.framework.BundleContext;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import javax.inject.Inject;
/**
@@ -35,6 +38,9 @@
*/
@RunWith(PaxExam.class)
public class MoquetteOsgiTest {
private static final Logger LOG = LoggerFactory.getLogger(MoquetteOsgiTest.class);
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
😕
❤️
🚀
👀
Connection dropped when publishing message with payload greater 8KB.
#503
opened Aug 30, 2019 by
r-t-s
ProTip!
Add no:assignee to see everything that’s not assigned.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Issues · moquette-io/moquette · GitHub
Buffering settings to reduce latency · Issue #527 · moquette-io/moquette · GitHub
Publish javadoc & sources of 0.13 · Issue #528 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Fixes #529, #505: NPE caused by matching on a TNode by hylkevds · Pull Request #532 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Aug 17, 2019
Gradle 4.6 does not work with Java 11.
Update Gradle to newest version (5.6) along with errorprone and spotbugs in order to make moquette buildable with JDK 11. Compatibility with Java 8 is retained.
qbast
added 2 commits
Aug 16, 2019
Clean test storage on exit to prevent assert in next test
Loading status checks…
1671fd2
Upgrade to newest gradle
Loading status checks…
cbcbea7
hylkevds
mentioned this pull request
May 15, 2020
NullPointerException in CTrie.evaluate
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
#464
opened Mar 31, 2019 by
komamitsu
4
ProTip!
Filter pull requests by the default branch with base:master.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Sign in
to your account
Jump to bottom
Authentication changes
#507
Open
ndchandar
wants to merge
1
commit into
moquette-io:master
base:
master
from
ndchandar:master
Open
Authentication changes
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Jun 20, 2019
Copy link
Quote reply
Author
ilylia
commented
Jun 20, 2019
Hi @andsel , there is a test case for the trie match bug in the new pr, please check.
andsel
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Reject
Save preferences
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
@Inject
private BundleContext bundleContext;
@@ -43,7 +49,42 @@
return options(
junitBundles(),
mavenBundle("io.moquette", "moquette-broker")
mavenBundle("com.google.guava", "guava").versionAsInProject(),
//mavenBundle("com.google.code.findbugs", "jsr305").versionAsInProject(),
mavenBundle("com.fasterxml.jackson.core", "jackson-core").versionAsInProject().start(),
mavenBundle("com.fasterxml.jackson.core", "jackson-databind").versionAsInProject(),
mavenBundle("com.fasterxml.jackson.core", "jackson-annotations").versionAsInProject(),
//mavenBundle("com.librato.metrics", "librato-java").versionAsInProject(),
//mavenBundle("com.librato.metrics", "metrics-librato").versionAsInProject(),
mavenBundle("io.dropwizard.metrics", "metrics-core").versionAsInProject(),
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
Moquette 0.12.1 versions release · moquette-io/moquette@26e43c5 · GitHub
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Pull requests · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
#529
Open
hylkevds
mentioned this pull request
Aug 14, 2020
Fix java 11+ build and tests
#533
Open
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
fixed throw NullPointerException when new connection
#519
Open
luoliangtiger
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Bumped release 0.12
Loading branch information
andsel
committed
Dec 1, 2018
1 parent
2138513
commit 3080050c4dc32b92aedde1de490da7621d8b1f4b
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
#507
ndchandar
wants to merge
1
commit into
moquette-io:master
from
ndchandar:master
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
reviewed
Jun 20, 2019
View changes
broker/src/main/java/io/moquette/broker/subscriptions/CTrie.java
Show resolved
Hide resolved
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
andsel
Assignees
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
mavenBundle("io.dropwizard.metrics", "metrics-jvm").versionAsInProject(),
mavenBundle("com.hazelcast", "hazelcast").versionAsInProject(),
mavenBundle("io.netty", "netty-common").versionAsInProject(),
mavenBundle("io.netty", "netty-buffer").versionAsInProject(),
mavenBundle("io.netty", "netty-transport").versionAsInProject(),
mavenBundle("io.netty", "netty-resolver").versionAsInProject(),
mavenBundle("io.netty", "netty-handler").versionAsInProject(),
mavenBundle("io.netty", "netty-handler").versionAsInProject(),
mavenBundle("io.netty", "netty-codec").versionAsInProject(),
mavenBundle("io.netty", "netty-codec-http").versionAsInProject(),
mavenBundle("io.netty", "netty-codec-mqtt").versionAsInProject(),
mavenBundle("io.netty", "netty-transport-native-epoll").versionAsInProject(),
mavenBundle("io.netty", "netty-transport-native-unix-common").versionAsInProject(),
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
MQTT SSL not working
#499
opened Aug 20, 2019 by
francesco98
1
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Pull requests · moquette-io/moquette · GitHub
Fix java 11+ build and tests by hylkevds · Pull Request #533 · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Question: disconnecting a client when authentication details removed
#516
Open
MattyyttaM opened this issue
Jan 23, 2020
· 0 comments
Open
Question: disconnecting a client when authentication details removed
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
wants to merge
1
commit into
moquette-io:master
base:
master
from
luoliangtiger:master
Open
fixed throw NullPointerException when new connection
#519
luoliangtiger
wants to merge
1
commit into
moquette-io:master
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Unified
Split
Showing
5 changed files
with
6 additions
and 6 deletions.
+1
−1
broker/src/main/java/io/moquette/broker/Server.java
+2
−2
build.gradle
+1
−1
distribution/src/main/scripts/moquette.bat
+1
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
one get
#520
Open
luoliangtiger
wants to merge
1
Conversation
2
Commits
1
Checks
0
Files changed
Conversation
Copy link
Quote reply
ndchandar
commented
Oct 11, 2019
IAuthenticator.checkValid should return CompletableFuture<Boolean>
Notes
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
2 participants
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
mavenBundle("commons-codec", "commons-codec").versionAsInProject(),
mavenBundle("javax.servlet", "javax.servlet-api").versionAsInProject(),
mavenBundle("io.moquette", "moquette-broker").versionAsInProject(),
mavenBundle("com.h2database", "h2-mvstore").versionAsInProject(),
mavenBundle("io.moquette", "moquette-h2-storage").versionAsInProject(),
mavenBundle("org.mapdb", "mapdb").versionAsInProject(),
mavenBundle("io.moquette", "moquette-mapdb-storage").versionAsInProject()
);
}
@@ -55,15 +96,23 @@
*/
@Test
public void testCanFindOsgiBundle() throws Exception {
List<String> list = new LinkedList<>(Arrays.asList("io.moquette.broker", "io.moquette.h2-storage",
"io.moquette.mapdb-storage"));
List<String> inactive = new LinkedList<>();
ProTip!
Exclude everything labeled bug with -label:bug.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
2 Open
0 Closed
2 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
BUG - null Session in subscribe procedure
#517
Open
BigGitWorld opened this issue
Feb 14, 2020
· 0 comments
Open
BUG - null Session in subscribe procedure
#517
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Bump junit from 4.8.2 to 4.13.1 by dependabot · Pull Request #544 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
#516
MattyyttaM opened this issue
Jan 23, 2020
· 0 comments
Comments
Copy link
Quote reply
MattyyttaM
commented
Jan 23, 2020
Is there a way I can disconnect a client(s) that have connected to a certain user/password combination?
I'm trying to dynamically create/remove users whilst the broke is running. If a client has already connected with a given user/password combination and I then remove it, I want to client to be told to disconnect, if this is doable.
Moquette MQTT version
0.12.1
👍
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
from
luoliangtiger:master
Conversation
0
Commits
1
Checks
0
Files changed
Conversation
Copy link
Quote reply
luoliangtiger
commented
Mar 2, 2020
−1
distribution/src/main/scripts/moquette.sh
+1
−1
tools_scripts/integration/brokerEmbeddedTest.groovy
2
broker/src/main/java/io/moquette/broker/Server.java
Show comments
View file
Edit file
Delete file
@@ -57,7 +57,7 @@
public static void main(String[] args) throws IOException {
final Server server = new Server();
commit into
moquette-io:master
base:
master
from
luoliangtiger:dev
Open
one get
#520
luoliangtiger
wants to merge
1
commit into
moquette-io:master
from
luoliangtiger:dev
Conversation
I can add more tests based on review/feedback
Once the PR is approved, i can work similar changes for IAuthorizatorPolicy
Authentication Changes: IAuthenticator.checkValid should return `Comp…
…
Loading status checks…
5d23808
…letableFuture<Boolean>`
ndchandar
force-pushed the
ndchandar:master
branch
from
3fe6e9b
to
5d23808
Oct 11, 2019
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
for (Bundle b : bundleContext.getBundles()) {
String symbolicName = b.getSymbolicName();
System.out.format("%s %d\n", symbolicName, b.getState());
if (symbolicName != null && symbolicName.indexOf("moquette") != -1) {
return;
System.out.println("" + symbolicName);
if (symbolicName != null) {
list.remove(symbolicName);
if (b.getState() != Bundle.ACTIVE)
inactive.add(symbolicName);
}
}
// If found no bundles with moquette in the name, fail the test.
fail();
if (!inactive.isEmpty() || !list.isEmpty())
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Projects
Wiki
Security
Insights
Releases
Tags
v0.13
3b83f47
Compare
Choose a tag to compare
Search for a tag
v0.13
v0.13
3b83f47
Compare
Choose a tag to compare
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
NullPointerException in CTrie.evaluate · Issue #529 · moquette-io/moquette · GitHub
New configuration parameter : setting the HandshakeTimeout on SslHandler · Issue #531 · moquette-io/moquette · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Added configuration item for handshake timeout on SSL channel (#531) by dsoulayrol · Pull Request #547 · moquette-io/moquette · GitHub
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Projects
Wiki
Security
Insights
Releases
Tags
last_gradle
b69146b
Compare
Choose a tag to compare
Search for a tag
last_gradle
last_gradle
b69146b
Compare
Choose a tag to compare
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Bumped release 0.13 (#523)
Loading branch information
andsel
committed
Apr 11, 2020
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
BigGitWorld opened this issue
Feb 14, 2020
· 0 comments
Comments
Copy link
Quote reply
BigGitWorld
commented
Feb 14, 2020
•
edited
Expected behavior
Suppose a mqtt client with a specific CLIENT-ID is connected to the server.
Now another mqtt client with the same CLIENT-ID wants to connect to the server.
I expect:
At first, the server disconnects the old client.
Will it be compatible with Graalvm in the future?
#509
opened Dec 12, 2019 by
coolbeevip
ProTip!
What’s not been updated in a month: updated:<2020-10-11.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
java.lang.NoSuchMethodError: No static method encodeHexString([B)Ljava/lang/String; in class Lorg/apache/commons/codec/binary/Hex; or its super classes
#518
Open
carlsberg-stack opened this issue
Feb 27, 2020
· 0 comments
Open
java.lang.NoSuchMethodError: No static method encodeHexString([B)Ljava/lang/String; in class Lorg/apache/commons/codec/binary/Hex; or its super classes
#518
1
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
java.lang.NullPointerException
at java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936)
at io.moquette.broker.SessionRegistry.retrieve(SessionRegistry.java:233)
at io.moquette.broker.PostOffice.flushInFlight(PostOffice.java:313)
at io.moquette.broker.MQTTConnection.readCompleted(MQTTConnection.java:507)
at io.moquette.broker.NewNettyMQTTHandler.channelReadComplete(NewNettyMQTTHandler.java:76)
fixed throw NullPointerException when new connection
…
Loading status checks…
2cadef6
server.startServer();
System.out.println("Server started, version 0.12-SNAPSHOT");
System.out.println("Server started, version 0.12");
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread(server::stopServer));
}
4
build.gradle
Show comments
View file
Edit file
0
Commits
1
Checks
0
Files changed
Conversation
Copy link
Quote reply
luoliangtiger
commented
Copy link
Quote reply
Author
ndchandar
commented
Oct 14, 2019
@andsel Pinging for review. The Travis build failures seems independent of this PR.
Copy link
Quote reply
Collaborator
andsel
commented
Oct 18, 2019
Hi Dinesh, I'm slow on review, to find some time to work on this. But don't
worry. Thanks for start contributing
Andrea
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
fail("This osgi bundles are missing: " + list + " this osgi packages are NOT active" + inactive);
}
}
12
osgi_test/src/test/resources/log4j.properties
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,12 @@
# Set root logger level to DEBUG and its only appender to A1.
log4j.rootLogger=ERROR, stdout
log4j.logger.io.moquette=DEBUG
# stdout appender is set to be a ConsoleAppender.
Accept
Reject
Save preferences
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
Search for a tag
andsel
tagged this
Apr 11, 2020
·
9 commits
to master
since this tag
Moquette 0.13 versions release
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Search for a tag
andsel
tagged this
Nov 2, 2020
·
4 commits
to master
since this tag
Last version with gradle build system
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
👍
👎
😄
🎉
😕
❤️
🚀
👀
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Learn about signing commits
1 parent
6ee0137
commit 3b83f4772a1e51a805931ff70809ce9c29fbb36f
Unified
Split
Showing
7 changed files
with
15 additions
and 11 deletions.
+4
−0
ChangeLog.txt
+3
−3
README.md
And then, the new client can connect to the server.
In implementation:
I expect the new client's thread waits for completing the old client disconnection and then do its task.
Actual behavior
In Actual case, I observed that :
processConnect() will be called for the new client and because this CLIENT-ID exists in the sessions (due to the old client), So nothing is added to the sessions.
And concurrently the server disconnects the old client and remove it's session from sessionRegistry.
And Now when the new client wants to subscribe to a topic (after successfully connection),
in the PostOffice#subscribeClientToTopics() the below line results is a NULL:
Session session = sessionRegistry.retrieve(clientID);
And therefore the below line will results in a NPE:
session.addSubscriptions(newSubscriptions);
Steps to reproduce
Minimal yet complete reproducer code (or URL to code) or complete log file
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Embedding example throws java.lang.UnsupportedOperationException: direct buffer · Issue #534 · moquette-io/moquette · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
carlsberg-stack opened this issue
Feb 27, 2020
· 0 comments
Comments
Copy link
Quote reply
carlsberg-stack
commented
Feb 27, 2020
•
edited
Server Log
2020-02-28 13:03:11.970 20418-20876/ I/System.out: 117068 [nioEventLoopGroup-5-1] DEBUG io.moquette.broker.AutoFlushHandler - Initializing autoflush handler on channel [id: 0x82488a46, L:/172.16.1.196:1883 - R:/172.16.1.196:38308] Cid: null
2020-02-28 13:03:12.309 20418-20876/ I/System.out: 117404 [nioEventLoopGroup-5-1] INFO io.moquette.broker.metrics.MQTTMessageLogger - C->B CONNECT
2020-02-28 13:03:12.316 20418-20876/ I/System.out: 117412 [nioEventLoopGroup-5-1] DEBUG io.moquette.broker.MQTTConnection - Received MQTT message, type: CONNECT, channel: [id: 0x82488a46, L:/172.16.1.196:1883 - R:/172.16.1.196:38308]
2020-02-28 13:03:12.431 20418-20876/ I/System.out: 117431 [nioEventLoopGroup-5-1] ERROR io.moquette.broker.NewNettyMQTTHandler - Error processing protocol message: CONNECT
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
java.lang.NullPointerException
at java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936)
at io.moquette.broker.SessionRegistry.retrieve(SessionRegistry.java:233)
at io.moquette.broker.PostOffice.flushInFlight(PostOffice.java:313)
at io.moquette.broker.MQTTConnection.readCompleted(MQTTConnection.java:507)
at io.moquette.broker.NewNettyMQTTHandler.channelReadComplete(NewNettyMQTTHandler.java:76)
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Delete file
@@ -3,7 +3,7 @@ allprojects {
apply plugin: 'maven-publish'
group = 'io.moquette'
version = '0.12-SNAPSHOT'
version = '0.12'
}
buildscript {
@@ -92,7 +92,7 @@ subprojects {
from components.java
groupId "$project.group"
version '0.12-SNAPSHOT'
version '0.12'
}
}
Mar 4, 2020
No description provided.
one get
Loading status checks…
94c785c
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
…
On Mon, Oct 14, 2019 at 10:13 PM Dinesh Narayanan ***@***.***> wrote:
@andsel <https://github.com/andsel> Pinging for review. The Travis build
failures seems independent of this PR.
—
You are receiving this because you were mentioned.
Reply to this email directly, view it on GitHub
<#507?email_source=notifications&email_token=AAH5RUMKVVW235LHQGNGVBTQOTHGTA5CNFSM4I77QJ6KYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEBGKWGA#issuecomment-541895448>,
or unsubscribe
<https://github.com/notifications/unsubscribe-auth/AAH5RULZ24VAP5P3ITL7GHLQOTHGTANCNFSM4I77QJ6A>
.
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.Threshold=DEBUG
# for debug trace
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
Toggle all file notes
0 comments
on commit 7c4f902
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
😄
🎉
😕
❤️
🚀
👀
Moquette shows topics, but subscribers won't receive anything - Subscription missing?
#510
opened Dec 18, 2019 by
beniroquai
1
ProTip!
What’s not been updated in a month: updated:<2020-10-11.
© 2020 GitHub, Inc.
Terms
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pull requests · moquette-io/moquette · GitHub
Mqtt websocket http · Issue #538 · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Join GitHub · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
qbast
ProTip!
Add no:assignee to see everything that’s not assigned.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
+1
−1
broker/src/main/java/io/moquette/broker/Server.java
+2
−2
build.gradle
+2
−2
distribution/src/main/scripts/moquette.bat
+2
−2
distribution/src/main/scripts/moquette.sh
+1
−1
java.lang.NullPointerException: null
at io.moquette.broker.PostOffice.subscribeClientToTopics(PostOffice.java:85)
at io.moquette.broker.MQTTConnection.processSubscribe(MQTTConnection.java:309)
at io.moquette.broker.MQTTConnection.handleMessage(MQTTConnection.java:71)
at io.moquette.broker.NewNettyMQTTHandler.channelRead(NewNettyMQTTHandler.java:55)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.moquette.broker.metrics.MQTTMessageLogger.channelRead(MQTTMessageLogger.java:46)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.moquette.broker.metrics.MessageMetricsHandler.channelRead(MessageMetricsHandler.java:50)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Bugfix/stop broker interceptor
#530
Open
Northram511
wants to merge
2
commits into
moquette-io:master
base:
master
2020-02-28 13:03:12.431 20418-20876/ I/System.out: java.lang.NoSuchMethodError: No static method encodeHexString([B)Ljava/lang/String; in class Lorg/apache/commons/codec/binary/Hex; or its super classes (declaration of 'org.apache.commons.codec.binary.Hex' appears in /system/framework/org.apache.http.legacy.boot.jar)
2020-02-28 13:03:12.432 20418-20876/ I/System.out: at org.apache.commons.codec.digest.DigestUtils.sha256Hex(DigestUtils.java:500)
2020-02-28 13:03:12.432 20418-20876/ I/System.out: at io.moquette.broker.security.ResourceAuthenticator.checkValid(ResourceAuthenticator.java:124)
2020-02-28 13:03:12.432 20418-20876/ I/System.out: at io.moquette.broker.MQTTConnection.login(MQTTConnection.java:235)
2020-02-28 13:03:12.432 20418-20876/ I/System.out: at io.moquette.broker.MQTTConnection.processConnect(MQTTConnection.java:160)
2020-02-28 13:03:12.432 20418-20876/ I/System.out: at io.moquette.broker.MQTTConnection.handleMessage(MQTTConnection.java:67)
2020-02-28 13:03:12.433 20418-20876/ I/System.out: at io.moquette.broker.NewNettyMQTTHandler.channelRead(NewNettyMQTTHandler.java:58)
2020-02-28 13:03:12.433 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
2020-02-28 13:03:12.433 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
2020-02-28 13:03:12.433 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
2020-02-28 13:03:12.433 20418-20876/ I/System.out: at io.moquette.broker.metrics.MQTTMessageLogger.channelRead(MQTTMessageLogger.java:46)
2020-02-28 13:03:12.434 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
2020-02-28 13:03:12.434 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
2020-02-28 13:03:12.434 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
}
2
distribution/src/main/scripts/moquette.bat
Show comments
View file
Edit file
Delete file
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " |_| "
echo " "
echo " version: 0.12-SNAPSHOT "
echo " version: 0.12 "
set "CURRENT_DIR=%cd%"
if not "%MOQUETTE_HOME%" == "" goto gotHome
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
No reviews
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
2 participants
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Buffering settings to reduce latency
#527
Open
impliedx opened this issue
May 8, 2020
· 1 comment
Open
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Sign in
to your account
Jump to bottom
Publish javadoc & sources of 0.13
#528
Open
hylkevds opened this issue
May 13, 2020
· 0 comments
Open
Publish javadoc & sources of 0.13
#528
hylkevds opened this issue
May 13, 2020
· 0 comments
Comments
Copy link
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Sign in
to your account
Jump to bottom
Fixes #529, #505: NPE caused by matching on a TNode
#532
Open
hylkevds
wants to merge
1
commit into
moquette-io:master
base:
master
from
hylkevds:fix_529_npe_in_ctrie
Open
tools_scripts/integration/brokerEmbeddedTest.groovy
4
ChangeLog.txt
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,7 @@
Version 0.13:
Fixed issue #454 to avoid 1 second pause in flushing
Updated Travis build to JDK 12
Version 0.12:
Fixed issue #415
Dropped Hazelcast because at the moment Moquette is not designed to be clusterizable
6
README.md
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)
at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Moquette 0.12.1 versions release
Loading branch information
andsel
committed
Feb 24, 2019
1 parent
b827ad4
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
to your account
Clear current search query, filters, and sorts
3 Open
15 Closed
3 Open
15 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
from
Northram511:bugfix/stopBrokerInterceptor
Open
Bugfix/stop broker interceptor
#530
Northram511
wants to merge
2
commits into
moquette-io:master
from
Northram511:bugfix/stopBrokerInterceptor
Conversation
0
Commits
2
2020-02-28 13:03:12.434 20418-20876/ I/System.out: at io.moquette.broker.metrics.MessageMetricsHandler.channelRead(MessageMetricsHandler.java:50)
2020-02-28 13:03:12.434 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
2020-02-28 13:03:12.435 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
2020-02-28 13:03:12.435 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
2020-02-28 13:03:12.435 20418-20876/ I/System.out: at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)
2020-02-28 13:03:12.436 20418-20876/ I/System.out: at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284)
2020-02-28 13:03:12.436 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
2020-02-28 13:03:12.436 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
2020-02-28 13:03:12.436 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
2020-02-28 13:03:12.437 20418-20876/ I/System.out: at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
2020-02-28 13:03:12.437 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
2020-02-28 13:03:12.437 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
2020-02-28 13:03:12.437 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
2
distribution/src/main/scripts/moquette.sh
Show comments
View file
Edit file
Delete file
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " |_| "
echo " "
echo " version: 0.12-SNAPSHOT "
echo " version: 0.12 "
cd "$(dirname "$0")"
2
tools_scripts/integration/brokerEmbeddedTest.groovy
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
2 Open
0 Closed
2 Open
0 Closed
Author
Filter by author
Label
Buffering settings to reduce latency
#527
impliedx opened this issue
May 8, 2020
· 1 comment
Comments
Copy link
Quote reply
impliedx
commented
May 8, 2020
There is a latency in the delivery of messages which seems to be from some buffering which flushes the messages only every few seconds. Is there a configuration where this latency can be reduced and the messages processed as soon as they come in?
Moquette MQTT version
1.12.1
JVM version (e.g. java -version)
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Pull requests · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Moved flow of CONNECT completely inside MQTTConnection by andsel · Pull Request #548 · moquette-io/moquette · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Quote reply
Contributor
hylkevds
commented
May 13, 2020
It seems something went wrong during the publication of 0.13 to the bintray repository. The sources jar is missing:
https://jcenter.bintray.com/io/moquette/moquette-broker/0.13/
Though I just noticed they are also missing for 0.12.
0.11 does have sources.
👍
1
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Fixes #529, #505: NPE caused by matching on a TNode
#532
hylkevds
wants to merge
1
commit into
moquette-io:master
from
hylkevds:fix_529_npe_in_ctrie
Conversation
0
Commits
1
Checks
0
Show comments
View file
Edit file
Delete file
@@ -25,11 +25,11 @@ Point your browser to [cloud instance](http://broker.moquette.io), request an ac
## 1 minute set up
Start play with it, download the self distribution tar from [BinTray](https://bintray.com/artifact/download/andsel/generic/moquette-0.12.1.tar.gz) ,
Start play with it, download the self distribution tar from [BinTray](https://bintray.com/artifact/download/andsel/generic/moquette-0.13.tar.gz) ,
the un untar and start the broker listening on `1883` port and enjoy!
```
tar xvf moquette-distribution-0.12.1.tar.gz
tar xvf moquette-distribution-0.13.tar.gz
cd bin
./moquette.sh
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
at io.netty.handler.codec.http.websocketx.Utf8FrameValidator.channelRead(Utf8FrameValidator.java:77)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler$1.channelRead(WebSocketServerProtocolHandler.java:204)
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
commit 26e43c519ee69c00e0608796b6b8fafa03dbe999
Unified
Split
Showing
5 changed files
with
6 additions
and 6 deletions.
+1
−1
broker/src/main/java/io/moquette/broker/Server.java
+2
−2
build.gradle
+1
−1
distribution/src/main/scripts/moquette.bat
Clear current search query, filters, and sorts
2 Open
0 Closed
2 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
Checks
0
Files changed
Conversation
Copy link
Quote reply
Northram511
commented
May 26, 2020
No description provided.
Northram511
added 2 commits
May 26, 2020
updated netty to 4.1.50.Final
2020-02-28 13:03:12.437 20418-20876/ I/System.out: at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
2020-02-28 13:03:12.438 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
2020-02-28 13:03:12.438 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
2020-02-28 13:03:12.438 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
2020-02-28 13:03:12.438 20418-20876/ I/System.out: at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
2020-02-28 13:03:12.439 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
2020-02-28 13:03:12.439 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
2020-02-28 13:03:12.439 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
2020-02-28 13:03:12.439 20418-20876/ I/System.out: at io.moquette.broker.metrics.BytesMetricsHandler.channelRead(BytesMetricsHandler.java:51)
2020-02-28 13:03:12.439 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
2020-02-28 13:03:12.439 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
2020-02-28 13:03:12.440 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
2020-02-28 13:03:12.440 20418-20876/ I/System.out: at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414)
2020-02-28 13:03:12.440 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@Grab(group='io.moquette', module='moquette-broker', version='0.12-SNAPSHOT')
@Grab(group='io.moquette', module='moquette-broker', version='0.12')
import io.moquette.server.Server
Toggle all file notes
0 comments
on commit 3080050
Please
sign in to comment.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
8
OS version (e.g. uname -a)
Windows 10 / Ubuntu 16.04
Copy link
Contributor
hylkevds
commented
May 13, 2020
Probably a duplicate of, or related to #515
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
6
New pull request
New
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Fix java 11+ build and tests
#533
Open
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
New pull request
New
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Issues · moquette-io/moquette · GitHub
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Files changed
Conversation
Copy link
Quote reply
Contributor
hylkevds
commented
Aug 13, 2020
This PR fixes #529, #505.
In high load conditions, TNodes are not removed from the tree fast enough, and are evaluated when matching topics.
This PR moves the check that skips TNodes forward, before child nodes are even considered. As a side effect, no EmptySet is created and added to the matched subscriptions.
Fixes #529, #505: NPE caused by matching on a TNode
72a21ef
Sign up for free
to join this conversation on GitHub.
Already have an account?
```
@@ -66,7 +66,7 @@ Include dependency in your project:
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
<version>0.12.1</version>
<version>0.13</version>
</dependency>
```
2
broker/src/main/java/io/moquette/broker/Server.java
Show comments
View file
Edit file
Delete file
@@ -55,7 +55,7 @@
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)
at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.moquette.broker.metrics.BytesMetricsHandler.channelRead(BytesMetricsHandler.java:51)
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
+1
−1
distribution/src/main/scripts/moquette.sh
+1
−1
tools_scripts/integration/brokerEmbeddedTest.groovy
2
broker/src/main/java/io/moquette/broker/Server.java
Show comments
View file
Edit file
Delete file
@@ -55,7 +55,7 @@
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
🚀
👀
BUG - null Session in subscribe procedure
#517
opened Feb 14, 2020 by
BigGitWorld
Subscription storage
#482
opened Jun 12, 2019 by
BigGitWorld
Publish Failed Acknowledgment
#433
opened Oct 22, 2018 by
BigGitWorld
ProTip!
9c52a41
stopping BrokerInterceptor
Loading status checks…
5874e10
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Projects
2020-02-28 13:03:12.440 20418-20876/ I/System.out: at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
2020-02-28 13:03:12.440 20418-20876/ I/System.out: at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945)
2020-02-28 13:03:12.441 20418-20876/ I/System.out: at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:146)
2020-02-28 13:03:12.441 20418-20876/ I/System.out: at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)
2020-02-28 13:03:12.441 20418-20876/ I/System.out: at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580)
2020-02-28 13:03:12.441 20418-20876/ I/System.out: at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497)
2020-02-28 13:03:12.442 20418-20876/ I/System.out: at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459)
2020-02-28 13:03:12.442 20418-20876/ I/System.out: at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886)
2020-02-28 13:03:12.442 20418-20876/ I/System.out: at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
2020-02-28 13:03:12.442 20418-20876/ I/System.out: at java.lang.Thread.run(Thread.java:764)
2020-02-28 13:03:12.450 20418-20876/ I/System.out: 117548 [nioEventLoopGroup-5-1] INFO io.moquette.broker.NewNettyMQTTHandler - Closed client channel due to exception in processing
// Paho Client Log
2020-02-28 13:03:12.469 20418-20418/ W/System.err: Connection lost (32109) - java.io.EOFException
2020-02-28 13:03:12.469 20418-20418/ W/System.err: at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:190)
2020-02-28 13:03:12.470 20418-20418/ W/System.err: at java.lang.Thread.run(Thread.java:764)
Learn more
Accept
Reject
Save preferences
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Learn more
Accept
Reject
Save preferences
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
java.lang.NoSuchMethodError: No static method encodeHexString([B)Ljava/lang/String; in class Lorg/apache/commons/codec/binary/Hex; or its super classes
#518
opened Feb 27, 2020 by
carlsberg-stack
Bridging to a cloud broker [Microsoft Azure -- IOT Hub] ?
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
2 participants
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
hylkevds
wants to merge
6
commits into
moquette-io:master
base:
master
from
hylkevds:fix_java_11
Open
Fix java 11+ build and tests
#533
hylkevds
wants to merge
6
commits into
moquette-io:master
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pull requests · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
NullPointerException in CTrie.evaluate
1 participant
Add this suggestion to a batch that can be applied as a single commit.
public static void main(String[] args) throws IOException {
final Server server = new Server();
server.startServer();
System.out.println("Server started, version 0.13-SNAPSHOT");
System.out.println("Server started, version 0.13");
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread(server::stopServer));
}
4
build.gradle
Show comments
View file
Edit file
Delete file
@@ -3,7 +3,7 @@ allprojects {
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Sign in
to your account
Jump to bottom
Bump junit from 4.8.2 to 4.13.1
#544
Open
dependabot
wants to merge
1
commit into
master
base:
master
from
dependabot/maven/junit-junit-4.13.1
public static void main(String[] args) throws IOException {
final Server server = new Server();
server.startServer();
System.out.println("Server started, version 0.12.1-SNAPSHOT");
System.out.println("Server started, version 0.12.1");
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread(server::stopServer));
}
4
build.gradle
Show comments
View file
Edit file
Delete file
@@ -3,7 +3,7 @@ allprojects {
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
one get
#520
opened Mar 4, 2020 by
luoliangtiger
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
2020-02-28 13:03:12.471 20418-20418/ W/System.err: Caused by: java.io.EOFException
2020-02-28 13:03:12.471 20418-20418/ W/System.err: at java.io.DataInputStream.readByte(DataInputStream.java:270)
2020-02-28 13:03:12.472 20418-20418/ W/System.err: at org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMessage(MqttInputStream.java:92)
2020-02-28 13:03:12.472 20418-20418/ W/System.err: at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:137)
2020-02-28 13:03:12.472 20418-20418/ W/System.err: ... 1 more
carlsberg-stack
changed the title
Connecting Using username and password throw error? Working fine without authentication
java.lang.NoSuchMethodError: No static method encodeHexString([B)Ljava/lang/String; in class Lorg/apache/commons/codec/binary/Hex; or its super classes
Feb 28, 2020
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
#513
opened Jan 17, 2020 by
carlsberg-stack
5
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
ProTip!
from
hylkevds:fix_java_11
Conversation
1
Commits
6
Checks
0
Files changed
Conversation
Copy link
Quote reply
Contributor
hylkevds
commented
Aug 14, 2020
•
Already on GitHub?
Sign in
to your account
Jump to bottom
NullPointerException in CTrie.evaluate
#529
Open
hylkevds opened this issue
May 13, 2020
· 3 comments
· May be fixed by #532
Open
NullPointerException in CTrie.evaluate
#529
hylkevds opened this issue
May 13, 2020
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
Open
dsoulayrol opened this issue
Jul 23, 2020
· 0 comments
Open
New configuration parameter : setting the HandshakeTimeout on SslHandler
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Pull requests · moquette-io/moquette · GitHub
Sign in
to your account
Jump to bottom
Added configuration item for handshake timeout on SSL channel (#531)
#547
Open
dsoulayrol
wants to merge
2
commits into
moquette-io:master
base:
master
from
dsoulayrol:issue-531
Open
Added configuration item for handshake timeout on SSL channel (#531)
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
apply plugin: 'maven-publish'
group = 'io.moquette'
version = '0.13-SNAPSHOT'
version = '0.13'
}
buildscript {
@@ -92,7 +92,7 @@ subprojects {
from components.java
groupId "$project.group"
version '0.13-SNAPSHOT'
version '0.13'
}
}
at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945)
at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:146)
at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)
at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580)
at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497)
at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459)
at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886)
at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
at java.lang.Thread.run(Thread.java:748)
Moquette MQTT version
Latest version (0.12.1)
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Open
Bump junit from 4.8.2 to 4.13.1
#544
dependabot
wants to merge
1
commit into
master
from
dependabot/maven/junit-junit-4.13.1
Conversation
0
Commits
1
Checks
0
Files changed
apply plugin: 'maven-publish'
group = 'io.moquette'
version = '0.12.1-SNAPSHOT'
version = '0.12.1'
}
buildscript {
@@ -92,7 +92,7 @@ subprojects {
from components.java
groupId "$project.group"
version '0.12.1-SNAPSHOT'
version '0.12.1'
}
}
}
2
distribution/src/main/scripts/moquette.bat
luoliangtiger
ProTip!
What’s not been updated in a month: updated:<2020-10-11.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Reject
Save preferences
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Follow long discussions with comments:>50.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
edited
This PR:
makes the changes needed for java 11+, mostly copied from #498.
Fixes ServerIntegrationPahoCanPublishOnReadBlockedTopicTest so it cleans up.
This fixes several following tests breaking.
Fixes the PostOffice throwing a NPE when clientId is null.
This fixes the test ServerIntegrationSSLClientAuthTest > checkClientAuthenticationFail.
Update the test certificates, adding the flag CA:true.
This fixes the error TrustAnchor with subject "CN=moquette.io" is not a CA certificate
· 3 comments
· May be fixed by #532
Comments
Copy link
Quote reply
Contributor
hylkevds
commented
May 13, 2020
Expected behavior
No exceptions when publishing a message
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Pull requests · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
#531
dsoulayrol opened this issue
Jul 23, 2020
· 0 comments
Comments
Copy link
Quote reply
dsoulayrol
commented
Jul 23, 2020
Hi,
I am working with embedded devices which are very limited in resources, and the server certificate verification takes a very long time. The server closes the connection after 10 seconds, far before the client has completed its computation to ask for the key exchange.
This timeout is set by io.netty.handler.ssl.SslHandler. This handler is created in NewNettyAcceptor#createSslHandler. (I am using version 0.12.1, but I see nothing changed in master). When I call SslHandler#setHandshakeTimeoutMillis here, my problem is solved.
So I'd like to have the capability to provide this timeout value as a property for moquette. I believe it would be an interesting feature because MQTT is easily used on embedded devices, and SSL support is somewhat heavy, so my problem could be seen elsewhere.
I am ready to create a Pull Request if necessary, but I would be happy to hear your comments first on the subject.
👍
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
#547
dsoulayrol
wants to merge
2
commits into
moquette-io:master
from
dsoulayrol:issue-531
Conversation
0
Commits
2
Checks
0
Files changed
Conversation
Copy link
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
}
4
distribution/src/main/scripts/moquette.bat
Show comments
View file
Edit file
Delete file
@@ -1,6 +1,6 @@
@ECHO OFF
rem #
rem # Copyright (c) 2012-2015 Andrea Selva
rem # Copyright (c) 2012-2020 Andrea Selva
rem #
echo " "
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Jump to bottom
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
Open
micw opened this issue
Sep 16, 2020
· 0 comments
Open
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
micw opened this issue
Sep 16, 2020
· 0 comments
Comments
Copy link
Quote reply
Conversation
Copy link
Quote reply
dependabot
bot
commented
on behalf of github
Nov 2, 2020
Bumps junit from 4.8.2 to 4.13.1.
Release notes
Sourced from junit's releases.
JUnit 4.13.1
Please refer to the release notes for details.
JUnit 4.13
Please refer to the release notes for details.
JUnit 4.13 RC 2
Show comments
View file
Edit file
Delete file
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " |_| "
echo " "
echo " version: 0.12.1-SNAPSHOT "
echo " version: 0.12.1 "
set "CURRENT_DIR=%cd%"
if not "%MOQUETTE_HOME%" == "" goto gotHome
2
distribution/src/main/scripts/moquette.sh
Show comments
View file
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
in ServerIntegrationSSLClientAuthTest > checkClientAuthentication.
Bump errorProne version to 2.4.0 to fix java 12 regression.
Fixes ServerLowlevelMessagesIntegrationTests so it cleans up.
This fixes several following tests breaking.
hylkevds
added 6 commits
Aug 13, 2020
Update gradle and plugins for java 11+
0f82530
598ebd4
Fixed NPE when client id is null
20ddcee
Added CA:true tag to signing certificate and regenerated certs
Actual behavior
09:28:02.560 [nioEventLoopGroup-3-1] ERROR i.m.broker.NewNettyMQTTHandler - Error processing protocol message: PUBLISH
java.lang.NullPointerException: null
at io.moquette.broker.subscriptions.CTrie.evaluate(CTrie.java:58)
at io.moquette.broker.subscriptions.CTrie.recursiveMatch(CTrie.java:70)
at io.moquette.broker.subscriptions.CTrie.recursiveMatch(CTrie.java:86)
at io.moquette.broker.subscriptions.CTrie.recursiveMatch(CTrie.java:86)
at io.moquette.broker.subscriptions.CTrie.recursiveMatch(CTrie.java:65)
at io.moquette.broker.subscriptions.CTrieSubscriptionDirectory.matchWithoutQosSharpening(CTrieSubscriptionDirectory.java:67)
at io.moquette.broker.subscriptions.CTrieSubscriptionDirectory.matchQosSharpening(CTrieSubscriptionDirectory.java:72)
at io.moquette.broker.PostOffice.publish2Subscribers(PostOffice.java:207)
at io.moquette.broker.PostOffice.receivedPublishQos2(PostOffice.java:244)
at io.moquette.broker.MQTTConnection.processPublish(MQTTConnection.java:361)
at io.moquette.broker.MQTTConnection.handleMessage(MQTTConnection.java:77)
at io.moquette.broker.NewNettyMQTTHandler.channelRead(NewNettyMQTTHandler.java:58)
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
1 Open
3 Closed
1 Open
3 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Already on GitHub?
Sign in
to your account
Jump to bottom
Mqtt websocket http
#538
Open
strautins opened this issue
Oct 22, 2020
· 1 comment
Open
Mqtt websocket http
#538
strautins opened this issue
Oct 22, 2020
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
1
dsoulayrol
pushed a commit
to dsoulayrol/moquette
that referenced
this issue
Nov 5, 2020
Added configuration item for handshake timeout on SSL channel (moquet…
…
d4401d7
…te-io#531)
Sign up for free
to join this conversation on GitHub.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Quote reply
dsoulayrol
commented
Nov 5, 2020
No description provided.
dsshf
added 2 commits
Nov 5, 2020
Added configuration item for handshake timeout on SSL channel (#531)
Loading status checks…
d4401d7
Set version to 0.14-issue.531
Loading status checks…
88e4541
Sign up for free
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
echo " | | "
echo " |_| "
echo " "
echo " version: 0.13-SNAPSHOT "
echo " version: 0.13 "
set "CURRENT_DIR=%cd%"
if not "%MOQUETTE_HOME%" == "" goto gotHome
4
distribution/src/main/scripts/moquette.sh
Show comments
View file
Edit file
Delete file
@@ -1,6 +1,6 @@
#!/bin/sh
#
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
micw
commented
Sep 16, 2020
Expected behavior
Example should print out messages
Actual behavior
Exception:
Exception in thread "pool-6-thread-1" java.lang.UnsupportedOperationException: direct buffer
at io.netty.buffer.PooledUnsafeDirectByteBuf.array(PooledUnsafeDirectByteBuf.java:226)
at io.netty.buffer.AbstractPooledDerivedByteBuf.array(AbstractPooledDerivedByteBuf.java:118)
Steps to reproduce
Use the embedding example with recent java and recent netty (in my case I run it on java 11 within a spring-boot app with spring-boot managed maven dependencies).
Please refer to the release notes for details.
JUnit 4.13 RC 1
Please refer to the release notes for details.
JUnit 4.13 Beta 3
Please refer to the release notes for details.
JUnit 4.13 Beta 2
Please refer to the release notes for details.
JUnit 4.13 Beta 1
Please refer to the release notes for details.
JUnit 4.12
Please refer to the release notes for details.
JUnit 4.12 Beta 3
Please refer to the release notes for details.
JUnit 4.12 Beta 2
No release notes provided.
JUnit 4.12 Beta 1
No release notes provided.
Edit file
Delete file
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " |_| "
echo " "
echo " version: 0.12.1-SNAPSHOT "
echo " version: 0.12.1 "
cd "$(dirname "$0")"
2
tools_scripts/integration/brokerEmbeddedTest.groovy
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
Reject
Save preferences
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more
Accept
Reject
Save preferences
ce73d6e
Bump errorProne version to 2.4.0 to fix java 12 regression
6e31dfb
dc5e87e
Copy link
Quote reply
Contributor
Author
hylkevds
commented
Aug 14, 2020
Yay, Travis is happy again!
https://travis-ci.org/github/moquette-io/moquette/builds/717854877
:)
Sign up for free
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.moquette.broker.metrics.MQTTMessageLogger.channelRead(MQTTMessageLogger.java:46)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.moquette.broker.metrics.MessageMetricsHandler.channelRead(MessageMetricsHandler.java:50)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)
at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Pull requests · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
· 1 comment
Comments
Copy link
Quote reply
strautins
commented
Oct 22, 2020
Hello,
Trying to understand http api for moquette broker.
Can somebody give me documentation info of how to post on http mqtt messages to moquette?
With client id, login, password etc.
Reintroduce maven build, with wrapper, removed gradle. (#542) · moquette-io/moquette@17f2c93 · GitHub
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Reject
Save preferences
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Reintroduce maven build, with wrapper, removed gradle. (#542) · moquette-io/moquette@17f2c93 · GitHub
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
2 participants
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Pull requests · moquette-io/moquette · GitHub
# Copyright (c) 2012-2015 Andrea Selva
# Copyright (c) 2012-2020 Andrea Selva
#
echo " "
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " |_| "
echo " "
echo " version: 0..13-SNAPSHOT "
echo " version: 0.13 "
cd "$(dirname "$0")"
2
tools_scripts/integration/brokerEmbeddedTest.groovy
Show comments
View file
Edit file
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Minimal yet complete reproducer code (or URL to code) or complete log file
Original.
Moquette MQTT version
0.12.1 with netty 4.1.28
JVM version (e.g. java -version)
openjdk 11
Additional info
Problematic is the call to msg.getPayload().array() which is not guaranteed to succeed. The code can simply be changed to read from the buffer:
byte[] bytes = new byte[msg.getPayload().readableBytes()];
msg.getPayload().readBytes(bytes);
final String decodedPayload = new String(bytes, StandardCharsets.UTF_8);
Sign up for free
to join this conversation on GitHub.
JUnit 4.11
No release notes provided.
Changelog
Sourced from junit's changelog.
Summary of changes in version 4.13.1
Rules
Security fix: TemporaryFolder now limits access to temporary folders on Java 1.7 or later
A local information disclosure vulnerability in TemporaryFolder has been fixed. See the published security advisory for details.
Test Runners
[Pull request #1669:](junit-team/junit#1669) Make FrameworkField constructor public
Prior to this change, custom runners could make FrameworkMethod instances, but not FrameworkField instances. This small change allows for both now, because FrameworkField's constructor has been promoted from package-private to public.
Commits
1b683f4 [maven-release-plugin] prepare release r4.13.1
ce6ce3a Draft 4.13.1 release notes
c29dd82 Change version to 4.13.1-SNAPSHOT
1d17486 Add a link to assertThrows in exception testing
543905d Use separate line for annotation in Javadoc
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@Grab(group='io.moquette', module='moquette-broker', version='0.12.1-SNAPSHOT')
@Grab(group='io.moquette', module='moquette-broker', version='0.12.1')
import io.moquette.server.Server
Toggle all file notes
0 comments
on commit 26e43c5
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.moquette.broker.metrics.BytesMetricsHandler.channelRead(BytesMetricsHandler.java:51)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Bump junit from 4.8.2 to 4.13.1
dependencies
2 Open
3 Closed
2 Open
3 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Moved flow of CONNECT completely inside MQTTConnection
WEB_SOCKET_PORT_PROPERTY_NAME = "websocket_port";
WEB_SOCKET_PATH_PROPERTY_NAME = "websocket_path";
so far I get
ERROR NewNettyMQTTHandler - Unexpected exception while processing MQTT message. Closing Netty channel. CId=null java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.netty.handler.codec.mqtt.MqttMessage
Can't get good info from google,
Thanks
Copy link
Author
strautins
commented
Oct 22, 2020
Correcting, there is no default http post for mqtt, false info I have got. AWS created their own support. So info how to implement websockets?
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Delete file
@@ -1,5 +1,5 @@
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@Grab(group='io.moquette', module='moquette-broker', version='0.13-SNAPSHOT')
@Grab(group='io.moquette', module='moquette-broker', version='0.13')
import io.moquette.server.Server
Toggle all file notes
0 comments
on commit 3b83f47
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
510e906 Add sub headlines to class Javadoc
610155b Merge pull request from GHSA-269g-pwp5-87pp
b6cfd1e Explicitly wrap float parameter for consistency (#1671)
a5d205c Fix GitHub link in FAQ (#1672)
3a5c6b4 Deprecated since jdk9 replacing constructor instance of Double and Float (#1660)
Additional commits viewable in compare view
Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.
Dependabot commands and options
You can trigger Dependabot actions by commenting on this PR:
@dependabot rebase will rebase this PR
@dependabot recreate will recreate this PR, overwriting any edits that have been made to it
@dependabot merge will merge this PR after your CI passes on it
@dependabot squash and merge will squash and merge this PR after your CI passes on it
@dependabot cancel merge will cancel a previously requested merge and block automerging
@dependabot reopen will reopen this PR if it is closed
@dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
@dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1414)
#544
opened Nov 2, 2020 by
dependabot
bot
ProTip!
no:milestone will show everything without a milestone.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
1 Open
2 Closed
1 Open
2 Closed
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Switched to gradle 5.6 (#541) · moquette-io/moquette@b69146b · GitHub
Pull requests · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
moquette/checkstyle-suppressions.xml at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
Sign in to GitHub · GitHub
#548
Open
andsel
wants to merge
3
commits into
master
base:
master
from
fix/move_connect_flow_in_one_place
Open
Moved flow of CONNECT completely inside MQTTConnection
#548
andsel
wants to merge
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
moquette/pom.xml at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
🎉
😕
❤️
🚀
👀
client can't reconnect to the broker once exception happened inner processSubscribe()
#388
opened Feb 6, 2018 by
fjcyue
6
Add Ping Request handling to the interceptors
#481
opened Jun 5, 2019 by
djbr-david
6
Potential Bug in NextPacketID
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
@dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)
@dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
@dependabot use these labels will set the current labels as the default for future PRs for this repo and language
@dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language
@dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language
@dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language
You can disable automated security fix PRs for this repo from the Security Alerts page.
Bump junit from 4.8.2 to 4.13.1
…
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
Loading status checks…
b313cac
Bumps [junit](https://github.com/junit-team/junit4) from 4.8.2 to 4.13.1.
- [Release notes](https://github.com/junit-team/junit4/releases)
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:945)
at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:146)
at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)
at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545)
at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499)
at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459)
at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886)
at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
at java.base/java.lang.Thread.run(Thread.java:834)
Steps to reproduce
git clone git@github.com:FraunhoferIOSB/FROST-Server.git
cd FROST-Server
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
👍
👎
😄
🎉
😕
❤️
🚀
👀
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
3
commits into
master
from
fix/move_connect_flow_in_one_place
Conversation
0
Commits
3
Checks
0
Files changed
Conversation
Copy link
Quote reply
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
bug
#237
opened Nov 29, 2016 by
peacecoder
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
zhengyangyong
3
Will Message lost if client reconnect before server clear the old connection
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
to your account
Clear current search query, filters, and sorts
1 Open
1 Closed
1 Open
1 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
- [Changelog](https://github.com/junit-team/junit4/blob/main/doc/ReleaseNotes4.13.1.md)
- [Commits](junit-team/junit4@r4.8.2...r4.13.1)
Signed-off-by: dependabot[bot] <support@github.com>
dependabot
bot
added
the
dependencies
label
Nov 2, 2020
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
mvn install
https://travis-ci.org/github/FraunhoferIOSB/FROST-Server/jobs/686452716
It seems it does not always happen on my machine, but it's very reproducable on Travis. I've not been able to debug Moquette, since it does not compile on java 11.
Moquette MQTT version
0.13
JVM version (e.g. java -version)
11.0.7
Copy link
Contributor
Author
hylkevds
commented
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
hylkevds
1
ProTip!
no:milestone will show everything without a milestone.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
opened Jul 23, 2020 by
dsoulayrol
ProTip!
Exclude everything labeled bug with -label:bug.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
1 Open
8 Closed
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Pull requests · moquette-io/moquette · GitHub
Rolbacked Paho to 1.2.0 since starting from 1.2.1 TLS tests fails wit… · moquette-io/moquette@3c3859f · GitHub
Rolbacked Paho to 1.2.0 since starting from 1.2.1 TLS tests fails wit… · moquette-io/moquette@3c3859f · GitHub
Issues · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Collaborator
andsel
commented
Nov 7, 2020
This PR has the target to move all the control flow of connect into MQTTConnection. This simplifies changes to introduce MQTT5 support
andsel
added 3 commits
Nov 7, 2020
Moved flow of CONNECT completely inside MQTTConnection
430b4a7
Renamed method in SessionRegistry
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Issues · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
#366
opened Oct 22, 2017 by
fjcyue
1
1
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
1
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
mpe85
6
Buffering settings to reduce latency
#527
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Save preferences
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Reviewers
No reviews
Assignees
No one assigned
Labels
dependencies
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
0 participants
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
May 13, 2020
•
edited
I've made a little minimal test project / torture test for this problem that will usually give the above exception in a few seconds:
https://github.com/hylkevds/moquetteTests
What it does is:
It spins up a Moquette
It creates 1 client for publishing
It creates 10 threads for publishing data
each publishes on 1 topic
each publishes as fast as it can
It creates 1 (or more) thread for listening, each with its own client.
In a loop they:
connect,
subscribe to all topics
count received messages for 2000 ms
unsubscribe from all topics
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
🚀
👀
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
ProTip!
Adding no:label will show everything without a label.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
1
ProTip!
Add no:assignee to see everything that’s not assigned.
1 Open
8 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
c21fc5f
Simplified if-conditions
Loading status checks…
b38542d
andsel
force-pushed the
fix/move_connect_flow_in_one_place
branch
from
d3ccb21
to
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
opened May 8, 2020 by
impliedx
1
checkHeaderAvailability don't check max remaininglength
#217
opened Oct 12, 2016 by
beyondfengyu
1
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
opened Jul 23, 2020 by
dsoulayrol
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
🎉
😕
❤️
🚀
👀
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
micw
ProTip!
Find all open issues with in progress development work with linked:pr.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
disconnect
sleep for 100 ms
If you increase the listener count to 10 or so, I also see lots of other exceptions and netty weirdness, but with just 1 client I only get the above exception.
I hope that helps you in finding the issue!
Copy link
Contributor
Author
hylkevds
commented
May 15, 2020
I managed to get moquette to compile with the help of PR #498 and did a bit of debugging.
If the exception happens, it's because it is evaluating on a TNode, and I think TNodes should be excluded when fetching subscriptions from children:
in CTrie.java:86
if (subInode.mainNode() instanceof TNode) {
continue;
}
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
b38542d
Nov 7, 2020
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Sign in to GitHub · GitHub
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Reintroduce maven build, with wrapper, removed gradle. (#542)
Loading branch information
andsel
committed
Nov 2, 2020
edenmob
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
mjacoby
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
micw
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
Significant (>90%) message loss under heavy load
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Reintroduce maven build, with wrapper, removed gradle. (#542)
Loading branch information
andsel
committed
Nov 2, 2020
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
But I've not fully gone through all details of your CTrie implementation, so I'm not sure this has no side effects.
Copy link
Contributor
Author
hylkevds
commented
May 25, 2020
This seems to be a duplicate of #505
The solution proposed there is essentially the same: Don't process TNodes.
The test project above is still useful for finding problems though :)
hylkevds
added a commit
to hylkevds/moquette
that referenced
this issue
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
👎
😄
🎉
😕
❤️
🚀
👀
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
ProTip!
Exclude everything labeled bug with -label:bug.
© 2020 GitHub, Inc.
Terms
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
b69146b
commit 17f2c9390a7e80b887087186f3272c4814ac4846
Unified
Split
Showing
21 changed files
with
1,241 additions
and 372 deletions.
+117
−0
.mvn/wrapper/MavenWrapperDownloader.java
#480
opened Jun 5, 2019 by
flonix8
2
In BytesMetrics wroteBytes always return 0
#425
opened Jul 27, 2018 by
mjpatelsls
1
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
ConcurrentModificationException while stress testing
invalid
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
b69146b
commit 17f2c9390a7e80b887087186f3272c4814ac4846
Unified
Split
Showing
21 changed files
with
1,241 additions
and 372 deletions.
+117
−0
.mvn/wrapper/MavenWrapperDownloader.java
BIN
dsoulayrol
ProTip!
Adding no:label will show everything without a label.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Aug 13, 2020
Fixes moquette-io#529, moquette-io#505: NPE caused by matching on a T…
…
9c1c2ff
…Node
hylkevds
added a commit
to hylkevds/moquette
that referenced
this issue
Aug 13, 2020
Fixes moquette-io#529, moquette-io#505: NPE caused by matching on a T…
…
72a21ef
…Node
Save preferences
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
dependabot
bot
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dsoulayrol
one get
#520
opened Mar 4, 2020 by
luoliangtiger
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
😄
🎉
😕
❤️
🚀
👀
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dsoulayrol
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Switched to gradle 5.6 (#541)
Loading branch information
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
BIN
.mvn/wrapper/maven-wrapper.jar
+2
−0
.mvn/wrapper/maven-wrapper.properties
+2
−9
.travis.yml
+265
−0
broker/pom.xml
+1
−1
broker/src/test/java/io/moquette/integration/IntegrationUtils.java
#427
opened Aug 9, 2018 by
rakechan
2
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
license is missing in artifact
#492
opened Jul 30, 2019 by
ascheman
.mvn/wrapper/maven-wrapper.jar
+2
−0
.mvn/wrapper/maven-wrapper.properties
+2
−9
.travis.yml
+265
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
hylkevds
linked a pull request that will
close
this issue
Aug 13, 2020
Fixes #529, #505: NPE caused by matching on a TNode
#532
Open
Sign up for free
to join this conversation on GitHub.
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
#464
opened Mar 31, 2019 by
komamitsu
4
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
one get
#520
opened Mar 4, 2020 by
luoliangtiger
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Least recently updated
Most reactions
👍
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Bump junit from 4.8.2 to 4.13.1
andsel
committed
Oct 30, 2020
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
f92c2ba
commit b69146bcbd4895ebf0495b5fcb35fe47b3b25bf2
Unified
Split
Showing
2 changed files
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/checkstyle-suppressions.xml
Go to file
Go to file
T
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Sign in to GitHub · GitHub
Join GitHub · GitHub
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Accept
Reject
Save preferences
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Sign up
3c3859fbd5
moquette/broker/pom.xml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
267 lines (235 sloc)
9 KB
Raw
Blame
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
+1
−1
broker/src/test/resources/log4j.properties
+68
−0
distribution/pom.xml
+57
−0
distribution/src/main/assembly/assembly.xml
+23
−0
embedding_moquette/pom.xml
+0
−9
gradle/java.gradle
Subscription breaks during performance test
#505
opened Oct 4, 2019 by
JinseonyLee
1
MQTT SSL not working
#499
opened Aug 20, 2019 by
francesco98
1
Netty Leak Detection.
#467
opened Apr 4, 2019 by
kopens
1
−0
broker/pom.xml
+1
−1
broker/src/test/java/io/moquette/integration/IntegrationUtils.java
+1
−1
broker/src/test/resources/log4j.properties
+68
−0
distribution/pom.xml
+57
−0
distribution/src/main/assembly/assembly.xml
+23
−0
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
Fixes #529, #505: NPE caused by matching on a TNode
1 participant
© 2020 GitHub, Inc.
Terms
Save preferences
1
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
fix trie match bug and bytesMetrics bug
#464
opened Mar 31, 2019 by
komamitsu
4
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
🚀
👀
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dsoulayrol
one get
#520
opened Mar 4, 2020 by
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dsoulayrol
one get
#520
opened Mar 4, 2020 by
luoliangtiger
Fixes #529, #505: NPE caused by matching on a TNode
#532
👎
😄
🎉
😕
❤️
🚀
👀
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dsoulayrol
one get
#520
opened Mar 4, 2020 by
luoliangtiger
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
with
7 additions
and 7 deletions.
+6
−6
build.gradle
+1
−1
gradle/wrapper/gradle-wrapper.properties
12
build.gradle
Show comments
View file
Edit file
Delete file
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Go to line
L
Copy path
Cannot retrieve contributors at this time
8 lines (7 sloc)
260 Bytes
Raw
Blame
<?xml version="1.0"?>
<!DOCTYPE suppressions PUBLIC
"-//Puppy Crawl//DTD Suppressions 1.0//EN"
"http://www.puppycrawl.com/dtds/suppressions_1_0.dtd">
<suppressions>
<suppress checks="[a-zA-Z0-9]*" files=".*/resources/.*"/>
</suppressions>
Copy lines
Copy permalink
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
<modelVersion>4.0.0</modelVersion>
<parent>
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.14-SNAPSHOT</version>
</parent>
<artifactId>moquette-broker</artifactId>
<packaging>jar</packaging>
<name>Moquette - broker</name>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<bintray.package>io.moquette.moquette-broker</bintray.package>
<netty.version>4.1.53.Final</netty.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
+0
−20
gradle/lint.gradle
+0
−63
gradle/test.gradle
BIN
gradle/wrapper/gradle-wrapper.jar
+0
−5
gradle/wrapper/gradle-wrapper.properties
+0
−172
gradlew
+0
−84
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
ThomasSchemmer
3
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
stayclean
1
Previous 1 2 3 Next
Previous Next
ProTip!
Add no:assignee to see everything that’s not assigned.
© 2020 GitHub, Inc.
embedding_moquette/pom.xml
+0
−9
gradle/java.gradle
+0
−20
gradle/lint.gradle
+0
−63
gradle/test.gradle
BIN
gradle/wrapper/gradle-wrapper.jar
+0
−5
👀
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dsoulayrol
one get
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
#479
opened Jun 2, 2019 by
ilylia
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
1
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
fix trie match bug and bytesMetrics bug
luoliangtiger
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
4
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
fixed throw NullPointerException when new connection
opened Aug 13, 2020 by
hylkevds
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
4
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
dsoulayrol
one get
#520
opened Mar 4, 2020 by
luoliangtiger
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
4
hylkevds
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
4
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
@@ -15,7 +15,7 @@ buildscript {
dependencies {
classpath 'net.ltgt.gradle:gradle-errorprone-plugin:0.0.13'
classpath 'gradle.plugin.com.github.spotbugs:gradlePlugin:1.6.0'
classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'
classpath 'com.github.jengelman.gradle.plugins:shadow:5.2.0'
classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7.3'
}
}
@@ -31,8 +31,8 @@ subprojects {
}
apply from: new File(rootDir, 'gradle/java.gradle')
apply from: new File(rootDir, 'gradle/test.gradle')
apply from: new File(rootDir, 'gradle/lint.gradle')
// apply from: new File(rootDir, 'gradle/test.gradle')
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Browse files
Loading status checks…
Rolbacked Paho to 1.2.0 since starting from 1.2.1 TLS tests fails wit…
…h: Caused by: javax.net.ssl.SSLHandshakeException: No name matching localhost found
Loading branch information
andsel
committed
Nov 7, 2020
1 parent
89a4ada
commit 3c3859fbd575179e404a6d2c45da6ff9852d279a
Unified
Split
Showing
1 changed file
with
Insights
Permalink
Browse files
Loading status checks…
Rolbacked Paho to 1.2.0 since starting from 1.2.1 TLS tests fails wit…
…h: Caused by: javax.net.ssl.SSLHandshakeException: No name matching localhost found
Loading branch information
andsel
committed
Nov 7, 2020
1 parent
89a4ada
commit 3c3859fbd575179e404a6d2c45da6ff9852d279a
Unified
Split
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Compare · moquette-io/moquette · GitHub
Packages · Moquette · GitHub
Added GitHub Issue template · moquette-io/moquette@a49792a · GitHub
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
<paho.version>1.2.0</paho.version>
<h2.version>1.4.199</h2.version>
</properties>
<dependencies>
<dependency>
<groupId>org.slf4j</groupId>
<artifactId>slf4j-api</artifactId>
<version>1.7.5</version>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-common</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
😄
🎉
😕
❤️
🚀
👀
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
gradlew.bat
+310
−0
mvnw
+182
−0
mvnw.cmd
+213
−0
pom.xml
+0
−8
settings.gradle
117
.mvn/wrapper/MavenWrapperDownloader.java
Show comments
Added GitHub Issue template · moquette-io/moquette@a49792a · GitHub
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
gradle/wrapper/gradle-wrapper.properties
+0
−172
gradlew
+0
−84
gradlew.bat
+310
−0
mvnw
+182
−0
mvnw.cmd
+213
−0
pom.xml
#520
opened Mar 4, 2020 by
luoliangtiger
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
4
Java 11 compatibility
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
andsel
ProTip!
no:milestone will show everything without a milestone.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
#479
opened Jun 2, 2019 by
ilylia
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
ProTip!
#519
opened Mar 2, 2020 by
luoliangtiger
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
Bugfix/stop broker interceptor
#530
luoliangtiger
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
Clean test storage on exit to prevent assert in next test
// apply from: new File(rootDir, 'gradle/lint.gradle')
apply plugin: 'com.jfrog.bintray'
apply plugin: 'eclipse'
@@ -112,6 +112,6 @@ subprojects {
}
}
task wrapper(type: Wrapper) {
gradleVersion = '4.6'
}
//task wrapper(type: Wrapper) {
// gradleVersion = '5.6'
//}
2
gradle/wrapper/gradle-wrapper.properties
Show comments
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
one get
#520
opened Mar 4, 2020 by
luoliangtiger
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
👎
😄
🎉
😕
❤️
🚀
👀
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
updated Nov 7, 2020
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
😄
🎉
😕
❤️
🚀
👀
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
1 addition
and 1 deletion.
+1
−1
broker/pom.xml
2
broker/pom.xml
Show comments
View file
Edit file
Delete file
@@ -17,7 +17,7 @@
<bintray.package>io.moquette.moquette-broker</bintray.package>
<bintray.package>io.moquette.moquette-broker</bintray.package>
Showing
1 changed file
with
1 addition
and 1 deletion.
+1
−1
broker/pom.xml
2
broker/pom.xml
Show comments
View file
Edit file
Delete file
@@ -17,7 +17,7 @@
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Save preferences
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
<artifactId>netty-buffer</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-transport</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-handler</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-codec</artifactId>
</dependency>
<dependency>
dsoulayrol
one get
#520
opened Mar 4, 2020 by
luoliangtiger
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
View file
Edit file
Delete file
@@ -0,0 +1,117 @@
/*
* Copyright 2007-present the original author or authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
Issues · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
+0
−8
settings.gradle
117
.mvn/wrapper/MavenWrapperDownloader.java
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,117 @@
/*
* Copyright 2007-present the original author or authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
#498
opened Aug 17, 2019 by
qbast
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Authentication changes
#507
opened Oct 11, 2019 by
Big refactory on session management: · moquette-io/moquette@1b272e5 · GitHub
Reject
Save preferences
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
opened May 26, 2020 by
Northram511
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
ilylia
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
ilylia
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Moved flow of CONNECT completely inside MQTTConnection
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
#497
opened Aug 16, 2019 by
qbast
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
ilylia
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Moved flow of CONNECT completely inside MQTTConnection
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-4.6-bin.zip
distributionUrl=https\://services.gradle.org/distributions/gradle-5.6-bin.zip
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
Toggle all file notes
0 comments
on commit b69146b
Please
sign in to comment.
© 2020 GitHub, Inc.
Northram511
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
1
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dsoulayrol
updated Nov 5, 2020
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
updated Nov 2, 2020
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
updated Apr 8, 2019
1
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
ilylia
updated Jun 21, 2019
4
Clean test storage on exit to prevent assert in next test
#497
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
<netty.version>4.1.53.Final</netty.version>
<netty.version>4.1.53.Final</netty.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<paho.version>1.2.1</paho.version>
<paho.version>1.2.0</paho.version>
<h2.version>1.4.199</h2.version>
<h2.version>1.4.199</h2.version>
</properties>
</properties>
Toggle all file notes
0 comments
on commit 3c3859f
Please
sign in to comment.
© 2020 GitHub, Inc.
<bintray.package>io.moquette.moquette-broker</bintray.package>
<netty.version>4.1.53.Final</netty.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<paho.version>1.2.1</paho.version>
<paho.version>1.2.0</paho.version>
<h2.version>1.4.199</h2.version>
</properties>
Toggle all file notes
0 comments
on commit 3c3859f
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Sign in to GitHub · GitHub
MQTT durable subscription exception · Issue #455 · moquette-io/moquette · GitHub
Join GitHub · GitHub
Sign in to GitHub · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
<groupId>io.netty</groupId>
<artifactId>netty-codec-http</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-codec-mqtt</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-transport-native-epoll</artifactId>
<classifier>linux-x86_64</classifier>
</dependency>
<dependency>
<groupId>com.h2database</groupId>
<artifactId>h2-mvstore</artifactId>
4
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Authentication changes
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
import java.net.*;
import java.io.*;
import java.nio.channels.*;
import java.util.Properties;
public class MavenWrapperDownloader {
private static final String WRAPPER_VERSION = "0.5.6";
/**
* Default URL to download the maven-wrapper.jar from, if no 'downloadUrl' is provided.
*/
private static final String DEFAULT_DOWNLOAD_URL = "https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/"
+ WRAPPER_VERSION + "/maven-wrapper-" + WRAPPER_VERSION + ".jar";
/**
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
import java.net.*;
import java.io.*;
import java.nio.channels.*;
import java.util.Properties;
public class MavenWrapperDownloader {
ndchandar
2
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
ProTip!
Exclude everything labeled bug with -label:bug.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
#548
opened Nov 7, 2020 by
andsel
ProTip!
Filter pull requests by the default branch with base:master.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
ilylia
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
ProTip!
Filter pull requests by the default branch with base:master.
© 2020 GitHub, Inc.
Terms
#548
opened Nov 7, 2020 by
andsel
ProTip!
Filter pull requests by the default branch with base:master.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
dsoulayrol
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
fix trie match bug and bytesMetrics bug
hylkevds
updated Oct 1, 2020
1
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
updated Aug 13, 2020
1
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
updated May 26, 2020
one get
#520
opened Aug 16, 2019 by
qbast
updated Aug 16, 2019
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
updated Aug 17, 2019
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
updated Sep 24, 2019
4
Authentication changes
#507
Accept
Reject
Save preferences
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
4
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
ilylia
4
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
client can't reconnect to the broker once exception happened inner processSubscribe()
#388
opened Feb 6, 2018 by
fjcyue
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
client can't reconnect to the broker once exception happened inner processSubscribe()
#388
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
client can't reconnect to the broker once exception happened inner processSubscribe()
#388
opened Feb 6, 2018 by
😄
🎉
😕
❤️
🚀
👀
client can't reconnect to the broker once exception happened inner processSubscribe()
#388
opened Feb 6, 2018 by
fjcyue
6
Add Ping Request handling to the interceptors
#481
opened Jun 5, 2019 by
djbr-david
6
</dependency>
<dependency>
<groupId>com.zaxxer</groupId>
<artifactId>HikariCP</artifactId>
<version>2.4.7</version>
</dependency>
<dependency>
<groupId>io.dropwizard.metrics</groupId>
<artifactId>metrics-core</artifactId>
<version>3.2.2</version>
</dependency>
<dependency>
<groupId>io.dropwizard.metrics</groupId>
<artifactId>metrics-jvm</artifactId>
#507
opened Oct 11, 2019 by
ndchandar
2
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
fix trie match bug and bytesMetrics bug
#479
* Path to the maven-wrapper.properties file, which might contain a downloadUrl property to
* use instead of the default one.
*/
private static final String MAVEN_WRAPPER_PROPERTIES_PATH =
".mvn/wrapper/maven-wrapper.properties";
/**
* Path where the maven-wrapper.jar will be saved to.
*/
private static final String MAVEN_WRAPPER_JAR_PATH =
".mvn/wrapper/maven-wrapper.jar";
/**
* Name of the property which should be used to override the default download url for the wrapper.
*/
private static final String PROPERTY_NAME_WRAPPER_URL = "wrapperUrl";
public static void main(String args[]) {
Milestones - moquette-io/moquette · GitHub
Labels · moquette-io/moquette · GitHub
Pull requests · moquette-io/moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
private static final String WRAPPER_VERSION = "0.5.6";
/**
* Default URL to download the maven-wrapper.jar from, if no 'downloadUrl' is provided.
*/
private static final String DEFAULT_DOWNLOAD_URL = "https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/"
+ WRAPPER_VERSION + "/maven-wrapper-" + WRAPPER_VERSION + ".jar";
/**
* Path to the maven-wrapper.properties file, which might contain a downloadUrl property to
* use instead of the default one.
*/
private static final String MAVEN_WRAPPER_PROPERTIES_PATH =
".mvn/wrapper/maven-wrapper.properties";
/**
* Path where the maven-wrapper.jar will be saved to.
*/
private static final String MAVEN_WRAPPER_JAR_PATH =
ilylia
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
ProTip!
Updated in the last three days: updated:>2020-11-08.
© 2020 GitHub, Inc.
Terms
Privacy
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Learn more
Accept
Reject
Save preferences
Reject
Save preferences
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
#479
opened Jun 2, 2019 by
ilylia
4
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
4
ProTip!
Exclude everything labeled bug with -label:bug.
opened Mar 4, 2020 by
luoliangtiger
updated Mar 4, 2020
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
updated Mar 2, 2020
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
updated Oct 18, 2019
2
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Oct 11, 2019 by
ndchandar
updated Oct 18, 2019
2
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
updated Mar 2, 2020
one get
#520
opened Mar 4, 2020 by
luoliangtiger
updated Mar 4, 2020
Bugfix/stop broker interceptor
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
6
Add Ping Request handling to the interceptors
#481
opened Jun 5, 2019 by
djbr-david
6
Potential Bug in NextPacketID
bug
#237
opened Nov 29, 2016 by
peacecoder
Memory grows infinitely when Qos set 2
#423
opened Feb 6, 2018 by
fjcyue
6
Add Ping Request handling to the interceptors
#481
opened Jun 5, 2019 by
djbr-david
6
Potential Bug in NextPacketID
bug
#237
opened Nov 29, 2016 by
peacecoder
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Pull requests · moquette-io/moquette · GitHub
Packages · Moquette · GitHub
Packages · Moquette · GitHub
Packages · Moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
fjcyue
6
Add Ping Request handling to the interceptors
#481
opened Jun 5, 2019 by
djbr-david
6
Potential Bug in NextPacketID
bug
#237
opened Nov 29, 2016 by
peacecoder
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
Potential Bug in NextPacketID
bug
#237
opened Nov 29, 2016 by
peacecoder
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
zhengyangyong
3
Will Message lost if client reconnect before server clear the old connection
#366
opened Oct 22, 2017 by
fjcyue
1
<version>3.2.2</version>
</dependency>
<dependency>
<groupId>com.librato.metrics</groupId>
<artifactId>metrics-librato</artifactId>
<version>5.1.0</version>
</dependency>
<dependency>
<groupId>com.librato.metrics</groupId>
<artifactId>librato-java</artifactId>
<version>2.1.0</version>
</dependency>
<dependency>
<groupId>com.bugsnag</groupId>
<artifactId>bugsnag</artifactId>
opened Jun 2, 2019 by
ilylia
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
ProTip!
Find all pull requests that aren't related to any open issues with -linked:issue.
© 2020 GitHub, Inc.
System.out.println("- Downloader started");
File baseDirectory = new File(args[0]);
System.out.println("- Using base directory: " + baseDirectory.getAbsolutePath());
// If the maven-wrapper.properties exists, read it and check if it contains a custom
// wrapperUrl parameter.
File mavenWrapperPropertyFile = new File(baseDirectory, MAVEN_WRAPPER_PROPERTIES_PATH);
String url = DEFAULT_DOWNLOAD_URL;
if(mavenWrapperPropertyFile.exists()) {
FileInputStream mavenWrapperPropertyFileInputStream = null;
try {
mavenWrapperPropertyFileInputStream = new FileInputStream(mavenWrapperPropertyFile);
Properties mavenWrapperProperties = new Properties();
mavenWrapperProperties.load(mavenWrapperPropertyFileInputStream);
url = mavenWrapperProperties.getProperty(PROPERTY_NAME_WRAPPER_URL, url);
} catch (IOException e) {
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
".mvn/wrapper/maven-wrapper.jar";
/**
* Name of the property which should be used to override the default download url for the wrapper.
*/
private static final String PROPERTY_NAME_WRAPPER_URL = "wrapperUrl";
public static void main(String args[]) {
System.out.println("- Downloader started");
File baseDirectory = new File(args[0]);
System.out.println("- Using base directory: " + baseDirectory.getAbsolutePath());
// If the maven-wrapper.properties exists, read it and check if it contains a custom
// wrapperUrl parameter.
File mavenWrapperPropertyFile = new File(baseDirectory, MAVEN_WRAPPER_PROPERTIES_PATH);
String url = DEFAULT_DOWNLOAD_URL;
if(mavenWrapperPropertyFile.exists()) {
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more
Accept
Reject
Save preferences
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
opened Mar 31, 2019 by
komamitsu
updated Sep 24, 2019
4
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
updated Aug 17, 2019
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
updated Aug 16, 2019
fix trie match bug and bytesMetrics bug
#479
#530
opened May 26, 2020 by
Northram511
updated May 26, 2020
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
updated Aug 13, 2020
1
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
updated Oct 1, 2020
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
one get
#520
opened Mar 4, 2020 by
luoliangtiger
Bugfix/stop broker interceptor
#530
opened Jul 10, 2018 by
zhengyangyong
3
Will Message lost if client reconnect before server clear the old connection
#366
opened Oct 22, 2017 by
fjcyue
1
1
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
1
Plans to support MQTT 5?
zhengyangyong
3
Will Message lost if client reconnect before server clear the old connection
#366
opened Oct 22, 2017 by
fjcyue
1
1
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
1
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Sign up
Moquette
Repositories
Packages
People
Projects
There aren’t any packages here
With GitHub Packages you can safely publish and consume packages.Learn more about GitHub Packages
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
↵
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
zhengyangyong
3
Will Message lost if client reconnect before server clear the old connection
#366
opened Oct 22, 2017 by
fjcyue
1
1
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
1
Plans to support MQTT 5?
#490
1
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
1
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
mpe85
6
Buffering settings to reduce latency
#527
opened May 8, 2020 by
<version>[3.0,4.0)</version>
</dependency>
<dependency>
<groupId>commons-codec</groupId>
<artifactId>commons-codec</artifactId>
<version>1.10</version>
</dependency>
<!--<dependency>-->
<!--<groupId>org.hdrhistogram</groupId>-->
<!--<artifactId>HdrHistogram</artifactId>-->
<!--<version>2.1.4</version>-->
<!--</dependency>-->
<!-- Test dependencies -->
<!--<dependency>-->
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
System.out.println("- ERROR loading '" + MAVEN_WRAPPER_PROPERTIES_PATH + "'");
} finally {
try {
if(mavenWrapperPropertyFileInputStream != null) {
mavenWrapperPropertyFileInputStream.close();
}
} catch (IOException e) {
// Ignore ...
}
}
}
System.out.println("- Downloading from: " + url);
File outputFile = new File(baseDirectory.getAbsolutePath(), MAVEN_WRAPPER_JAR_PATH);
if(!outputFile.getParentFile().exists()) {
if(!outputFile.getParentFile().mkdirs()) {
System.out.println(
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
FileInputStream mavenWrapperPropertyFileInputStream = null;
try {
mavenWrapperPropertyFileInputStream = new FileInputStream(mavenWrapperPropertyFile);
Properties mavenWrapperProperties = new Properties();
mavenWrapperProperties.load(mavenWrapperPropertyFileInputStream);
url = mavenWrapperProperties.getProperty(PROPERTY_NAME_WRAPPER_URL, url);
} catch (IOException e) {
System.out.println("- ERROR loading '" + MAVEN_WRAPPER_PROPERTIES_PATH + "'");
} finally {
try {
if(mavenWrapperPropertyFileInputStream != null) {
mavenWrapperPropertyFileInputStream.close();
}
} catch (IOException e) {
// Ignore ...
}
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
opened Jun 2, 2019 by
ilylia
updated Jun 21, 2019
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
updated Apr 8, 2019
1
ProTip!
1
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
updated Nov 2, 2020
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened May 26, 2020 by
Northram511
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
1
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
#490
opened Jul 23, 2019 by
mpe85
6
Buffering settings to reduce latency
#527
opened May 8, 2020 by
impliedx
1
checkHeaderAvailability don't check max remaininglength
#217
opened Oct 12, 2016 by
beyondfengyu
1
New configuration parameter : setting the HandshakeTimeout on SslHandler
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
mpe85
6
Buffering settings to reduce latency
#527
opened May 8, 2020 by
impliedx
1
checkHeaderAvailability don't check max remaininglength
#217
opened Oct 12, 2016 by
beyondfengyu
1
New configuration parameter : setting the HandshakeTimeout on SslHandler
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Added GitHub Issue template
Loading branch information
andsel
committed
opened Jul 23, 2019 by
mpe85
6
Buffering settings to reduce latency
#527
opened May 8, 2020 by
impliedx
1
checkHeaderAvailability don't check max remaininglength
#217
opened Oct 12, 2016 by
beyondfengyu
1
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
impliedx
1
checkHeaderAvailability don't check max remaininglength
#217
opened Oct 12, 2016 by
beyondfengyu
1
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
opened Jul 23, 2020 by
dsoulayrol
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
edenmob
<!--<groupId>junit</groupId>-->
<!--<artifactId>junit</artifactId>-->
<!--<version>4.8.2</version>-->
<!--<scope>test</scope>-->
<!--</dependency>-->
<!--<dependency>-->
<!--<groupId>org.slf4j</groupId>-->
<!--<artifactId>slf4j-log4j12</artifactId>-->
<!--<version>1.7.5</version>-->
<!--<scope>test</scope>-->
<!--</dependency>-->
<!--&lt;!&ndash; needs extra dependencies: objenesis & hamcrest &ndash;&gt;-->
<!--<dependency>-->
<!--<groupId>org.mockito</groupId>-->
<!--<artifactId>mockito-core</artifactId>-->
<!--<version>1.9.0</version>-->
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
"- ERROR creating output directory '" + outputFile.getParentFile().getAbsolutePath() + "'");
}
}
System.out.println("- Downloading to: " + outputFile.getAbsolutePath());
try {
downloadFileFromURL(url, outputFile);
System.out.println("Done");
System.exit(0);
} catch (Throwable e) {
System.out.println("- Error downloading");
e.printStackTrace();
System.exit(1);
}
}
private static void downloadFileFromURL(String urlString, File destination) throws Exception {
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Added GitHub Issue template
Loading branch information
andsel
committed
Oct 20, 2017
1 parent
1b272e5
commit a49792adf5d6bcf636737478e972207f516dc4df
Unified
}
}
System.out.println("- Downloading from: " + url);
File outputFile = new File(baseDirectory.getAbsolutePath(), MAVEN_WRAPPER_JAR_PATH);
if(!outputFile.getParentFile().exists()) {
if(!outputFile.getParentFile().mkdirs()) {
System.out.println(
"- ERROR creating output directory '" + outputFile.getParentFile().getAbsolutePath() + "'");
}
}
System.out.println("- Downloading to: " + outputFile.getAbsolutePath());
try {
downloadFileFromURL(url, outputFile);
System.out.println("Done");
System.exit(0);
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Save preferences
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
opened Nov 5, 2020 by
dsoulayrol
updated Nov 5, 2020
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
updated Nov 7, 2020
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
dependabot
bot
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dsoulayrol
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
ProTip!
Updated in the last three days: updated:>2020-11-08.
© 2020 GitHub, Inc.
#531
opened Jul 23, 2020 by
dsoulayrol
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
edenmob
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
mjacoby
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
#531
opened Jul 23, 2020 by
dsoulayrol
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
edenmob
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
mjacoby
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Wiki
Security
Insights
Compare changes
Compare changes across branches, commits, tags, and more below.
If you need to, you can also compare across forks.
base repository:
moquette-io/moquette
Choose a Base Repository
moquette-io/moquette
19317362/moquette
908626950/moquette
9612jhf/moquette
ASUSCloudIoT/moquette
Aviking88/moquette
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
↵
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Oct 20, 2017
1 parent
1b272e5
commit a49792adf5d6bcf636737478e972207f516dc4df
Unified
Split
Showing
1 changed file
with
13 additions
and 0 deletions.
+13
−0
.github/ISSUE_TEMPLATE.md
13
opened Jul 23, 2020 by
dsoulayrol
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
edenmob
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
mjacoby
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
mjacoby
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
micw
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
Significant (>90%) message loss under heavy load
<!--<scope>test</scope>-->
<!--</dependency>-->
<dependency>
<groupId>org.fusesource.mqtt-client</groupId>
<artifactId>mqtt-client</artifactId>
<version>1.12</version>
<scope>test</scope>
</dependency>
<dependency>
if (System.getenv("MVNW_USERNAME") != null && System.getenv("MVNW_PASSWORD") != null) {
String username = System.getenv("MVNW_USERNAME");
char[] password = System.getenv("MVNW_PASSWORD").toCharArray();
Authenticator.setDefault(new Authenticator() {
@Override
protected PasswordAuthentication getPasswordAuthentication() {
return new PasswordAuthentication(username, password);
}
});
}
URL website = new URL(urlString);
ReadableByteChannel rbc;
rbc = Channels.newChannel(website.openStream());
FileOutputStream fos = new FileOutputStream(destination);
fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Split
Showing
1 changed file
with
13 additions
and 0 deletions.
+13
−0
.github/ISSUE_TEMPLATE.md
13
.github/ISSUE_TEMPLATE.md
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,13 @@
} catch (Throwable e) {
System.out.println("- Error downloading");
e.printStackTrace();
System.exit(1);
}
}
private static void downloadFileFromURL(String urlString, File destination) throws Exception {
if (System.getenv("MVNW_USERNAME") != null && System.getenv("MVNW_PASSWORD") != null) {
String username = System.getenv("MVNW_USERNAME");
char[] password = System.getenv("MVNW_PASSWORD").toCharArray();
Authenticator.setDefault(new Authenticator() {
@Override
protected PasswordAuthentication getPasswordAuthentication() {
return new PasswordAuthentication(username, password);
}
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Big refactory on session management:
- introduced a unique point of access and management of sessions state (SessionRepository)
- separated behaiour for sessions with clean flag to false into DurableSession
- separated behaviour for session with clean flag to true into TransientSession
Loading branch information
andsel
committed
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
opened Sep 16, 2020 by
micw
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
Significant (>90%) message loss under heavy load
#480
opened Jun 5, 2019 by
flonix8
2
In BytesMetrics wroteBytes always return 0
#425
opened Jul 27, 2018 by
opened Sep 16, 2020 by
micw
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
Significant (>90%) message loss under heavy load
#480
opened Jun 5, 2019 by
flonix8
2
In BytesMetrics wroteBytes always return 0
#425
opened Jul 27, 2018 by
mjpatelsls
1
CNXTEoEorg/moquette
Dev-Tony/moquette
GCPBigData/moquette
JamesLiAndroid/moquette
Jamesweng/moquette
LanKo-X/moquette
Lengbamboo/moquette
Matthew83/moquette
MehdiFal/moquette
MihoYamato/moquette
ShangarDeviNatarajan/moquette-1
SyedOsman33/moquette
VincentCaow/moquette
Wangab/moquette
WayChungChen/moquette
WeWebsterchen/moquette
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
Projects
There aren’t any packages here
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
.github/ISSUE_TEMPLATE.md
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,13 @@
### Expected behavior
### Actual behavior
### Steps to reproduce
### Minimal yet complete reproducer code (or URL to code) or complete log file
### Moquette MQTT version
### JVM version (e.g. `java -version`)
### OS version (e.g. `uname -a`)
Toggle all file notes
micw
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
Significant (>90%) message loss under heavy load
#480
opened Jun 5, 2019 by
flonix8
2
In BytesMetrics wroteBytes always return 0
#425
opened Jul 27, 2018 by
mjpatelsls
1
#480
opened Jun 5, 2019 by
flonix8
2
In BytesMetrics wroteBytes always return 0
#425
opened Jul 27, 2018 by
mjpatelsls
1
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
ConcurrentModificationException while stress testing
<groupId>org.eclipse.paho</groupId>
<artifactId>org.eclipse.paho.client.mqttv3</artifactId>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.eclipse.jetty.websocket</groupId>
<artifactId>websocket-client</artifactId>
<version>9.2.0.M1</version>
<scope>test</scope>
</dependency>
<!--<dependency>-->
<!--<groupId>org.assertj</groupId>-->
<!--<artifactId>assertj-core</artifactId>-->
<!--&lt;!&ndash; use 2.6.0 for Java 7 projects &ndash;&gt;-->
<!--<version>2.6.0</version>-->
fos.close();
rbc.close();
}
}
BIN
+49.5 KB
.mvn/wrapper/maven-wrapper.jar
Show comments
View file
Edit file
Delete file
Binary file not shown.
2
.mvn/wrapper/maven-wrapper.properties
Show comments
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
### Expected behavior
### Actual behavior
### Steps to reproduce
### Minimal yet complete reproducer code (or URL to code) or complete log file
### Moquette MQTT version
### JVM version (e.g. `java -version`)
### OS version (e.g. `uname -a`)
Toggle all file notes
0 comments
on commit a49792a
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
});
}
URL website = new URL(urlString);
ReadableByteChannel rbc;
rbc = Channels.newChannel(website.openStream());
FileOutputStream fos = new FileOutputStream(destination);
fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);
fos.close();
rbc.close();
}
}
BIN
+49.5 KB
.mvn/wrapper/maven-wrapper.jar
Show comments
View file
Oct 14, 2017
1 parent
6bacce6
commit 1b272e584933fc0b78919bad767d7e73dbcc01b6
Unified
Split
Showing
43 changed files
with
1,101 additions
and 1,704 deletions.
+0
−8
broker/src/main/java/io/moquette/connections/IConnectionsManager.java
+46
Learn more
Accept
Reject
Save preferences
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
mjpatelsls
1
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
ConcurrentModificationException while stress testing
invalid
#427
opened Aug 9, 2018 by
rakechan
2
BrokerInterceptor thread pool never closing on serverStop
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
ConcurrentModificationException while stress testing
invalid
#427
opened Aug 9, 2018 by
rakechan
2
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
license is missing in artifact
WilliamKinaan/moquette
Wizzercn/moquette
XiaolinYi/moquette
YouAreAGeologist/moquette
YoungWalker/moquette
ZerroCool/moquette
activexJ/moquette
alex-mengx/moquette
alick2011/moquette
altair-albert/moquette
andsel/moquette
aploese/moquette
apqit/moquette
archive-j/moquette
ashengwang/moquette
banyue/moquette
Packages · Moquette · GitHub
Packages · Moquette · GitHub
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
With GitHub Packages you can safely publish and consume packages.Learn more about GitHub Packages
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Packages · Moquette · GitHub
People
Projects
Type:
All
Select type
All
Container
npm
RubyGems
Maven
Docker
NuGet
Visibility:
Public
Select visibility
All
Sign up
Moquette
Repositories
Packages
People
Projects
Type:
All
Select type
All
Container
npm
RubyGems
Maven
Docker
NuGet
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
MQTT durable subscription exception
#455
Open
OleksandrBerezianskyi opened this issue
Mar 8, 2019
· 1 comment
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Packages · Moquette · GitHub
0 comments
on commit a49792a
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
ConcurrentModificationException while stress testing
invalid
#427
opened Aug 9, 2018 by
rakechan
2
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
license is missing in artifact
invalid
#427
opened Aug 9, 2018 by
rakechan
2
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
license is missing in artifact
#492
opened Jul 30, 2019 by
ascheman
Subscription breaks during performance test
#505
<!--<scope>test</scope>-->
<!--</dependency>-->
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-tcnative</artifactId>
<classifier>linux-x86_64</classifier>
<scope>test</scope>
</dependency>
<dependency>
<groupId>com.h2database</groupId>
<artifactId>h2</artifactId>
<scope>test</scope>
</dependency>
</dependencies>
Packages · Moquette · GitHub
View file
Edit file
Delete file
@@ -0,0 +1,2 @@
distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.6.2/apache-maven-3.6.2-bin.zip
wrapperUrl=https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar
11
.travis.yml
Show comments
View file
Edit file
Delete file
@@ -1,13 +1,6 @@
language: java
language: java
Projects
Wiki
Security
Insights
Labels
Milestones
6
Open
0
Closed
Sort
Sort
Recently updated
Furthest due date
Closest due date
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
No labels!
There aren’t any labels for this repository quite yet.
8
labels
Sort
Sort
Alphabetically
Reverse alphabetically
Most issues
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Edit file
Delete file
Binary file not shown.
2
.mvn/wrapper/maven-wrapper.properties
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,2 @@
distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.6.2/apache-maven-3.6.2-bin.zip
wrapperUrl=https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar
11
.travis.yml
Show comments
−93
broker/src/main/java/io/moquette/persistence/MemorySessionStore.java
+3
−1
broker/src/main/java/io/moquette/persistence/PersistentSession.java
+1
−1
broker/src/main/java/io/moquette/server/ConnectionDescriptor.java
+7
−17
broker/src/main/java/io/moquette/server/ConnectionDescriptorStore.java
+1
−1
broker/src/main/java/io/moquette/server/Constants.java
Save preferences
#506
opened Oct 9, 2019 by
bobrowskim
license is missing in artifact
#492
opened Jul 30, 2019 by
ascheman
Subscription breaks during performance test
#505
opened Oct 4, 2019 by
JinseonyLee
#492
opened Jul 30, 2019 by
ascheman
Subscription breaks during performance test
#505
opened Oct 4, 2019 by
JinseonyLee
1
MQTT SSL not working
#499
opened Aug 20, 2019 by
francesco98
bazi/moquette
bcw104/moquette
beckhamcm/moquette
bekirozgunlu/moquette
bemisguided/moquette
bhaecke/moquette
biddyweb/moquette
bingogh/moquette
bingzhuyou/moquette
blackadmin/moquette
briancarbs/moquette
butaji/moquette
ccf19881030/moquette
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Packages · Moquette · GitHub
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Private
Public
Sort by:
Most downloads
Select sort view
Most downloads
Least downloads
Clear current search query, filters, and sorts
0 packages
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Visibility:
Private
Select visibility
All
Private
Public
Sort by:
Most downloads
Select sort view
Most downloads
Least downloads
Clear current search query, filters, and sorts
0 packages
Open
MQTT durable subscription exception
#455
OleksandrBerezianskyi opened this issue
Mar 8, 2019
· 1 comment
Assignees
Labels
bug
Milestone
0.13
Comments
Copy link
Quote reply
OleksandrBerezianskyi
commented
Mar 8, 2019
Packages · Moquette · GitHub
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
#492
opened Jul 30, 2019 by
ascheman
Subscription breaks during performance test
#505
opened Oct 4, 2019 by
JinseonyLee
1
MQTT SSL not working
#499
opened Aug 20, 2019 by
francesco98
1
opened Oct 4, 2019 by
JinseonyLee
1
MQTT SSL not working
#499
opened Aug 20, 2019 by
francesco98
1
Netty Leak Detection.
#467
opened Apr 4, 2019 by
kopens
1
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
Packages · Moquette · GitHub
<build>
<plugins>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-surefire-plugin</artifactId>
<configuration>
<systemPropertyVariables>
<io.netty.leakDetectionLevel>PARANOID</io.netty.leakDetectionLevel>
</systemPropertyVariables>
<includes>
<include>**/*Test.java</include>
</includes>
</configuration>
</plugin>
<!-- Generate the test-jar -->
<plugin>
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
jdk:
jdk:
- openjdk12
- openjdk12
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
directories:
- $HOME/.gradle/caches/
- $HOME/.gradle/wrapper/
script:
#script:
- ./gradlew install test
# - ./mvnw verify
Oops, something went wrong.
Least complete
Most complete
Alphabetically
Reverse alphabetically
Most issues
Least issues
0.14
No due date
Last updated 9 days ago
100%
complete
0
open
1
closed
0.13
Fewest issues
bug
bug
5 open issues and pull requests
dependencies
dependencies
Pull requests that update a dependency file
1 open issue or pull request
duplicate
duplicate
feature req
feature req
5 open issues and pull requests
help wanted
help wanted
invalid
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
View file
Edit file
Delete file
@@ -1,13 +1,6 @@
language: java
jdk:
- openjdk12
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
directories:
+40
−163
broker/src/main/java/io/moquette/spi/ClientSession.java
+229
−0
broker/src/main/java/io/moquette/spi/DurableSession.java
+28
−0
broker/src/main/java/io/moquette/spi/EnqueuedMessage.java
+0
−1
broker/src/main/java/io/moquette/spi/IMessagesStore.java
+12
1
MQTT SSL not working
#499
opened Aug 20, 2019 by
francesco98
1
Netty Leak Detection.
#467
opened Apr 4, 2019 by
kopens
1
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
ThomasSchemmer
1
Netty Leak Detection.
#467
opened Apr 4, 2019 by
kopens
1
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
ThomasSchemmer
3
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
cheng04119/moquette
chengc017/moquette
chord1645/moquette
christopheblin/moquette
cimhealth/moquette
cm8421/moquette
coalba/moquette
cpacey/moquette
crooods/moquette
ctfree/moquette
cuidonghuan/moquette
dant3/moquette
daququ/moquette
daveztong/moquette
dc198798/moquette
ddyywu/moquette
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
We've detected that JavaScript is disabled in your browser. Would you like to proceed to legacy Twitter?
Security Advisories · moquette-io/moquette · GitHub
Security Policy · moquette-io/moquette · GitHub
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Join GitHub · GitHub
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Sign in to GitHub · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Join GitHub · GitHub
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Expected behavior
After reconnect of the same client with clean_session = false and subscribing to the same topic with QoS = 1 all missed messages should appear
Actual behavior
Exception is thrown while trying to resend unacked message:
2019-03-08 14:19:37.194 ERROR 31746 --- [ntLoopGroup-5-5] io.moquette.broker.NewNettyMQTTHandler : Unexpected exception while processing MQTT message. Closing Netty channel. CId=client123
java.lang.ClassCastException: class io.moquette.broker.SessionRegistry$PubRelMarker cannot be cast to class io.moquette.broker.SessionRegistry$PublishedMessage (io.moquette.broker.SessionRegistry$PubRelMarker and io.moquette.broker.SessionRegistry$PublishedMessage are in unnamed module of loader 'app')
at io.moquette.broker.Session.resendInflightNotAcked(Session.java:293)
at io.moquette.broker.MQTTConnection.resendNotAckedPublishes(MQTTConnection.java:481)
at io.moquette.broker.NewNettyMQTTHandler.userEventTriggered(NewNettyMQTTHandler.java:106)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Reject
Save preferences
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Netty Leak Detection.
#467
opened Apr 4, 2019 by
kopens
1
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
ThomasSchemmer
3
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
stayclean
1
ThomasSchemmer
3
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
stayclean
1
Previous 1 2 3 Next
Previous Next
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-jar-plugin</artifactId>
<version>3.0.2</version>
<executions>
<execution>
<goals>
<goal>test-jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-compiler-plugin</artifactId>
<version>3.8.0</version>
<configuration>
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Retry
Toggle all file notes
0 comments
on commit 17f2c93
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
No due date
Last updated 7 months ago
60%
complete
2
open
3
closed
0.12.1
No due date
Last updated over 1 year ago
100%
complete
0
open
6
closed
invalid
1 open issue or pull request
question
question
1 open issue or pull request
wontfix
wontfix
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
😕
❤️
🚀
👀
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
1
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
micw
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
- $HOME/.gradle/caches/
- $HOME/.gradle/wrapper/
script:
- ./gradlew install test
#script:
# - ./mvnw verify
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 17f2c93
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
−29
broker/src/main/java/io/moquette/spi/ISessionsStore.java
+12
−49
broker/src/main/java/io/moquette/spi/ISubscriptionsStore.java
+185
−0
broker/src/main/java/io/moquette/spi/TransientSession.java
+13
−8
broker/src/main/java/io/moquette/spi/impl/InternalRepublisher.java
+8
−6
broker/src/main/java/io/moquette/spi/impl/MessagesPublisher.java
+2
−2
3
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
stayclean
1
Previous 1 2 3 Next
Previous Next
ProTip!
Find all open issues with in progress development work with linked:pr.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
stayclean
1
Previous 1 2 3 Next
Previous Next
ProTip!
Find all open issues with in progress development work with linked:pr.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
dininen/moquette
dlanza1/kafka-mqtt-gateway
donaldlee2008/moquette
edd1225/moquette
extramoney/moquette
fchrist/moquette
frankzqy/moquette
gauravisworking/moquette
gavinljj/moquette
gui0778/moquette
guii/moquette
gujx/moquette
gunaones/moquette
guohongjun/moquette
heqingfei/moquette
himeshagile/moquette
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
Yes
Something went wrong, but don’t fret — let’s give it another shot.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Sign in to GitHub · GitHub
Pull requests · moquette-io/netty-mqtt5-codec · GitHub
Issues · moquette-io/netty-mqtt5-codec · GitHub
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.handler.codec.ByteToMessageDecoder.userEventTriggered(ByteToMessageDecoder.java:366)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Previous 1 2 3 Next
Previous Next
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
<source>8</source>
<target>8</target>
<compilerArgs>
<arg>-XDcompilePolicy=simple</arg>
<arg>-Xplugin:ErrorProne</arg>
</compilerArgs>
<annotationProcessorPaths>
<path>
<groupId>com.google.errorprone</groupId>
<artifactId>error_prone_core</artifactId>
<version>2.4.0</version>
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
0.11
No due date
Last updated over 1 year ago
100%
complete
0
open
1
closed
0.12
No due date
Last updated almost 2 years ago
100%
complete
0
open
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Updates Netty to 4.1.53 to have MQTT5 support
dependencies
#546
by andsel
opened Jul 23, 2020 by
dsoulayrol
NullPointerException in CTrie.evaluate
#529
opened May 13, 2020 by
hylkevds
1
3
Publish javadoc & sources of 0.13
#528
opened May 13, 2020 by
hylkevds
Buffering settings to reduce latency
#527
opened May 8, 2020 by
impliedx
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
broker/src/main/java/io/moquette/spi/impl/PersistentQueueMessageSender.java
+63
−104
broker/src/main/java/io/moquette/spi/impl/ProtocolProcessor.java
+6
−7
broker/src/main/java/io/moquette/spi/impl/ProtocolProcessorBootstrapper.java
+1
−1
broker/src/main/java/io/moquette/spi/impl/Qos1PublishHandler.java
+6
−7
broker/src/main/java/io/moquette/spi/impl/Qos2PublishHandler.java
+126
−0
broker/src/main/java/io/moquette/spi/impl/SessionsRepository.java
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
hippocampi/moquette
horryq/moquette
huilvhui/moquette
hurtonm/moquette
hvinayan/moquette
igorsilvamenezes/moquette
inexplicable/moquette
iodb/moquette
jimmy486/moquette
jincieryi/moquette
jiudong90/moquette
jkandasa/moquette
jun0813/moquette
jwoolston/moquette
kansifang/moquette
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
Projects
Type:
All
Select type
All GitHub
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
Added configuration item for handshake timeout on SSL channel (#531)
People · Moquette · GitHub
Packages · Moquette · GitHub
Sign in to GitHub · GitHub
Join GitHub · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Sign in to GitHub · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Learn more
Accept
Reject
Save preferences
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.moquette.broker.MoquetteIdleTimeoutHandler.userEventTriggered(MoquetteIdleTimeoutHandler.java:48)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
Projects
Type:
Container
Select type
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
</path>
</annotationProcessorPaths>
</configuration>
</plugin>
<plugin>
<groupId>com.github.spotbugs</groupId>
<artifactId>spotbugs-maven-plugin</artifactId>
<version>4.1.4</version>
<configuration>
<omitVisitors>RuntimeExceptionCapture</omitVisitors>
</configuration>
</plugin>
</plugins>
</build>
<distributionManagement>
<repository>
<id>bintray</id>
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
Projects
Type:
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
4
closed
0.9
No due date
Last updated over 2 years ago
33%
complete
2
open
1
closed
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
was merged Nov 3, 2020
Bump netty.version from 4.1.22.Final to 4.1.53.Final in /broker
dependencies
#545
by dependabot
bot
was closed Nov 3, 2020
1
Bump org.eclipse.paho.client.mqttv3 from 1.2.0 to 1.2.1 in /broker
dependencies
#543
by dependabot
bot
was closed Nov 3, 2020
1
Reintroduce maven project files
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
mjacoby
queue is full
#521
opened Mar 28, 2020 by
arifainchtein
java.lang.NoSuchMethodError: No static method encodeHexString([B)Ljava/lang/String; in class Lorg/apache/commons/codec/binary/Hex; or its super classes
#518
opened Feb 27, 2020 by
carlsberg-stack
BUG - null Session in subscribe procedure
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
+15
−28
broker/src/main/java/io/moquette/spi/impl/subscriptions/CNode.java
+34
−27
broker/src/main/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectory.java
+3
−4
broker/src/main/java/io/moquette/spi/impl/subscriptions/ISubscriptionsDirectory.java
+17
−7
broker/src/main/java/io/moquette/spi/impl/subscriptions/Subscription.java
+0
−243
broker/src/main/java/io/moquette/spi/impl/subscriptions/SubscriptionsDirectory.java
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
kevto/moquette
kjayashankar/moquette
kmhughes/moquette
knayekihtrak/moquette
konradmichael/moquette
koolob/moquette
laizhouzhang/moquette
lance1232001/moquette
lanma/moquette
lants1/moquette
lbfalcons/moquette
leftshiftone/moquette
liheeng/moquette
lijian17/moquette
liuyanjunbj/moquette
lizhanhui/moquette
All
Container
npm
RubyGems
Maven
Docker
NuGet
Visibility:
All
Select visibility
All
Private
Public
Projects
Type:
RubyGems
Select type
All
Container
npm
RubyGems
Maven
Docker
NuGet
Visibility:
All
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
#547
opened Nov 5, 2020 by
dsoulayrol
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Fixes #529, #505: NPE caused by matching on a TNode
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
moquette-io
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
↵
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Packages
People
Projects
Type:
npm
Select type
All
Container
npm
RubyGems
Maven
Docker
NuGet
Visibility:
All
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.netty.channel.ChannelInboundHandlerAdapter.userEventTriggered(ChannelInboundHandlerAdapter.java:108)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:329)
at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:315)
at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:307)
at io.moquette.broker.InflightResender.resendNotAcked(InflightResender.java:160)
at io.moquette.broker.InflightResender.access$100(InflightResender.java:32)
at io.moquette.broker.InflightResender$WriterIdleTimeoutTask.run(InflightResender.java:58)
at io.netty.util.concurrent.PromiseTask$RunnableAdapter.call(PromiseTask.java:38)
at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:127)
at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
All GitHub
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
All
Container
npm
RubyGems
Maven
Docker
NuGet
Visibility:
All
Select visibility
All
Private
Public
Sort by:
Most downloads
Select sort view
Most downloads
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
Projects
</repository>
</distributionManagement>
</project>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
All
Select type
All
Container
npm
RubyGems
Maven
Docker
NuGet
Visibility:
All
Select visibility
All
Private
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
#542
by andsel
was merged Nov 2, 2020
0.14
Switched to gradle 5.6
#541
by andsel
was merged Oct 30, 2020
Added specific handling for BindExcpetion when the port is occupied
#540
by andsel
was merged Oct 30, 2020
Re-generated keystores used in SSL tests
#517
opened Feb 14, 2020 by
BigGitWorld
Question: disconnecting a client when authentication details removed
#516
opened Jan 23, 2020 by
MattyyttaM
Bridging to a cloud broker [Microsoft Azure -- IOT Hub] ?
#513
opened Jan 17, 2020 by
carlsberg-stack
5
Moquette shows topics, but subscribers won't receive anything - Subscription missing?
#510
opened Dec 18, 2019 by
beniroquai
Save preferences
+0
−180
broker/src/main/java/io/moquette/spi/impl/subscriptions/TreeNode.java
+6
−5
broker/src/test/java/io/moquette/persistence/MessageStoreTCK.java
+32
−20
broker/src/test/java/io/moquette/spi/ClientSessionTest.java
+8
−6
broker/src/test/java/io/moquette/spi/impl/AbstractProtocolProcessorCommonUtils.java
+25
−20
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessorTest.java
+10
lovecc0923/moquette
maggu2810/moquette
mahmed8003/moquette
mahui1980/moquette
mapengfei00099/moquette
mgurevin/moquette
mindis/moquette
mingj/moquette
mkretzschmar/moquette
mojunneng/moquette
mpaatz/moquette
muka/moquette
myqhit/moquette
narry/moquette
nathantippy/moquette
nickman/moquette
Sort by:
Most downloads
Select sort view
Most downloads
Least downloads
Clear current search query, filters, and sorts
0 packages
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Select visibility
All
Private
Public
Sort by:
Most downloads
Select sort view
Most downloads
Least downloads
Clear current search query, filters, and sorts
0 packages
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Terms
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
#532
opened Aug 13, 2020 by
hylkevds
1
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
one get
#520
opened Mar 4, 2020 by
luoliangtiger
fixed throw NullPointerException when new connection
#519
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Moquette
Repositories
Packages
People
Projects
Type:
Maven
Select type
All
Container
npm
RubyGems
Maven
Docker
NuGet
Select visibility
All
Private
Public
Sort by:
Most downloads
Select sort view
Most downloads
Least downloads
Clear current search query, filters, and sorts
0 packages
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:404)
at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:495)
at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905)
at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
at java.base/java.lang.Thread.run(Thread.java:834)
2019-03-08 14:19:37.194 ERROR 31746 --- [ntLoopGroup-5-5] io.moquette.broker.NewNettyMQTTHandler : Unexpected exception while processing MQTT message. Closing Netty channel. CId=client123
java.nio.channels.ClosedChannelException: null
at io.netty.channel.AbstractChannel$AbstractUnsafe.close(...)(Unknown Source)
Steps to reproduce
Run moquette broker
Publish messages every second to any topic, e.g. "/test-topic"
Run subscriber with client = "client123", clean_session = false and subscribe to topic "/test-topic" with QoS = 1
Kill subscriber
Rerun subscriber
Retry 4.-5. until you get an exception
Minimal yet complete reproducer code (or URL to code) or complete log file
Projects
Type:
Docker
Select type
All
Container
npm
RubyGems
Maven
Docker
NuGet
Visibility:
All
Select visibility
All
Private
Public
Least downloads
Clear current search query, filters, and sorts
0 packages
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Type:
NuGet
Select type
All
Container
npm
RubyGems
Maven
Docker
NuGet
Visibility:
All
Select visibility
All
Private
Public
Sort by:
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Public
Sort by:
Most downloads
Select sort view
Most downloads
Least downloads
Clear current search query, filters, and sorts
0 packages
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
#539
by andsel
was merged Oct 25, 2020
Reduce log level for log messages caused by client side input mistakes
#537
by PHameete
was merged Oct 9, 2020
1
5
Minor, changed header
#536
by andsel
was merged Oct 1, 2020
Bumped release 0.13
#523
by andsel
1
Will it be compatible with Graalvm in the future?
#509
opened Dec 12, 2019 by
coolbeevip
Moquette & 2-way SSL authentication
#508
opened Nov 25, 2019 by
lukaszsoszynski
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
Subscription breaks during performance test
−6
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessor_CONNECT_Test.java
+2
−2
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessor_InternalPublish_Test.java
+0
−6
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessor_VariousUseCases_Test.java
+53
−51
broker/src/test/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectoryMatchingTest.java
nuspy/moquette
okse-3/moquette
oldshipmaster/moquette
oomhj/moquette
pamod/moquette
parksangkil/moquette
pillimede/moquette
plechi/moquette
popeye0807/moquette
qchen006/moquette
qiuzhanghua/moquette
quyf/moquette
redboy1972/moquette
redlion99/moquette
redsolo/moquette
robbyb67/moquette
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
0
Insights
More
Code
Issues
Pull requests
Actions
opened Mar 2, 2020 by
luoliangtiger
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
netty-mqtt5-codec
Watch
3
Star
18
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
netty-mqtt5-codec
Watch
3
Star
18
Fork
9
Code
Issues
Visibility:
All
Select visibility
All
Private
Public
Sort by:
Most downloads
Select sort view
Most downloads
Least downloads
Clear current search query, filters, and sorts
0 packages
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Client using python 3.7
import paho.mqtt.client as mqtt
# The callback for when the client receives a CONNACK response from the server.
def on_connect(client, userdata, flags, rc):
print("Connected with result code " + str(rc))
# Subscribing in on_connect() means that if we lose the connection and
# reconnect then subscriptions will be renewed.
client.subscribe("/test-topic", 1)
# The callback for when a PUBLISH message is received from the server.
def on_message(client, userdata, msg):
print(msg.topic + " " + str(msg.payload))
client = mqtt.Client(client_id="client123", clean_session=False)
client.username_pw_set("user123", "session_id")
client.on_connect = on_connect
client.on_message = on_message
print("connecting")
client.connect("localhost", 1883, 60)
Sort by:
Most downloads
Select sort view
Most downloads
Least downloads
Clear current search query, filters, and sorts
0 packages
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Most downloads
Select sort view
Most downloads
Least downloads
Clear current search query, filters, and sorts
0 packages
No results matched your search.
Try browsing all packages to find what you're looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
was merged Apr 11, 2020
Upgrade build, OSGi metadata
#504
by J-N-K
was closed Aug 31, 2019
Fix retained messages with wildcard subscriptions
#489
by davesters
was merged Jul 21, 2019
2
Merge pull request #1 from moquette-io/master
#486
by djbr-david
was closed Jul 2, 2019
1
#505
opened Oct 4, 2019 by
JinseonyLee
1
Connection dropped when publishing message with payload greater 8KB.
#503
opened Aug 30, 2019 by
r-t-s
MQTT SSL not working
#499
opened Aug 20, 2019 by
francesco98
1
license is missing in artifact
#492
opened Jul 30, 2019 by
+15
−13
broker/src/test/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectoryTest.java
+0
−332
broker/src/test/java/io/moquette/spi/impl/subscriptions/SubscriptionsDirectoryTest.java
+0
−76
broker/src/test/java/io/moquette/spi/impl/subscriptions/TreeNodeTest.java
+43
−89
h2_storage/src/main/java/io/moquette/persistence/h2/H2SessionsStore.java
+2
robgratz/moquette
rubberbird/moquette
runafter/moquette
saeedhadi/moquette
salmanebah/moquette
sangkyunyoon/moquette
sayi21cn/moquette
sboorlagadda/moquette
senspace/moquette
seraya-fan/moquette
sgano1/moquette
sixtop/moquette
slacrey/moquette
soenter/moquette
soken-su/moquette
sonecabr/moquette
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Security
0
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Overview
Security policy
Security advisories
0
Projects
Wiki
Security
Insights
Overview
Security policy
Security advisories
0
Overview
Security policy
Security advisories
0
No security policy detected
This project has not set up a SECURITY.md file yet.
© 2020 GitHub, Inc.
Terms
qbast
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
ilylia
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
All GitHub
↵
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Sign up
Moquette
Repositories
Packages
People
Projects
There aren’t any packages here
With GitHub Packages you can safely publish and consume packages.Learn more about GitHub Packages
Jump to
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
moquette/pom.xml at master · moquette-io/moquette · GitHub
Fork
9
Code
Issues
1
Pull requests
0
Actions
Projects
0
Security
Insights
More
Code
Issues
Pull requests
1
Pull requests
0
Actions
Projects
0
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Security
Insights
Labels
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Team
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
print("connected")
client.loop_forever()
Moquette MQTT version
moquette-broker-0.12.1.jar
JVM version (e.g. java -version)
java -version
openjdk version "11.0.1" 2018-10-16
OpenJDK Runtime Environment 18.9 (build 11.0.1+13)
OpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)
OS version (e.g. uname -a)
uname -a
Darwin Admins-MacBook-Pro.local 18.2.0 Darwin Kernel Version 18.2.0: Thu Dec 20 20:46:53 PST 2018; root:xnu-4903.241.1~1/RELEASE_X86_64 x86_64
andsel
pinned this issue
Mar 9, 2019
andsel
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Learn more
Accept
Reject
Save preferences
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
remove unnecessary quotes which fixes execution in windows 10
#478
by joestr
was merged May 21, 2019
1
Update Freedomotic references
#475
by mcicolella
was merged May 2, 2019
2
Added possibility to configure additional Netty channel handlers
#462
by aemaem
was closed Apr 5, 2019
7
ascheman
How one port supports both unidirectional and two-way certificate authentication for TLS
#491
opened Jul 30, 2019 by
cnneillee
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
mpe85
6
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
Subscription storage
#482
−0
h2_storage/src/test/java/io/moquette/persistence/h2/H2MessagesStoreTest.java
+40
−88
mapdb_storage/src/main/java/io/moquette/persistence/mapdb/MapDBSessionsStore.java
+2
−0
mapdb_storage/src/test/java/io/moquette/persistence/mapdb/MapDBPersistentStoreTest.java
+5
−3
perf/src/main/java/io/moquette/spi/impl/subscriptions/PerformanceTest.java
8
broker/src/main/java/io/moquette/connections/IConnectionsManager.java
Show comments
View file
Edit file
sonson1023/moquette
splade/moquette
stannislin/moquette
sumyfly/moquette
superdjz/moquette
superposition/moquette
sureddy/moquette
surpass/moquette
swarwick/moquette
systembugtj/moquette
tanapop/moquette
tangxunye/moquette
technocreatives/moquette
teco-kit/moquette-lusagent
tennessine/moquette
teranisi/moquette
Overview
Security policy
Security advisories
0
Security Advisories
View information about security vulnerabilities from this repository's maintainers.
0 Published
There aren’t any published security advisories
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
4
ProTip!
Add no:assignee to see everything that’s not assigned.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
moquette/mvnw.cmd at master · moquette-io/moquette · GitHub
moquette/mvnw at master · moquette-io/moquette · GitHub
Projects
Organization permissions
Members
This organization has no public members.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Added Apache 2.0 license · moquette-io/moquette@af8c0e3 · GitHub
moquette/license-eplv10-aslv20.html at master · moquette-io/moquette · GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Sign in to GitHub · GitHub
Send me occasional product updates, announcements, and offers.
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Site Map
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Actions
Projects
Security
Insights
Labels
8
Milestones
0
Labels
8
Milestones
0
New pull request
New
0 Open
0 Closed
8
Milestones
0
Labels
8
Milestones
0
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Community Forum
Professional Services
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
self-assigned this
Mar 17, 2019
andsel
added
the
bug
label
Mar 17, 2019
andsel
added this to the 0.13 milestone
Mar 17, 2019
Copy link
Collaborator
andsel
commented
Mar 17, 2019
@OleksandrBerezianskyi you missed the publisher client part. I mean the error here relates to the fact that PubRelMarker can't be cast to PublishedMessage due to a timeout of a message in flight from broker to client. The PubRelMarker is a placeholder class that reppresents the PUBREL message from broker to a subscriber that want to receive messages at QoS2. Please, could you share a complete log file from bootstrap of the broker till the crash moquette.log and messages.logs? It could help a lot to understand/ reproduce, thanks
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Extended websocket configuration
#461
by aemaem
was merged Apr 2, 2019
Refactors config implementation: Use java.util.Properties directly now
#459
by flonix8
was closed Jun 3, 2019
8
Flush written data in MQTTConnection#sendIfWritableElseDrop
#454
by komamitsu
was merged Mar 17, 2019
19
Enhanced exception handling / logging for invalid messages
#450
opened Jun 12, 2019 by
BigGitWorld
Add Ping Request handling to the interceptors
#481
opened Jun 5, 2019 by
djbr-david
6
Previous 1 2 3 Next
Previous Next
ProTip!
Mix and match filters to narrow down what you’re looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Delete file
@@ -55,14 +55,6 @@
*/
boolean closeConnection(String clientID, boolean closeImmediately);
/**
* Returns the state of the session of a given client.
*
* @param clientID
* @return
*/
MqttSession getSessionStatus(String clientID);
/**
* Returns the state of all the sessions
*
thangdc94/moquette
thinkjoyorg/moquette
tigersshi/moquette
timvanginderen/moquette
ttomato/moquette
uwitec/moquette
wanghaipeng789/moquette
watergit2016/moquette
wendersonferreira/moquette
willenwu21/moquette
windbender/moquette
xintao222/moquette
xuchao/moquette
yangpeiyong/moquette
yanxuxiao/moquette
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
moquette/checkstyle.xml at master · moquette-io/moquette · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
0 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Already on GitHub?
Sign in
to your account
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Save preferences
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
andsel
Labels
bug
Projects
None yet
Milestone
0.13
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
by mscheibler
was merged Jan 28, 2019
1
#449
by SpeckiJ
was closed Feb 10, 2019
1
DenyAllAuthorizatorPolicy should return false; dispatch connection&disconnection&connectionLost event to interceptor
#445
by zhangliangbo
was closed Jan 20, 2019
2
LoggerFactory.getLogger: Wrong logging class
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
139
broker/src/main/java/io/moquette/persistence/MemorySessionStore.java
Show comments
View file
Edit file
Delete file
@@ -17,7 +17,6 @@
package io.moquette.persistence;
import io.moquette.server.Constants;
import io.moquette.spi.ClientSession;
import io.moquette.spi.IMessagesStore.StoredMessage;
import io.moquette.spi.ISessionsStore;
import io.moquette.spi.ISubscriptionsStore;
yunemr/moquette
zhangxiaofeng123/moquette
zhoudianyou/moquette
zhuyuming/moquette
zofuthan/moquette
zorowonder/moquette
zyy/moquette
Nothing to show
base:
master
head repository:
moquette-io/moquette
Choose a Head Repository
moquette-io/moquette
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Added copyright and license notice to every source file, added about.… · moquette-io/moquette@666cc29 · GitHub
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
2 participants
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
#432
by davidgraeff
was closed Dec 1, 2018
3
Fixes NPE when client disconnects from the broker
#431
by jcroig
was closed Dec 1, 2018
1
Update MQTTMessageLogger.java
#428
by ricardojlrufino
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
@@ -30,32 +29,30 @@
import java.util.concurrent.ArrayBlockingQueue;
import java.util.concurrent.BlockingQueue;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.atomic.AtomicReference;
public class MemorySessionStore implements ISessionsStore, ISubscriptionsStore {
private static final Logger LOG = LoggerFactory.getLogger(MemorySessionStore.class);
class Session {
final String clientID;
final ClientSession clientSession;
final Map<Topic, Subscription> subscriptions = new ConcurrentHashMap<>();
final AtomicReference<PersistentSession> persistentSession = new AtomicReference<>(null);
boolean cleanSession;
final BlockingQueue<StoredMessage> queue = new ArrayBlockingQueue<>(Constants.MAX_MESSAGE_QUEUE);
final Map<Integer, StoredMessage> secondPhaseStore = new ConcurrentHashMap<>();
final Map<Integer, StoredMessage> outboundFlightMessages =
19317362/moquette
908626950/moquette
9612jhf/moquette
ASUSCloudIoT/moquette
Aviking88/moquette
CNXTEoEorg/moquette
Dev-Tony/moquette
GCPBigData/moquette
JamesLiAndroid/moquette
Jamesweng/moquette
LanKo-X/moquette
Lengbamboo/moquette
Matthew83/moquette
MehdiFal/moquette
MihoYamato/moquette
ShangarDeviNatarajan/moquette-1
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Fixed checkStyle and ErrorProne warns · moquette-io/moquette@033a428 · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
moquette/about.html at master · moquette-io/moquette · GitHub
moquette/README.md at master · moquette-io/moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
👎
😄
🎉
😕
❤️
🚀
👀
There aren’t any open pull requests.
You could search all of GitHub or try an advanced search.
ProTip!
Mix and match filters to narrow down what you’re looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
😕
❤️
🚀
👀
Move to different package?
#1
opened May 9, 2019 by
flozano
1
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Reject
Save preferences
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
was merged Aug 11, 2018
1
Previous 1 2 3 4 5 6 7 Next
Previous Next
ProTip!
Follow long discussions with comments:>50.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Reject
Save preferences
Collections.synchronizedMap(new HashMap<Integer, StoredMessage>());
final Map<Integer, StoredMessage> inboundFlightMessages = new ConcurrentHashMap<>();
Session(String clientID, ClientSession clientSession) {
Session(String clientID, boolean cleanSession) {
this.clientID = clientID;
this.clientSession = clientSession;
this.cleanSession = cleanSession;
}
}
private final Map<String, Session> sessions = new ConcurrentHashMap<>();
public MemorySessionStore() {
MemorySessionStore() {
}
private Session getSession(String clientID) {
@@ -110,64 +107,57 @@ public boolean contains(String clientID) {
}
SyedOsman33/moquette
VincentCaow/moquette
Wangab/moquette
WayChungChen/moquette
WeWebsterchen/moquette
WilliamKinaan/moquette
Wizzercn/moquette
XiaolinYi/moquette
YouAreAGeologist/moquette
YoungWalker/moquette
ZerroCool/moquette
activexJ/moquette
alex-mengx/moquette
alick2011/moquette
altair-albert/moquette
andsel/moquette
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
Minor, changed header (#536) · moquette-io/moquette@8ba0b4d · GitHub
Update about.html · moquette-io/moquette@1a6dd8a · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
checkstyle: resource folders excluded form check · moquette-io/moquette@e2aa30d · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Minor, changed header by andsel · Pull Request #536 · moquette-io/moquette · GitHub
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
@Override
public ClientSession createNewSession(String clientID, boolean cleanSession) {
LOG.debug("createNewSession for client <{}>", clientID);
Session session = sessions.get(clientID);
if (session != null) {
LOG.error("already exists a session for client <{}>, bad condition", clientID);
throw new IllegalArgumentException("Can't create a session with the ID of an already existing" + clientID);
}
LOG.debug("clientID {} is a newcome, creating it's empty subscriptions set", clientID);
session = new Session(clientID, new ClientSession(clientID, this, this, cleanSession));
session.persistentSession.set(new PersistentSession(cleanSession));
sessions.put(clientID, session);
return session.clientSession;
public void createNewDurableSession(String clientID) {
Session innerSession = new Session(clientID, false);
sessions.put(clientID, innerSession);
aploese/moquette
apqit/moquette
archive-j/moquette
ashengwang/moquette
banyue/moquette
bazi/moquette
bcw104/moquette
beckhamcm/moquette
bekirozgunlu/moquette
bemisguided/moquette
bhaecke/moquette
biddyweb/moquette
bingogh/moquette
bingzhuyou/moquette
blackadmin/moquette
briancarbs/moquette
Travis CI - Test and Deploy Your Code with Confidence
Hey there!
Looks like you have JavaScript disabled.
The Travis CI webclient needs JavaScript to work properly.
Please enable JavaScript to get the best Travis CI experience.
Sign in to GitHub · GitHub
Sign in to GitHub · GitHub
moquette/PublishEvent.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
moquette/PubAckEvent.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
moquette/ProtocolEvent.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
moquette/OutputMessagingEvent.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
moquette/MessagingEvent.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
moquette/LostConnectionEvent.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
moquette/pom.xml
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
}
@Override
public ClientSession sessionForClient(String clientID) {
if (!sessions.containsKey(clientID)) {
LOG.error("Can't find the session for client <{}>", clientID);
return null;
}
public void removeDurableSession(String clientId) {
this.sessions.remove(clientId);
this.wipeSubscriptions(clientId);
}
@Override
public void updateCleanStatus(String clientId, boolean newCleanStatus) {
sessions.get(clientId).cleanSession = newCleanStatus;
}
PersistentSession storedSession = sessions.get(clientID).persistentSession.get();
butaji/moquette
ccf19881030/moquette
cheng04119/moquette
chengc017/moquette
chord1645/moquette
christopheblin/moquette
cimhealth/moquette
cm8421/moquette
coalba/moquette
cpacey/moquette
crooods/moquette
ctfree/moquette
cuidonghuan/moquette
dant3/moquette
daququ/moquette
daveztong/moquette
Thank you!
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Added Apache 2.0 license
Loading branch information
andsel
committed
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
218 lines (197 sloc)
7.31 KB
Raw
Blame
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
return new ClientSession(clientID, this, this, storedSession.cleanSession);
@Override
public PersistentSession loadSessionByKey(String clientID) {
return new PersistentSession(clientID, sessions.get(clientID).cleanSession);
}
@Override
public Collection<ClientSession> getAllSessions() {
Collection<ClientSession> result = new ArrayList<>();
public Collection<PersistentSession> listAllSessions() {
Collection<PersistentSession> result = new ArrayList<>();
for (Session entry : sessions.values()) {
result.add(new ClientSession(entry.clientID, this, this, entry.persistentSession.get().cleanSession));
result.add(new PersistentSession(entry.clientID, entry.cleanSession));
}
dc198798/moquette
ddyywu/moquette
dininen/moquette
dlanza1/kafka-mqtt-gateway
donaldlee2008/moquette
edd1225/moquette
extramoney/moquette
fchrist/moquette
frankzqy/moquette
gauravisworking/moquette
gavinljj/moquette
gui0778/moquette
guii/moquette
gujx/moquette
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
moquette/InitEvent.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
moquette/DisconnectEvent.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
Sign in to GitHub · GitHub
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
moquette/mvnw.cmd
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
182 lines (147 sloc)
6.45 KB
Raw
Blame
Sign in to GitHub · GitHub
Sign in to GitHub · GitHub
moquette/checkstyle.xml at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Sign up
master
moquette/mvnw
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
executable file
310 lines (277 sloc)
9.83 KB
Raw
Oct 4, 2013
1 parent
f4162c2
commit af8c0e3b9a186faf144f51218b934188af8b1120
Unified
Split
Showing
1 changed file
with
205 additions
and 0 deletions.
+205
−0
license.txt
205
license.txt
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
moquette/license-eplv10-aslv20.html
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
576 lines (508 sloc)
29.3 KB
Raw
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
<!--<netty.version>4.1.12.Final</netty.version>-->
<source.version>1.8</source.version>
<target.version>1.8</target.version>
<bintray.repo>andsel/maven</bintray.repo>
<bintray.parent.package>io.moquette.moquette-parent</bintray.parent.package>
</properties>
<groupId>io.moquette</groupId>
<artifactId>moquette-parent</artifactId>
<packaging>pom</packaging>
<version>0.14-SNAPSHOT</version>
<name>Moquette MQTT</name>
<description>Moquette lightweight MQTT Broker</description>
<inceptionYear>2011</inceptionYear>
<url>http://moquette.io</url>
<licenses>
return result;
}
@Override
public void updateCleanStatus(String clientID, boolean cleanSession) {
if (!sessions.containsKey(clientID)) {
LOG.error("Can't find the session for client <{}>", clientID);
return;
public List<Subscription> listAllSubscriptions() {
List<Subscription> allSubscriptions = new ArrayList<>();
for (Session entry : sessions.values()) {
allSubscriptions.addAll(entry.subscriptions.values());
}
sessions.get(clientID).persistentSession.set(new PersistentSession(cleanSession));
return allSubscriptions;
}
@Override
gunaones/moquette
guohongjun/moquette
heqingfei/moquette
himeshagile/moquette
hippocampi/moquette
horryq/moquette
huilvhui/moquette
hurtonm/moquette
hvinayan/moquette
igorsilvamenezes/moquette
inexplicable/moquette
iodb/moquette
jimmy486/moquette
jincieryi/moquette
jiudong90/moquette
jkandasa/moquette
jun0813/moquette
Accept
Reject
Save preferences
Learn more
Accept
Reject
Save preferences
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements. See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership. The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License. You may obtain a copy of the License at
@REM
@REM http://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Blame
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements. See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership. The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,205 @@
Copyright 2012-2013 (c) Andrea Selva
Apache License
Version 2.0, January 2004
http://www.apache.org/licenses/
TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION
1. Definitions.
"License" shall mean the terms and conditions for use, reproduction,
and distribution as defined by Sections 1 through 9 of this document.
"Licensor" shall mean the copyright owner or entity authorized by
the copyright owner that is granting the License.
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Sign in to GitHub · GitHub
Travis CI - Test and Deploy Your Code with Confidence
Hey there!
Looks like you have JavaScript disabled.
The Travis CI webclient needs JavaScript to work properly.
Please enable JavaScript to get the best Travis CI experience.
Thank you!
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Minor, changed header by andsel · Pull Request #536 · moquette-io/moquette · GitHub
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Wiki
Security
Insights
Permalink
Browse files
Added copyright and license notice to every source file, added about.…
…html and license.htl
Loading branch information
andsel
committed
Jun 11, 2014
1 parent
0bbe719
commit 666cc29d47f57fc00798856e335e5270c0075a10
Unified
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Blame
<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40"><head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="ProgId" content="Word.Document">
<meta name="Generator" content="Microsoft Word 9">
<meta name="Originator" content="Microsoft Word 9">
<link rel="File-List" href="http://www.eclipse.org/legal/Eclipse%20EPL%202003_11_10%20Final_files/filelist.xml">
<title>Eclipse Public License - Version 1.0 / Apache License - Version 2.0</title>
<!--[if gte mso 9]><xml>
<o:DocumentProperties>
<o:Revision>2</o:Revision>
<o:TotalTime>3</o:TotalTime>
<o:Created>2004-03-05T23:03:00Z</o:Created>
<o:LastSaved>2004-03-05T23:03:00Z</o:LastSaved>
<o:Pages>4</o:Pages>
<o:Words>1626</o:Words>
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
moquette/checkstyle.xml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
154 lines (151 sloc)
6.01 KB
Raw
Blame
<?xml version="1.0" encoding="UTF-8"?>
<!--
~ Copyright 2012 The Netty Project
~
<license>
<name>The Apache License, Version 2.0</name>
<url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
</license>
<license>
<name>Eclipse Public License - Version 1.0</name>
<url>http://www.eclipse.org/org/documents/epl-v10.php</url>
</license>
</licenses>
<developers>
<developer>
<id>andsel</id>
<name>Andrea Selva</name>
<roles>
<role>architect</role>
<role>developer</role>
public List<ClientTopicCouple> listAllSubscriptions() {
List<ClientTopicCouple> allSubscriptions = new ArrayList<>();
for (Session entry : sessions.values()) {
for (Subscription sub : entry.subscriptions.values()) {
allSubscriptions.add(sub.asClientTopicCouple());
}
public Collection<Subscription> listClientSubscriptions(String clientID) {
final Session session = sessions.get(clientID);
if (session == null) {
throw new IllegalStateException("Asking for subscriptions of not persisted client: " + clientID);
}
return allSubscriptions;
return session.subscriptions.values();
}
@Override
public Subscription getSubscription(ClientTopicCouple couple) {
jwoolston/moquette
kansifang/moquette
kevto/moquette
kjayashankar/moquette
kmhughes/moquette
knayekihtrak/moquette
konradmichael/moquette
koolob/moquette
laizhouzhang/moquette
lance1232001/moquette
lanma/moquette
lants1/moquette
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Minor, changed header by andsel · Pull Request #536 · moquette-io/moquette · GitHub
Sign in to GitHub · GitHub
@REM KIND, either express or implied. See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------
@REM ----------------------------------------------------------------------------
@REM Maven Start Up Batch script
@REM
@REM Required ENV vars:
@REM JAVA_HOME - location of a JDK home dir
@REM
@REM Optional ENV vars
@REM M2_HOME - location of maven2's installed home dir
@REM MAVEN_BATCH_ECHO - set to 'on' to enable the echoing of the batch commands
@REM MAVEN_BATCH_PAUSE - set to 'on' to wait for a keystroke before ending
@REM MAVEN_OPTS - parameters passed to the Java VM when running Maven
moquette/pom.xml at e2aa30d13975441966c1319dcc316266f5121eec · moquette-io/moquette · GitHub
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
moquette/checkstyle.xml at e2aa30d13975441966c1319dcc316266f5121eec · moquette-io/moquette · GitHub
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
moquette/checkstyle-suppressions.xml at e2aa30d13975441966c1319dcc316266f5121eec · moquette-io/moquette · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied. See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------
# ----------------------------------------------------------------------------
# Maven Start Up Batch script
#
# Required ENV vars:
# ------------------
# JAVA_HOME - location of a JDK home dir
#
# Optional ENV vars
# -----------------
# M2_HOME - location of maven2's installed home dir
# MAVEN_OPTS - parameters passed to the Java VM when running Maven
"Legal Entity" shall mean the union of the acting entity and all
other entities that control, are controlled by, or are under common
control with that entity. For the purposes of this definition,
"control" means (i) the power, direct or indirect, to cause the
direction or management of such entity, whether by contract or
otherwise, or (ii) ownership of fifty percent (50%) or more of the
outstanding shares, or (iii) beneficial ownership of such entity.
"You" (or "Your") shall mean an individual or Legal Entity
exercising permissions granted by this License.
"Source" form shall mean the preferred form for making modifications,
including but not limited to software source code, documentation
source, and configuration files.
"Object" form shall mean any form resulting from mechanical
transformation or translation of a Source form, including but
not limited to compiled object code, generated documentation,
and conversions to other media types.
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Fixed checkStyle and ErrorProne warns
Loading branch information
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Split
Showing
133 changed files
with
2,569 additions
and 13 deletions.
+28
−0
about.html
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMatchingCondition.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMessaging.java
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
<o:Characters>9270</o:Characters>
<o:Lines>77</o:Lines>
<o:Paragraphs>18</o:Paragraphs>
<o:CharactersWithSpaces>11384</o:CharactersWithSpaces>
<o:Version>9.4402</o:Version>
</o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
<w:WordDocument>
<w:TrackRevisions/>
</w:WordDocument>
</xml><![endif]-->
<style>
<!--
/* Font Definitions */
@font-face
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
moquette/about.html
Go to file
Go to file
T
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
~ The Netty Project licenses this file to you under the Apache License,
~ version 2.0 (the "License"); you may not use this file except in compliance
~ with the License. You may obtain a copy of the License at:
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
~ License for the specific language governing permissions and limitations
~ under the License.
-->
<!DOCTYPE module PUBLIC
"-//Puppy Crawl//DTD Check Configuration 1.2//EN"
"http://www.puppycrawl.com/dtds/configuration_1_2.dtd">
<module name="Checker">
<role>founder</role>
</roles>
<timezone>+1</timezone>
</developer>
</developers>
<scm>
<connection>scm:git:git@github.com:moquette-io/moquette.git</connection>
<developerConnection>scm:git:git@github.com:moquette-io/moquette.git</developerConnection>
<url>git@github.com:moquette-io/moquette.git</url>
</scm>
<modules>
<module>broker</module>
<module>distribution</module>
String clientID = couple.clientID;
public Subscription reload(Subscription subcription) {
String clientID = subcription.getClientId();
if (!sessions.containsKey(clientID)) {
LOG.error("Can't find the session for client <{}>", clientID);
return null;
@@ -177,17 +167,9 @@ public Subscription getSubscription(ClientTopicCouple couple) {
if (subscriptions == null || subscriptions.isEmpty()) {
return null;
}
return subscriptions.get(couple.topicFilter);
return subscriptions.get(subcription.getTopicFilter());
}
lbfalcons/moquette
leftshiftone/moquette
liheeng/moquette
lijian17/moquette
liuyanjunbj/moquette
lizhanhui/moquette
lovecc0923/moquette
maggu2810/moquette
mahmed8003/moquette
mahui1980/moquette
mapengfei00099/moquette
mgurevin/moquette
mindis/moquette
mingj/moquette
mkretzschmar/moquette
mojunneng/moquette
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Learn more
Accept
Reject
Save preferences
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
@REM e.g. to debug Maven itself, use
@REM set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000
@REM MAVEN_SKIP_RC - flag to disable loading of mavenrc files
@REM ----------------------------------------------------------------------------
@REM Begin all REM lines with '@' in case MAVEN_BATCH_ECHO is 'on'
@echo off
@REM set title of command window
title %0
@REM enable echoing by setting MAVEN_BATCH_ECHO to 'on'
@if "%MAVEN_BATCH_ECHO%" == "on" echo %MAVEN_BATCH_ECHO%
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
checkstyle: resource folders excluded form check · moquette-io/moquette@e2aa30d · GitHub
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
checkstyle: resource folders excluded form check · moquette-io/moquette@e2aa30d · GitHub
# e.g. to debug Maven itself, use
# set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000
# MAVEN_SKIP_RC - flag to disable loading of mavenrc files
# ----------------------------------------------------------------------------
if [ -z "$MAVEN_SKIP_RC" ] ; then
if [ -f /etc/mavenrc ] ; then
. /etc/mavenrc
fi
if [ -f "$HOME/.mavenrc" ] ; then
. "$HOME/.mavenrc"
fi
fi
# OS specific support. $var _must_ be set to either true or false.
cygwin=false;
darwin=false;
mingw=false
"Work" shall mean the work of authorship, whether in Source or
Object form, made available under the License, as indicated by a
copyright notice that is included in or attached to the work
(an example is provided in the Appendix below).
"Derivative Works" shall mean any work, whether in Source or Object
form, that is based on (or derived from) the Work and for which the
editorial revisions, annotations, elaborations, or other modifications
represent, as a whole, an original work of authorship. For the purposes
of this License, Derivative Works shall not include works that remain
separable from, or merely link (or bind by name) to the interfaces of,
the Work and Derivative Works thereof.
"Contribution" shall mean any work of authorship, including
the original version of the Work and any modifications or additions
to that Work or Derivative Works thereof, that is intentionally
submitted to Licensor for inclusion in the Work by the copyright owner
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Minor, changed header (#536)
Loading branch information
andsel
committed
Oct 1, 2020
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Minor, changed header by andsel · Pull Request #536 · moquette-io/moquette · GitHub
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Update about.html
Update the about after request from Eclipse Foundation
Loading branch information
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
andsel
committed
Apr 26, 2018
1 parent
1a6dd8a
commit 033a428184ce1e8a134fda082c04346ac6858c61
Unified
Split
Showing
81 changed files
with
681 additions
and 425 deletions.
+3
−1
broker/src/main/java/io/moquette/interception/HazelcastInterceptHandler.java
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
checkstyle: resource folders excluded form check
Loading branch information
Andreas Mager
committed
Feb 1, 2017
1 parent
99fea68
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IPersistentSubscriptionStore.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IStorageService.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/DebugUtils.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/FileAuthenticator.java
+15
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
{font-family:Tahoma;
panose-1:2 11 6 4 3 5 4 4 2 4;
mso-font-charset:0;
mso-generic-font-family:swiss;
mso-font-pitch:variable;
mso-font-signature:553679495 -2147483648 8 0 66047 0;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
{mso-style-parent:"";
margin:0in;
margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-size:12.0pt;
font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";}
Go to line
L
Copy path
Cannot retrieve contributors at this time
27 lines (23 sloc)
1.21 KB
Raw
Blame
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
moquette/README.md
Go to file
Go to file
T
Go to line
<property name="severity" value="warning"/>
<!--
<module name="SuppressionFilter">
<property name="file" value="checkstyle-suppressions.xml" />
</module>
<module name="io.netty.build.checkstyle.SuppressionFilter">
<property name="pattern" value="((LocalTime|WorldClock)Protocol|LinkedTransferQueue|Version|jzlib/.*|chmv8/.*|com/sun/nio/sctp/.*)\.java" />
</module>
-->
<module name="FileTabCharacter"/>
<!--
<module name="JavadocPackage"/>
-->
<module name="NewlineAtEndOfFile">
<property name="lineSeparator" value="lf" />
<module>embedding_moquette</module>
</modules>
<dependencies>
<dependency>
<groupId>junit</groupId>
<artifactId>junit</artifactId>
<version>4.8.2</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.slf4j</groupId>
<artifactId>slf4j-log4j12</artifactId>
<version>1.7.5</version>
<scope>test</scope>
</dependency>
<!-- needs extra dependencies: objenesis & hamcrest -->
@Override
public List<Subscription> getSubscriptions() {
List<Subscription> subscriptions = new ArrayList<>();
for (Session entry : sessions.values()) {
subscriptions.addAll(entry.subscriptions.values());
}
return subscriptions;
}
@Override
public StoredMessage inFlightAck(String clientID, int messageID) {
@@ -234,7 +216,10 @@ public int nextPacketID(String clientID) {
@Override
public void dropQueue(String clientID) {
sessions.get(clientID).queue.clear();
final Session session = sessions.get(clientID);
session.queue.clear();
mpaatz/moquette
muka/moquette
myqhit/moquette
narry/moquette
nathantippy/moquette
nickman/moquette
nuspy/moquette
okse-3/moquette
oldshipmaster/moquette
oomhj/moquette
pamod/moquette
parksangkil/moquette
pillimede/moquette
plechi/moquette
popeye0807/moquette
qchen006/moquette
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PublishEvent.java
/
Jump to
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
@REM set %HOME% to equivalent of $HOME
if "%HOME%" == "" (set "HOME=%HOMEDRIVE%%HOMEPATH%")
@REM Execute a user defined script before this one
if not "%MAVEN_SKIP_RC%" == "" goto skipRcPre
@REM check for pre script, once with legacy .bat ending and once with .cmd ending
if exist "%HOME%\mavenrc_pre.bat" call "%HOME%\mavenrc_pre.bat"
if exist "%HOME%\mavenrc_pre.cmd" call "%HOME%\mavenrc_pre.cmd"
:skipRcPre
@setlocal
set ERROR_CODE=0
@REM To isolate internal variables from possible post scripts, we use another setlocal
@setlocal
@REM ==== START VALIDATION ====
if not "%JAVA_HOME%" == "" goto OkJHome
echo.
echo Error: JAVA_HOME not found in your environment. >&2
Sign in to GitHub · GitHub
moquette/about.html at 1a6dd8a259e64b4153b35e458dca642df634ca8b · moquette-io/moquette · GitHub
Update about.html · moquette-io/moquette@1a6dd8a · GitHub
Update about.html · moquette-io/moquette@1a6dd8a · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PubAckEvent.java
/
Jump to
Code definitions
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
case "`uname`" in
CYGWIN*) cygwin=true ;;
MINGW*) mingw=true;;
Darwin*) darwin=true
# Use /usr/libexec/java_home if available, otherwise fall back to /Library/Java/Home
# See https://developer.apple.com/library/mac/qa/qa1170/_index.html
if [ -z "$JAVA_HOME" ]; then
if [ -x "/usr/libexec/java_home" ]; then
export JAVA_HOME="`/usr/libexec/java_home`"
else
export JAVA_HOME="/Library/Java/Home"
fi
fi
;;
esac
if [ -z "$JAVA_HOME" ] ; then
or by an individual or Legal Entity authorized to submit on behalf of
the copyright owner. For the purposes of this definition, "submitted"
means any form of electronic, verbal, or written communication sent
to the Licensor or its representatives, including but not limited to
communication on electronic mailing lists, source code control systems,
and issue tracking systems that are managed by, or on behalf of, the
Licensor for the purpose of discussing and improving the Work, but
excluding communication that is conspicuously marked or otherwise
designated in writing by the copyright owner as "Not a Contribution."
"Contributor" shall mean Licensor and any individual or Legal Entity
on behalf of whom a Contribution has been received by Licensor and
subsequently incorporated within the Work.
2. Grant of Copyright License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
6ee0137
commit 8ba0b4dfe52dce28a4eb5e362f18afaf850e71d4
Unified
Split
Showing
1 changed file
with
1 addition
and 1 deletion.
+1
−1
README.md
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/ProtocolEvent.java
/
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
andsel
committed
Apr 16, 2018
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
4307a90
commit 1a6dd8a259e64b4153b35e458dca642df634ca8b
Unified
Split
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Accept
Reject
Save preferences
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/MessagingEvent.java
/
Jump to
Code definitions
No definitions found in this file.
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/LostConnectionEvent.java
/
Jump to
Code definitions
+4
−2
broker/src/main/java/io/moquette/interception/messages/InterceptConnectMessage.java
+1
−1
broker/src/main/java/io/moquette/persistence/MemoryMessagesStore.java
+1
−2
broker/src/main/java/io/moquette/persistence/MemorySessionStore.java
+7
−3
broker/src/main/java/io/moquette/server/ConnectionDescriptor.java
+3
−1
broker/src/main/java/io/moquette/server/config/ClasspathResourceLoader.java
commit e2aa30d13975441966c1319dcc316266f5121eec
Unified
Split
Showing
3 changed files
with
10 additions
and 1 deletion.
+8
−0
checkstyle-suppressions.xml
+1
−1
checkstyle.xml
+1
−0
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/HawtDBStorageService.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/MemoryStorageService.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ProtocolProcessor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/SimpleMessaging.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ValueEvent.java
+15
−0
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Minor, changed header
#536
Merged
andsel
merged 1 commit into
moquette-io:master
from
andsel:fix/minor_desciption_change
Oct 1, 2020
p
{margin-right:0in;
mso-margin-top-alt:auto;
mso-margin-bottom-alt:auto;
margin-left:0in;
mso-pagination:widow-orphan;
font-size:12.0pt;
font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";}
p.BalloonText, li.BalloonText, div.BalloonText
{mso-style-name:"Balloon Text";
margin:0in;
margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-size:8.0pt;
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>About</title>
</head>
<body lang="EN-US">
<h2>About Moquette MQT broker</h2>
<p>June 11, 2014</p>
<h3>License</h3>
<p>The Content is provided to you under the terms and conditions of the
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
<p>The Content is
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
apply to your use of any object code in the Content. Check the Redistributor's license that was
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
L
Copy path
Cannot retrieve contributors at this time
89 lines (59 sloc)
2.84 KB
Raw
Blame
Moquette Project
Documentation reference guide Guide on how to use and configure Moquette
Google Group Google Group to participate in development discussions.
Moquette aims to be a MQTT compliant broker. The broker supports QoS 0, QoS 1 and QoS 2.
Its designed to be evented, uses Netty for the protocol encoding and decoding part.
Embeddable
Freedomotic is an home automation framework and uses Moquette embedded to interface with MQTT by a specific plugin.
Moquette is also used into Atomize Spin a software solution for the logistic field.
</module>
<!-- Copyright headers -->
<module name="RegexpSingleline">
<property name="format" value="^(\s|\*)*Copyright\s.*$"/>
<property name="minimum" value="1"/>
<property name="maximum" value="1"/>
<property name="message" value="missing copyright header"/>
</module>
<!-- Unmaintainable Javadoc tags -->
<!--module name="RegexpSingleline">
<property name="format" value="(@(author|version)|\(non-Javadoc\))"/>
<property name="ignoreCase" value="true"/>
<property name="message" value="unmaintainable Javadoc tags: @author, @version, or (non-Javadoc)"/>
</module-->
<!-- IDE-generated comment -->
<dependency>
<groupId>org.mockito</groupId>
<artifactId>mockito-core</artifactId>
<version>1.9.0</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.assertj</groupId>
<artifactId>assertj-core</artifactId>
<version>2.6.0</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.awaitility</groupId>
<artifactId>awaitility</artifactId>
<version>3.0.0</version>
session.outboundFlightMessages.clear();
session.inboundFlightMessages.clear();
}
@Override
@@ -251,7 +236,7 @@ public void moveInFlightToSecondPhaseAckWaiting(String clientID, int messageID,
}
@Override
public StoredMessage secondPhaseAcknowledged(String clientID, int messageID) {
public StoredMessage completeReleasedPublish(String clientID, int messageID) {
return getSession(clientID).secondPhaseStore.remove(messageID);
}
@@ -264,35 +249,13 @@ public int getInflightMessagesNo(String clientID) {
return 0;
}
return session.inboundFlightMessages.size() + session.secondPhaseStore.size()
+ session.outboundFlightMessages.size();
qiuzhanghua/moquette
quyf/moquette
redboy1972/moquette
redlion99/moquette
redsolo/moquette
robbyb67/moquette
robgratz/moquette
rubberbird/moquette
runafter/moquette
saeedhadi/moquette
salmanebah/moquette
sangkyunyoon/moquette
sayi21cn/moquette
sboorlagadda/moquette
senspace/moquette
seraya-fan/moquette
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
106 lines (91 sloc)
2.91 KB
Raw
Blame
/*
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Save preferences
echo Please set the JAVA_HOME variable in your environment to match the >&2
echo location of your Java installation. >&2
echo.
goto error
:OkJHome
if exist "%JAVA_HOME%\bin\java.exe" goto init
echo.
echo Error: JAVA_HOME is set to an invalid directory. >&2
echo JAVA_HOME = "%JAVA_HOME%" >&2
echo Please set the JAVA_HOME variable in your environment to match the >&2
echo location of your Java installation. >&2
echo.
goto error
@REM ==== END VALIDATION ====
:init
@REM Find the project base dir, i.e. the directory that contains the folder ".mvn".
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
Sign in to GitHub · GitHub
moquette/README.md at 8ba0b4dfe52dce28a4eb5e362f18afaf850e71d4 · moquette-io/moquette · GitHub
Minor, changed header (#536) · moquette-io/moquette@8ba0b4d · GitHub
Merge pull request #392 from AndreasMager/gradle_update · moquette-io/moquette@4307a90 · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
39 lines (33 sloc)
1.07 KB
Raw
Blame
/*
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
if [ -r /etc/gentoo-release ] ; then
JAVA_HOME=`java-config --jre-home`
fi
fi
if [ -z "$M2_HOME" ] ; then
## resolve links - $0 may be a link to maven's home
PRG="$0"
# need this for relative symlinks
while [ -h "$PRG" ] ; do
ls=`ls -ld "$PRG"`
link=`expr "$ls" : '.*-> \(.*\)$'`
if expr "$link" : '/.*' > /dev/null; then
PRG="$link"
else
copyright license to reproduce, prepare Derivative Works of,
publicly display, publicly perform, sublicense, and distribute the
Work and such Derivative Works in Source or Object form.
3. Grant of Patent License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
(except as stated in this section) patent license to make, have made,
use, offer to sell, sell, import, and otherwise transfer the Work,
where such license applies only to those patent claims licensable
by such Contributor that are necessarily infringed by their
Contribution(s) alone or by combination of their Contribution(s)
2
README.md
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
## What is Moquette?
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Showing
1 changed file
with
2 additions
and 3 deletions.
+2
−3
about.html
5
about.html
Show comments
View file
Edit file
Delete file
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/OutputMessagingEvent.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
25 lines (23 sloc)
790 Bytes
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
34 lines (30 sloc)
978 Bytes
Raw
+5
−8
broker/src/main/java/io/moquette/server/config/ConfigurationParser.java
+7
−2
broker/src/main/java/io/moquette/server/config/FileResourceLoader.java
+3
−1
broker/src/main/java/io/moquette/server/netty/MoquetteIdleTimeoutHandler.java
+6
−2
broker/src/main/java/io/moquette/server/netty/NettyAcceptor.java
+8
−6
broker/src/main/java/io/moquette/server/netty/NettyMQTTHandler.java
+3
pom.xml
8
checkstyle-suppressions.xml
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,8 @@
<?xml version="1.0"?>
<!DOCTYPE suppressions PUBLIC
"-//Puppy Crawl//DTD Suppressions 1.0//EN"
"http://www.puppycrawl.com/dtds/suppressions_1_0.dtd">
<suppressions>
<suppress checks="[a-zA-Z0-9]*" files=".*/resources/.*"/>
</suppressions>
2
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/DisconnectEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/InitEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/LostConnectionEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/MessagingEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/OutputMessagingEvent.java
+15
−0
Merged
Minor, changed header
#536
andsel
merged 1 commit into
moquette-io:master
from
andsel:fix/minor_desciption_change
Oct 1, 2020
Conversation
0
Commits
1
Checks
0
Files changed
font-family:Tahoma;
mso-fareast-font-family:"Times New Roman";}
@page Section1
{size:8.5in 11.0in;
margin:1.0in 1.25in 1.0in 1.25in;
mso-header-margin:.5in;
mso-footer-margin:.5in;
mso-paper-source:0;}
div.Section1
{page:Section1;}
-->
</style>
</head><body style="" lang="EN-US">
<div class="Section1">
<p style="text-align: center;" align="center"><b>Eclipse Public License - v 1.0</b>
</p>
indicated below, the terms and conditions of the EPL still apply to any source code in the Content
and such source code may be obtained at <a href="http://www.eclipse.org/">http://www.eclipse.org</a>.</p>
</body>
</html>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Part of moquette are used into the Vertx MQTT module, into MQTT spy
and into WSO2 Messge broker.
Try the demo instance
Point your browser to cloud instance, request an account then use it from your MQTT clients.
1 minute set up
Start play with it, download the self distribution tar from BinTray ,
the un untar and start the broker listening on 1883 port and enjoy!
tar xvf moquette-distribution-0.12.1.tar.gz
cd bin
./moquette.sh
Or if you are on Windows shell
cd bin
.\moquette.bat
Embedding in other projects
To embed Moquette in another maven project is sufficient to include a repository and declare the dependency:
<module name="RegexpSingleline">
<property name="format" value="File \| Settings \| File Templates"/>
<property name="message" value="IDE-generated comment"/>
</module>
<!-- Force UNIX line separator
<module name="io.netty.build.checkstyle.NewlineCheck"/>
-->
<!-- Trailing whitespace -->
<module name="RegexpSingleline">
<property name="format" value="\s+$"/>
<property name="message" value="trailing whitespace"/>
</module>
<!-- Prohibit consecutive empty lines (except the lines after package/import) -->
<module name="RegexpMultiline">
<property name="message" value="two or more consecutive empty lines"/>
<scope>test</scope>
</dependency>
</dependencies>
<reporting>
<plugins>
<plugin>
<groupId>org.codehaus.mojo</groupId>
<artifactId>cobertura-maven-plugin</artifactId>
<version>2.6</version>
</plugin>
</plugins>
</reporting>
<build>
}
@Override
public StoredMessage inboundInflight(String clientID, int messageID) {
return getSession(clientID).inboundFlightMessages.get(messageID);
}
@Override
public void markAsInboundInflight(String clientID, int messageID, StoredMessage msg) {
if (!sessions.containsKey(clientID))
LOG.error("Can't find the session for client <{}>", clientID);
sessions.get(clientID).inboundFlightMessages.put(messageID, msg);
return session.inboundFlightMessages.size() +
// countPubReleaseWaitingPubComplete(clientID) +
session.outboundFlightMessages.size();
}
sgano1/moquette
sixtop/moquette
slacrey/moquette
soenter/moquette
soken-su/moquette
sonecabr/moquette
sonson1023/moquette
splade/moquette
stannislin/moquette
sumyfly/moquette
superdjz/moquette
superposition/moquette
sureddy/moquette
surpass/moquette
swarwick/moquette
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage.QOSType;
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/InitEvent.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/DisconnectEvent.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
@REM Fallback to current working directory if not found.
set MAVEN_PROJECTBASEDIR=%MAVEN_BASEDIR%
IF NOT "%MAVEN_PROJECTBASEDIR%"=="" goto endDetectBaseDir
set EXEC_DIR=%CD%
set WDIR=%EXEC_DIR%
:findBaseDir
IF EXIST "%WDIR%"\.mvn goto baseDirFound
cd ..
IF "%WDIR%"=="%CD%" goto baseDirNotFound
set WDIR=%CD%
goto findBaseDir
:baseDirFound
set MAVEN_PROJECTBASEDIR=%WDIR%
cd "%EXEC_DIR%"
goto endDetectBaseDir
:baseDirNotFound
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/checkstyle.xml
Go to file
Go to file
T
Go to line
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
PRG="`dirname "$PRG"`/$link"
fi
done
saveddir=`pwd`
M2_HOME=`dirname "$PRG"`/..
# make it fully qualified
M2_HOME=`cd "$M2_HOME" && pwd`
cd "$saveddir"
# echo Using m2 at $M2_HOME
fi
# For Cygwin, ensure paths are in UNIX format before anything is touched
if $cygwin ; then
[ -n "$M2_HOME" ] &&
M2_HOME=`cygpath --unix "$M2_HOME"`
with the Work to which such Contribution(s) was submitted. If You
institute patent litigation against any entity (including a
cross-claim or counterclaim in a lawsuit) alleging that the Work
or a Contribution incorporated within the Work constitutes direct
or contributory patent infringement, then any patent licenses
granted to You under this License for that Work shall terminate
as of the date such litigation is filed.
4. Redistribution. You may reproduce and distribute copies of the
Work or Derivative Works thereof in any medium, with or without
modifications, and in Source or Object form, provided that You
meet the following conditions:
(a) You must give any other recipients of the Work or
Derivative Works a copy of this License; and
(b) You must cause any modified files to carry prominent notices
stating that You changed the files; and
(c) You must retain, in the Source form of any Derivative Works
## Moquette Project
[![Build Status](https://api.travis-ci.org/moquette-io/moquette.svg?branch=master)](https://travis-ci.org/moquette-io/moquette)
Toggle all file notes
0 comments
on commit 8ba0b4d
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
46 lines (40 sloc)
1.42 KB
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
@@ -11,13 +11,12 @@ <h2>About Moquette MQT broker</h2>
<p>June 11, 2014</p>
<h3>License</h3>
<p>The Eclipse Foundation makes available all content in this plug-in (&quot;Moquette MQTT&quot;). Unless otherwise
indicated below, the Content is provided to you under the terms and conditions of the
<p>The Content is provided to you under the terms and conditions of the
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
<p>If you did not receive this Content directly from the Eclipse Foundation, the Content is
<p>The Content is
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
apply to your use of any object code in the Content. Check the Redistributor's license that was
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
Toggle all file notes
Cannot retrieve contributors at this time
43 lines (36 sloc)
1.21 KB
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
*Event used to push work request on the SimpleMessaging.
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
−1
broker/src/main/java/io/moquette/server/netty/metrics/BytesMetricsHandler.java
+2
−1
broker/src/main/java/io/moquette/server/netty/metrics/MQTTMessageLogger.java
+3
−1
broker/src/main/java/io/moquette/server/netty/metrics/MessageMetricsHandler.java
+0
−16
broker/src/main/java/io/moquette/spi/DurableSession.java
+16
checkstyle.xml
Show comments
View file
Edit file
Delete file
@@ -22,7 +22,7 @@
<!--
<module name="SuppressionFilter">
<property name="file" value="/io/netty/suppressions.xml" />
<property name="file" value="checkstyle-suppressions.xml" />
</module>
<module name="io.netty.build.checkstyle.SuppressionFilter">
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/ProtocolEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PubAckEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PublishEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/RepublishEvent.java
Conversation
Copy link
Quote reply
Collaborator
andsel
commented
Oct 1, 2020
No description provided.
Minor, changed header
Loading status checks…
<p><span style="font-size: 10pt;">THE ACCOMPANYING PROGRAM IS PROVIDED UNDER
THE TERMS OF THIS ECLIPSE PUBLIC LICENSE ("AGREEMENT"). ANY USE,
REPRODUCTION OR DISTRIBUTION OF THE PROGRAM CONSTITUTES RECIPIENT'S ACCEPTANCE
OF THIS AGREEMENT.</span> </p>
<p><b><span style="font-size: 10pt;">1. DEFINITIONS</span></b> </p>
<p><span style="font-size: 10pt;">"Contribution" means:</span> </p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">a)
in the case of the initial Contributor, the initial code and documentation
distributed under this Agreement, and<br clear="left">
b) in the case of each subsequent Contributor:</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">i)
changes to the Program, and</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">ii)
additions to the Program;</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">where
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
<repositories>
<repository>
<id>bintray</id>
<url>https://jcenter.bintray.com</url>
<releases>
<enabled>true</enabled>
</releases>
<snapshots>
<enabled>false</enabled>
</snapshots>
</repository>
</repositories>
Include dependency in your project:
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
</module>
<module name="RegexpMultiline">
<property name="message" value="an empty line before '}'"/>
</module>
<module name="RegexpMultiline">
<property name="message" value="an empty line after a short line that ends with '{'"/>
</module>
<module name="TreeWalker">
<module name="LineLength">
<property name="max" value="120"/>
</module>
<module name="WhitespaceAfter"/>
<module name="WhitespaceAround">
<property name="tokens" value="ASSIGN, BAND, BAND_ASSIGN, BOR, BOR_ASSIGN, BSR, BSR_ASSIGN, BXOR, BXOR_ASSIGN, DIV, DIV_ASSIGN, EQUAL, GE, GT, LAND, LCURLY, LE, LITERAL_ASSERT, LITERAL_CATCH, LITERAL_DO, LITERAL_ELSE, LITERAL_FINALLY, LITERAL_FOR, LITERAL_IF, LITERAL_RETURN, LITERAL_SYNCHRONIZED, LITERAL_TRY, LITERAL_WHILE, LOR, LT, MINUS, MINUS_ASSIGN, MOD, MOD_ASSIGN, NOT_EQUAL, PLUS, PLUS_ASSIGN, RCURLY, SL, SLIST, SL_ASSIGN, SR, SR_ASSIGN, STAR, STAR_ASSIGN, TYPE_EXTENSION_AND"/>
<plugins>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-compiler-plugin</artifactId>
<configuration>
</configuration>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-checkstyle-plugin</artifactId>
<version>2.17</version>
<configuration>
<configLocation>checkstyle.xml</configLocation>
<!--<suppressionsLocation>checkstyle-suppressions.xml</suppressionsLocation>-->
<!--
<configLocation>/google_checks.xml</configLocation>
@Override
public int getPendingPublishMessagesNo(String clientID) {
if (!sessions.containsKey(clientID)) {
LOG.error("Can't find the session for client <{}>", clientID);
return 0;
}
return sessions.get(clientID).queue.size();
}
@Override
public int getSecondPhaseAckPendingMessages(String clientID) {
public int countPubReleaseWaitingPubComplete(String clientID) {
if (!sessions.containsKey(clientID)) {
LOG.error("Can't find the session for client <{}>", clientID);
systembugtj/moquette
tanapop/moquette
tangxunye/moquette
technocreatives/moquette
teco-kit/moquette-lusagent
tennessine/moquette
teranisi/moquette
thangdc94/moquette
thinkjoyorg/moquette
tigersshi/moquette
timvanginderen/moquette
ttomato/moquette
uwitec/moquette
wanghaipeng789/moquette
watergit2016/moquette
wendersonferreira/moquette
willenwu21/moquette
import java.nio.ByteBuffer;
import org.dna.mqtt.moquette.proto.messages.PublishMessage;
import org.dna.mqtt.moquette.server.ServerChannel;
/**
*
* @author andrea
*/
public class PublishEvent extends MessagingEvent {
String m_topic;
QOSType m_qos;
//byte[] m_message;
ByteBuffer m_message;
boolean m_retain;
String m_clientID;
//Optional attribute, available only fo QoS 1 and 2
int m_msgID;
transient ServerChannel m_session;
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
34 lines (28 sloc)
936 Bytes
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
37 lines (30 sloc)
1002 Bytes
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
set MAVEN_PROJECTBASEDIR=%EXEC_DIR%
cd "%EXEC_DIR%"
:endDetectBaseDir
IF NOT EXIST "%MAVEN_PROJECTBASEDIR%\.mvn\jvm.config" goto endReadAdditionalConfig
@setlocal EnableExtensions EnableDelayedExpansion
for /F "usebackq delims=" %%a in ("%MAVEN_PROJECTBASEDIR%\.mvn\jvm.config") do set JVM_CONFIG_MAVEN_PROPS=!JVM_CONFIG_MAVEN_PROPS! %%a
@endlocal & set JVM_CONFIG_MAVEN_PROPS=%JVM_CONFIG_MAVEN_PROPS%
:endReadAdditionalConfig
SET MAVEN_JAVA_EXE="%JAVA_HOME%\bin\java.exe"
set WRAPPER_JAR="%MAVEN_PROJECTBASEDIR%\.mvn\wrapper\maven-wrapper.jar"
set WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain
set DOWNLOAD_URL="https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar"
FOR /F "tokens=1,2 delims==" %%A IN ("%MAVEN_PROJECTBASEDIR%\.mvn\wrapper\maven-wrapper.properties") DO (
IF "%%A"=="wrapperUrl" SET DOWNLOAD_URL=%%B
)
@REM Extension to allow automatically downloading the maven-wrapper.jar from Maven-central
Accept
Reject
Save preferences
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
L
Copy path
Cannot retrieve contributors at this time
154 lines (151 sloc)
6.01 KB
Raw
Blame
<?xml version="1.0" encoding="UTF-8"?>
<!--
~ Copyright 2012 The Netty Project
~
~ The Netty Project licenses this file to you under the Apache License,
~ version 2.0 (the "License"); you may not use this file except in compliance
~ with the License. You may obtain a copy of the License at:
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
/**
* Used to send the ack message back to the client after a publish
*/
public class PubAckEvent extends MessagingEvent {
int m_messageId;
String m_clientID;
public PubAckEvent(int messageID, String clientID) {
m_messageId = messageID ;
m_clientID = clientID;
}
public int getMessageId() {
return m_messageId;
}
public String getClientID() {
return m_clientID;
}
}
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
[ -n "$JAVA_HOME" ] &&
JAVA_HOME=`cygpath --unix "$JAVA_HOME"`
[ -n "$CLASSPATH" ] &&
CLASSPATH=`cygpath --path --unix "$CLASSPATH"`
fi
# For Mingw, ensure paths are in UNIX format before anything is touched
if $mingw ; then
[ -n "$M2_HOME" ] &&
M2_HOME="`(cd "$M2_HOME"; pwd)`"
[ -n "$JAVA_HOME" ] &&
JAVA_HOME="`(cd "$JAVA_HOME"; pwd)`"
fi
if [ -z "$JAVA_HOME" ]; then
javaExecutable="`which javac`"
if [ -n "$javaExecutable" ] && ! [ "`expr \"$javaExecutable\" : '\([^ ]*\)'`" = "no" ]; then
# readlink(1) is not available as standard on Solaris 10.
readLink=`which readlink`
that You distribute, all copyright, patent, trademark, and
attribution notices from the Source form of the Work,
excluding those notices that do not pertain to any part of
the Derivative Works; and
(d) If the Work includes a "NOTICE" text file as part of its
distribution, then any Derivative Works that You distribute must
include a readable copy of the attribution notices contained
within such NOTICE file, excluding those notices that do not
pertain to any part of the Derivative Works, in at least one
of the following places: within a NOTICE text file distributed
as part of the Derivative Works; within the Source form or
documentation, if provided along with the Derivative Works; or,
within a display generated by the Derivative Works, if and
wherever such third-party notices normally appear. The contents
of the NOTICE file are for informational purposes only and
do not modify the License. You may add Your own attribution
notices within Derivative Works that You distribute, alongside
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.Utils;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
import org.dna.mqtt.moquette.server.ServerChannel;
/**
* Event used to carry ProtocolMessages from front handler to event processor
*/
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
0 comments
on commit 1a6dd8a
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
import org.dna.mqtt.moquette.server.ServerChannel;
/**
*
* @author andrea
*/
public class OutputMessagingEvent extends MessagingEvent {
private ServerChannel m_channel;
private AbstractMessage m_message;
public OutputMessagingEvent(ServerChannel channel, AbstractMessage message) {
m_channel = channel;
*
* @author andrea
*/
public abstract class MessagingEvent {
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Security
Insights
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Minor, changed header
#536
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
* Used to model the connection lost event
*
* @author andrea
*/
public class LostConnectionEvent extends MessagingEvent{
private String m_clientID;
public LostConnectionEvent(String clienID) {
m_clientID = clienID;
−0
broker/src/main/java/io/moquette/spi/ISubscriptionsStore.java
+32
−0
broker/src/main/java/io/moquette/spi/InboundFlightZone.java
+2
−2
broker/src/main/java/io/moquette/spi/TransientSession.java
+3
−1
broker/src/main/java/io/moquette/spi/impl/DebugUtils.java
+6
−4
broker/src/main/java/io/moquette/spi/impl/MessagesPublisher.java
+4
−4
<property name="pattern" value="((LocalTime|WorldClock)Protocol|LinkedTransferQueue|Version|jzlib/.*|chmv8/.*|com/sun/nio/sctp/.*)\.java" />
1
pom.xml
Show comments
View file
Edit file
Delete file
@@ -138,6 +138,7 @@
<version>2.17</version>
<configuration>
<configLocation>checkstyle.xml</configLocation>
<suppressionsLocation>checkstyle-suppressions.xml</suppressionsLocation>
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/StopEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/SubscribeEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/storage/StoredPublishEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/Subscription.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/SubscriptionsStore.java
b6e5fa7
Hide details
View details
andsel
merged commit 8ba0b4d
into
moquette-io:master
Oct 1, 2020
1 check was pending
1 check was pending
continuous-integration/travis-ci/pr
The Travis CI build is in progress
Details
Sign up for free
to join this conversation on GitHub.
Already have an account?
such changes and/or additions to the Program originate from and are distributed
by that particular Contributor. A Contribution 'originates' from a Contributor
if it was added to the Program by such Contributor itself or anyone acting on
such Contributor's behalf. Contributions do not include additions to the
Program which: (i) are separate modules of software distributed in conjunction
with the Program under their own license agreement, and (ii) are not derivative
works of the Program. </span></p>
<p><span style="font-size: 10pt;">"Contributor" means any person or
entity that distributes the Program.</span> </p>
<p><span style="font-size: 10pt;">"Licensed Patents " mean patent
claims licensable by a Contributor which are necessarily infringed by the use
or sale of its Contribution alone or when combined with the Program. </span></p>
<p><span style="font-size: 10pt;">"Program" means the Contributions
distributed in accordance with this Agreement.</span> </p>
<p><span style="font-size: 10pt;">"Recipient" means anyone who
receives the Program under this Agreement, including all Contributors.</span> </p>
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<version>0.12.1</version>
</dependency>
Build from sources
After a git clone of the repository, cd into the cloned sources and: ./gradlew clean moquette-distribution:distMoquetteTar or
./gradlew clean moquette-distribution:distMoquetteZip.
In distribution/build directory will be produced the selfcontained file for the broker with all dependencies and a running script.
If you like Moquette you can support us by donating.
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
</module>
<!-- Commented out due to false positives.
<module name="MissingDeprecated"/>
-->
<module name="MissingOverride"/>
<module name="PackageAnnotation"/>
<module name="EmptyBlock">
<property name="option" value="text"/>
</module>
<module name="LeftCurly"/>
<module name="RightCurly"/>
<!--
<module name="NeedBraces"/>
-->
<module name="AvoidNestedBlocks">
<property name="allowInSwitchCase" value="true"/>
-->
<failOnViolation>true</failOnViolation>
<consoleOutput>true</consoleOutput>
</configuration>
<executions>
<execution>
<phase>validate</phase>
<goals>
<goal>check</goal>
</goals>
</execution>
</executions>
</plugin>
</plugins>
</build>
<profiles>
<profile>
return 0;
@@ -302,7 +265,7 @@ public int getSecondPhaseAckPendingMessages(String clientID) {
}
@Override
public void cleanSession(String clientID) {
public void removeTemporaryQoS2(String clientID) {
LOG.debug("Session cleanup for client <{}>", clientID);
Session session = sessions.get(clientID);
@@ -311,18 +274,8 @@ public void cleanSession(String clientID) {
return;
}
// remove also the messages stored of type QoS1/2
LOG.info("Removing stored messages with QoS 1 and 2. ClientId={}", clientID);
LOG.info("Removing stored messages with QoS 2. ClientId={}", clientID);
session.secondPhaseStore.clear();
session.outboundFlightMessages.clear();
windbender/moquette
xintao222/moquette
xuchao/moquette
yangpeiyong/moquette
yanxuxiao/moquette
yunemr/moquette
zhangxiaofeng123/moquette
zhoudianyou/moquette
zhuyuming/moquette
zofuthan/moquette
zorowonder/moquette
zyy/moquette
Nothing to show
compare:
master
Choose different branches or forks above to discuss and review changes.
public PublishEvent(PublishMessage pubMsg, String clientID, ServerChannel session) {
m_topic = pubMsg.getTopicName();
m_qos = pubMsg.getQos();
m_message = pubMsg.getPayload();
m_retain = pubMsg.isRetainFlag();
m_clientID = clientID;
m_session = session;
if (pubMsg.getQos() != QOSType.MOST_ONE) {
m_msgID = pubMsg.getMessageID();
}
}
public PublishEvent(String topic, QOSType qos, ByteBuffer message, boolean retain,
String clientID, ServerChannel session) {
m_topic = topic;
m_qos = qos;
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.server.ServerChannel;
/**
*
* @author andrea
Wiki
Security
Insights
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Minor, changed header
#536
Merged
@REM This allows using the maven wrapper in projects that prohibit checking in binary data.
if exist %WRAPPER_JAR% (
if "%MVNW_VERBOSE%" == "true" (
echo Found %WRAPPER_JAR%
)
) else (
if not "%MVNW_REPOURL%" == "" (
SET DOWNLOAD_URL="%MVNW_REPOURL%/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar"
)
if "%MVNW_VERBOSE%" == "true" (
echo Couldn't find %WRAPPER_JAR%, downloading it ...
echo Downloading from: %DOWNLOAD_URL%
)
powershell -Command "&{"^
"$webclient = new-object System.Net.WebClient;"^
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
e2aa30d139
moquette/checkstyle.xml
Go to file
Go to file
T
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
e2aa30d139
moquette/checkstyle-suppressions.xml
Go to file
Go to file
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
~ License for the specific language governing permissions and limitations
~ under the License.
-->
<!DOCTYPE module PUBLIC
"-//Puppy Crawl//DTD Check Configuration 1.2//EN"
"http://www.puppycrawl.com/dtds/configuration_1_2.dtd">
<module name="Checker">
<property name="severity" value="warning"/>
<!--
<module name="SuppressionFilter">
<property name="file" value="checkstyle-suppressions.xml" />
</module>
<module name="io.netty.build.checkstyle.SuppressionFilter">
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
if [ ! `expr "$readLink" : '\([^ ]*\)'` = "no" ]; then
if $darwin ; then
javaHome="`dirname \"$javaExecutable\"`"
javaExecutable="`cd \"$javaHome\" && pwd -P`/javac"
else
javaExecutable="`readlink -f \"$javaExecutable\"`"
fi
javaHome="`dirname \"$javaExecutable\"`"
javaHome=`expr "$javaHome" : '\(.*\)/bin'`
JAVA_HOME="$javaHome"
export JAVA_HOME
fi
fi
fi
if [ -z "$JAVACMD" ] ; then
if [ -n "$JAVA_HOME" ] ; then
if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
or as an addendum to the NOTICE text from the Work, provided
that such additional attribution notices cannot be construed
as modifying the License.
You may add Your own copyright statement to Your modifications and
may provide additional or different license terms and conditions
for use, reproduction, or distribution of Your modifications, or
for any such Derivative Works as a whole, provided Your use,
reproduction, and distribution of the Work otherwise complies with
the conditions stated in this License.
5. Submission of Contributions. Unless You explicitly state otherwise,
any Contribution intentionally submitted for inclusion in the Work
by You to the Licensor shall be under the terms and conditions of
this License, without any additional terms or conditions.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
public class ProtocolEvent extends MessagingEvent {
ServerChannel m_session;
AbstractMessage message;
public ProtocolEvent(ServerChannel session, AbstractMessage message) {
this.m_session = session;
this.message = message;
}
public ServerChannel getSession() {
return m_session;
}
public AbstractMessage getMessage() {
return message;
}
@Override
public String toString() {
return "ProtocolEvent wrapping " + Utils.msgType2String(message.getMessageType());
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
m_message = message;
}
public ServerChannel getChannel() {
return m_channel;
}
public AbstractMessage getMessage() {
return m_message;
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Merged
andsel
merged 1 commit into
moquette-io:master
from
andsel:fix/minor_desciption_change
Oct 1, 2020
+1
−1
Conversation
0
Commits
1
Checks
0
Files changed
1
}
public String getClientID() {
return m_clientID;
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
broker/src/main/java/io/moquette/spi/impl/PersistentQueueMessageSender.java
+46
−71
broker/src/main/java/io/moquette/spi/impl/ProtocolProcessor.java
+8
−6
broker/src/main/java/io/moquette/spi/impl/ProtocolProcessorBootstrapper.java
+48
−0
broker/src/main/java/io/moquette/spi/impl/RunningSubscription.java
+3
−1
broker/src/main/java/io/moquette/spi/impl/SessionsRepository.java
+12
−4
broker/src/main/java/io/moquette/spi/impl/security/ACLFileParser.java
+1
<!--
<configLocation>/google_checks.xml</configLocation>
-->
Toggle all file notes
0 comments
on commit e2aa30d
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/Token.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/TreeNode.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ConfigurationParser.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ConnectionDescriptor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/Constants.java
+15
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
<p><b><span style="font-size: 10pt;">2. GRANT OF RIGHTS</span></b> </p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">a)
Subject to the terms of this Agreement, each Contributor hereby grants Recipient
a non-exclusive, worldwide, royalty-free copyright license to<span style="color: red;"> </span>reproduce, prepare derivative works of, publicly
display, publicly perform, distribute and sublicense the Contribution of such
Contributor, if any, and such derivative works, in source code and object code
form.</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">b)
Subject to the terms of this Agreement, each Contributor hereby grants
Recipient a non-exclusive, worldwide,<span style="color: green;"> </span>royalty-free
patent license under Licensed Patents to make, use, sell, offer to sell, import
and otherwise transfer the Contribution of such Contributor, if any, in source
code and object code form. This patent license shall apply to the combination
of the Contribution and the Program if, at the time the Contribution is added
by the Contributor, such addition of the Contribution causes such combination
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
</module>
<module name="FinalClass"/>
<module name="HideUtilityClassConstructor"/>
<module name="CovariantEquals"/>
<module name="EmptyStatement"/>
<module name="EqualsHashCode"/>
<!--
<module name="FinalLocalVariable"/>
-->
<!-- Commented out due to http://jira.codehaus.org/browse/MCHECKSTYLE-111
<module name="RedundantThrows">
<property name="logLoadErrors" value="false"/>
<property name="suppressLoadErrors" value="true"/>
</module>
-->
<module name="SimplifyBooleanExpression"/>
<module name="SimplifyBooleanReturn"/>
<id>release-sign-artifacts</id>
<build>
<plugins>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-source-plugin</artifactId>
<executions>
<execution>
<id>attach-sources</id>
<goals>
<goal>jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
session.inboundFlightMessages.clear();
LOG.info("Wiping existing subscriptions. ClientId={}", clientID);
wipeSubscriptions(clientID);
//remove also the enqueued messages
dropQueue(clientID);
// TODO this missing last step breaks the junit test
//sessions.remove(clientID);
4
broker/src/main/java/io/moquette/persistence/PersistentSession.java
Show comments
View file
Edit file
Delete file
@@ -25,8 +25,10 @@
private static final long serialVersionUID = 5052054783220481854L;
public final boolean cleanSession;
Learn about pull requests
Create pull request
Compare and review just about anything
Branches, tags, commit ranges, and time ranges. In the same repository and across forks.
Example comparisons
gh-pages
Jun 7, 2020
rel_0.13
Apr 11, 2020
test_branch
Oct 1, 2019
broker_restructuring_connections
Nov 1, 2018
persistent_starved_session_cleaner
Oct 18, 2017
m_message = message;
m_retain = retain;
m_clientID = clientID;
m_session = session;
}
public PublishEvent(String topic, QOSType qos, ByteBuffer message, boolean retain,
String clientID, int msgID, ServerChannel session) {
this(topic, qos, message, retain, clientID, session);
m_msgID = msgID;
}
public String getTopic() {
return m_topic;
}
public QOSType getQos() {
return m_qos;
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import java.util.Properties;
/**
*/
public final class InitEvent extends MessagingEvent {
private Properties config;
public InitEvent(Properties config) {
this.config = config;
}
public Properties getConfig() {
return config;
}
*/
public class DisconnectEvent extends MessagingEvent {
ServerChannel m_session;
public DisconnectEvent(ServerChannel session) {
m_session = session;
}
public ServerChannel getSession() {
return m_session;
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
andsel
merged 1 commit into
moquette-io:master
from
andsel:fix/minor_desciption_change
Oct 1, 2020
+1
−1
Conversation
0
Commits
1
Checks
0
Files changed
1
Minor, changed header
"if (-not ([string]::IsNullOrEmpty('%MVNW_USERNAME%') -and [string]::IsNullOrEmpty('%MVNW_PASSWORD%'))) {"^
"$webclient.Credentials = new-object System.Net.NetworkCredential('%MVNW_USERNAME%', '%MVNW_PASSWORD%');"^
"}"^
"[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; $webclient.DownloadFile('%DOWNLOAD_URL%', '%WRAPPER_JAR%')"^
"}"
if "%MVNW_VERBOSE%" == "true" (
echo Finished downloading %WRAPPER_JAR%
)
)
@REM End of extension
@REM Provide a "standardized" way to retrieve the CLI args that will
@REM work with both Windows and non-Windows executions.
set MAVEN_CMD_LINE_ARGS=%*
%MAVEN_JAVA_EXE% %JVM_CONFIG_MAVEN_PROPS% %MAVEN_OPTS% %MAVEN_DEBUG_OPTS% -classpath %WRAPPER_JAR% "-Dmaven.multiModuleProjectDirectory=%MAVEN_PROJECTBASEDIR%" %WRAPPER_LAUNCHER% %MAVEN_CONFIG% %*
if ERRORLEVEL 1 goto error
goto end
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
e2aa30d139
moquette/pom.xml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
229 lines (208 sloc)
7.63 KB
Raw
Blame
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Wiki
Security
Insights
Permalink
Browse files
checkstyle: resource folders excluded form check
Loading branch information
Andreas Mager
committed
Feb 1, 2017
1 parent
Go to line
L
Copy path
Cannot retrieve contributors at this time
148 lines (145 sloc)
5.92 KB
Raw
Blame
<?xml version="1.0" encoding="UTF-8"?>
<!--
~ Copyright 2012 The Netty Project
~
~ The Netty Project licenses this file to you under the Apache License,
~ version 2.0 (the "License"); you may not use this file except in compliance
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
8 lines (7 sloc)
260 Bytes
Raw
Blame
<?xml version="1.0"?>
<!DOCTYPE suppressions PUBLIC
"-//Puppy Crawl//DTD Suppressions 1.0//EN"
"http://www.puppycrawl.com/dtds/suppressions_1_0.dtd">
<suppressions>
<suppress checks="[a-zA-Z0-9]*" files=".*/resources/.*"/>
</suppressions>
Copy lines
<property name="pattern" value="((LocalTime|WorldClock)Protocol|LinkedTransferQueue|Version|jzlib/.*|chmv8/.*|com/sun/nio/sctp/.*)\.java" />
</module>
-->
<module name="FileTabCharacter"/>
<!--
<module name="JavadocPackage"/>
-->
<module name="NewlineAtEndOfFile">
<property name="lineSeparator" value="lf" />
</module>
<!-- Copyright headers -->
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Wiki
Security
Insights
Permalink
Browse files
checkstyle: resource folders excluded form check
Loading branch information
Andreas Mager
committed
Feb 1, 2017
1 parent
99fea68
# IBM's JDK on AIX uses strange locations for the executables
JAVACMD="$JAVA_HOME/jre/sh/java"
else
JAVACMD="$JAVA_HOME/bin/java"
fi
else
JAVACMD="`which java`"
fi
fi
if [ ! -x "$JAVACMD" ] ; then
echo "Error: JAVA_HOME is not defined correctly." >&2
echo " We cannot execute $JAVACMD" >&2
exit 1
fi
if [ -z "$JAVA_HOME" ] ; then
Notwithstanding the above, nothing herein shall supersede or modify
the terms of any separate license agreement you may have executed
with Licensor regarding such Contributions.
6. Trademarks. This License does not grant permission to use the trade
names, trademarks, service marks, or product names of the Licensor,
except as required for reasonable and customary use in describing the
origin of the Work and reproducing the content of the NOTICE file.
7. Disclaimer of Warranty. Unless required by applicable law or
agreed to in writing, Licensor provides the Work (and each
Contributor provides its Contributions) on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied, including, without limitation, any warranties or conditions
of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
Save preferences
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Learn more
Accept
Reject
Save preferences
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Merged
Minor, changed header
#536
Changes from all commits
Commits
Show all changes
1 commit
Select commit
b6e5fa7
Minor, changed header
andsel Oct 1, 2020
File filter...
Filter file types
.md
(1)
All 1 file type selected
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
−0
broker/src/main/java/io/moquette/spi/impl/security/AcceptAllAuthenticator.java
+10
−8
broker/src/main/java/io/moquette/spi/impl/subscriptions/CNode.java
+10
−75
broker/src/main/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectory.java
+67
−0
broker/src/main/java/io/moquette/spi/impl/subscriptions/DumpTreeVisitor.java
+33
−0
broker/src/main/java/io/moquette/spi/impl/subscriptions/SubscriptionCounterVisitor.java
+2
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
−0
broker/src/main/java/org/dna/mqtt/moquette/server/IAuthenticator.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/Server.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ServerAcceptor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ServerChannel.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/MoquetteIdleTimoutHandler.java
+15
−0
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
to be covered by the Licensed Patents. The patent license shall not apply to
any other combinations which include the Contribution. No hardware per se is
licensed hereunder. </span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">c)
Recipient understands that although each Contributor grants the licenses to its
Contributions set forth herein, no assurances are provided by any Contributor
that the Program does not infringe the patent or other intellectual property
rights of any other entity. Each Contributor disclaims any liability to Recipient
for claims brought by any other entity based on infringement of intellectual
property rights or otherwise. As a condition to exercising the rights and
licenses granted hereunder, each Recipient hereby assumes sole responsibility
to secure any other intellectual property rights needed, if any. For example,
if a third party patent license is required to allow Recipient to distribute
the Program, it is Recipient's responsibility to acquire that license before
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<module name="SuperFinalize"/>
<module name="PackageDeclaration"/>
<module name="ExplicitInitialization"/>
<module name="DefaultComesLast"/>
<module name="UnnecessaryParentheses"/>
<!--
<module name="AvoidStarImport">
<property name="allowStaticMemberImports" value="true"/>
</module>
-->
<module name="RedundantImport"/>
<!-- Commented out due to false positives.
<module name="UnusedImports">
<property name="processJavadoc" value="true"/>
</module>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-javadoc-plugin</artifactId>
<executions>
<execution>
<id>attach-javadocs</id>
<goals>
<goal>jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-gpg-plugin</artifactId>
<executions>
public final String clientID;
public PersistentSession(boolean cleanSession) {
public PersistentSession(String clientID, boolean cleanSession) {
this.clientID = clientID;
this.cleanSession = cleanSession;
}
}
2
broker/src/main/java/io/moquette/server/ConnectionDescriptor.java
Show comments
View file
Edit file
Delete file
@@ -126,7 +126,7 @@ public boolean assignState(ConnectionState expected, ConnectionState newState) {
@Override
24 hours ago
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
}
public ByteBuffer getMessage() {
return m_message;
}
public boolean isRetain() {
return m_retain;
}
public String getClientID() {
return m_clientID;
}
public int getMessageID() {
return m_msgID;
}
public ServerChannel getSession() {
return m_session;
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
b6e5fa7
Select commit
b6e5fa7
Minor, changed header
andsel Oct 1, 2020
Merged
Minor, changed header
#536
Minor, changed header
b6e5fa7
Select commit
b6e5fa7
Minor, changed header
andsel Oct 1, 2020
Workflow runs completed with no jobs
You can’t perform that action at this time.
:error
set ERROR_CODE=1
:end
@endlocal & set ERROR_CODE=%ERROR_CODE%
if not "%MAVEN_SKIP_RC%" == "" goto skipRcPost
@REM check for post script, once with legacy .bat ending and once with .cmd ending
if exist "%HOME%\mavenrc_post.bat" call "%HOME%\mavenrc_post.bat"
if exist "%HOME%\mavenrc_post.cmd" call "%HOME%\mavenrc_post.cmd"
:skipRcPost
@REM pause the script if MAVEN_BATCH_PAUSE is set to 'on'
if "%MAVEN_BATCH_PAUSE%" == "on" pause
if "%MAVEN_TERMINATE_CMD%" == "on" exit %ERROR_CODE%
exit /B %ERROR_CODE%
Copy lines
Copy permalink
View git blame
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
1a6dd8a259
moquette/about.html
Go to file
Go to file
T
Go to line
L
Copy path
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Update about.html
Update the about after request from Eclipse Foundation
Loading branch information
andsel
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Update about.html
Update the about after request from Eclipse Foundation
Loading branch information
andsel
<modelVersion>4.0.0</modelVersion>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<netty.version>4.1.6.Final</netty.version>
<source.version>1.7</source.version>
<target.version>1.7</target.version>
<bintray.repo>andsel/maven</bintray.repo>
<bintray.parent.package>io.moquette.moquette-parent</bintray.parent.package>
</properties>
<groupId>io.moquette</groupId>
<artifactId>moquette-parent</artifactId>
<packaging>pom</packaging>
<version>0.10-SNAPSHOT</version>
<name>Moquette MQTT</name>
<description>Moquette lightweight MQTT Broker</description>
<inceptionYear>2011</inceptionYear>
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
99fea68
commit e2aa30d13975441966c1319dcc316266f5121eec
Unified
Split
Showing
3 changed files
with
10 additions
and 1 deletion.
+8
−0
checkstyle-suppressions.xml
+1
−1
checkstyle.xml
+1
−0
~ with the License. You may obtain a copy of the License at:
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
~ License for the specific language governing permissions and limitations
~ under the License.
-->
<!DOCTYPE module PUBLIC
"-//Puppy Crawl//DTD Check Configuration 1.2//EN"
"http://www.puppycrawl.com/dtds/configuration_1_2.dtd">
<module name="Checker">
<property name="severity" value="warning"/>
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
<module name="RegexpSingleline">
<property name="format" value="^(\s|\*)*Copyright\s.*$"/>
<property name="minimum" value="1"/>
<property name="maximum" value="1"/>
<property name="message" value="missing copyright header"/>
</module>
<!-- Unmaintainable Javadoc tags -->
<!--module name="RegexpSingleline">
<property name="format" value="(@(author|version)|\(non-Javadoc\))"/>
<property name="ignoreCase" value="true"/>
<property name="message" value="unmaintainable Javadoc tags: @author, @version, or (non-Javadoc)"/>
</module-->
<!-- IDE-generated comment -->
<module name="RegexpSingleline">
<property name="format" value="File \| Settings \| File Templates"/>
<property name="message" value="IDE-generated comment"/>
</module>
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
commit e2aa30d13975441966c1319dcc316266f5121eec
Unified
Split
Showing
3 changed files
with
10 additions
and 1 deletion.
+8
−0
checkstyle-suppressions.xml
+1
−1
checkstyle.xml
+1
echo "Warning: JAVA_HOME environment variable is not set."
fi
CLASSWORLDS_LAUNCHER=org.codehaus.plexus.classworlds.launcher.Launcher
# traverses directory structure from process work directory to filesystem root
# first directory with .mvn subdirectory is considered project base directory
find_maven_basedir() {
if [ -z "$1" ]
then
echo "Path not specified to find_maven_basedir"
return 1
fi
basedir="$1"
wdir="$1"
while [ "$wdir" != '/' ] ; do
if [ -d "$wdir"/.mvn ] ; then
basedir=$wdir
PARTICULAR PURPOSE. You are solely responsible for determining the
appropriateness of using or redistributing the Work and assume any
risks associated with Your exercise of permissions under this License.
8. Limitation of Liability. In no event and under no legal theory,
whether in tort (including negligence), contract, or otherwise,
unless required by applicable law (such as deliberate and grossly
negligent acts) or agreed to in writing, shall any Contributor be
liable to You for damages, including any direct, indirect, special,
incidental, or consequential damages of any character arising as a
result of this License or out of the use or inability to use the
Work (including but not limited to damages for loss of goodwill,
other commercial damages or losses), even if such Contributor
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Minor, changed header
#536
Merged
andsel
merged 1 commit into
moquette-io:master
from
andsel:fix/minor_desciption_change
Oct 1, 2020
Merged
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Filter viewed files
Hide viewed files
Clear filters
Jump to…
Jump to file
Failed to load files. Retry
Always
Unified
Split
Just for now
Hide whitespace changes
Apply and reload
2
README.md
Show comments
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
−2
broker/src/main/java/io/moquette/spi/impl/subscriptions/Token.java
+5
−9
broker/src/main/java/io/moquette/spi/impl/subscriptions/Topic.java
+4
−4
broker/src/test/java/io/moquette/Utils.java
+24
−5
broker/src/test/java/io/moquette/persistence/MessageStoreTCK.java
+1
−1
broker/src/test/java/io/moquette/server/MessageCollector.java
+3
−1
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
broker/src/main/java/org/dna/mqtt/moquette/server/netty/NettyAcceptor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/NettyChannel.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/NettyMQTTHandler.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/BytesMetrics.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/BytesMetricsCollector.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/BytesMetricsHandler.java
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
distributing the Program.</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">d)
Each Contributor represents that to its knowledge it has sufficient copyright
rights in its Contribution, if any, to grant the copyright license set forth in
this Agreement. </span></p>
<p><b><span style="font-size: 10pt;">3. REQUIREMENTS</span></b> </p>
<p><span style="font-size: 10pt;">A Contributor may choose to distribute the
Program in object code form under its own license agreement, provided that:</span>
</p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">a)
it complies with the terms and conditions of this Agreement; and</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">b)
its license agreement:</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">i)
effectively disclaims on behalf of all Contributors all warranties and
-->
<module name="JavadocStyle">
<property name="checkFirstSentence" value="false"/>
</module>
<module name="UpperEll"/>
<module name="ArrayTypeStyle"/>
<module name="OuterTypeFilename"/>
<module name="ModifierOrder"/>
<module name="RedundantModifier"/>
<module name="GenericWhitespace"/>
<module name="EmptyForInitializerPad"/>
<module name="EmptyForIteratorPad"/>
<module name="MethodParamPad"/>
<module name="ParenPad"/>
<module name="TypecastParenPad"/>
<module name="ParameterName">
<execution>
<id>sign-artifacts</id>
<phase>package</phase>
<goals>
<goal>sign</goal>
</goals>
</execution>
</executions>
</plugin>
</plugins>
</build>
</profile>
</profiles>
<repositories>
<repository>
<id>Maven repo</id>
public String toString() {
return "ConnectionDescriptor{" + "clientID=" + clientID + ", cleanSession=" + cleanSession + ", state="
return "ConnectionDescriptor{" + "clientID=" + clientID + ", removeTemporaryQoS2=" + cleanSession + ", state="
+ channelState.get() + '}';
}
24
broker/src/main/java/io/moquette/server/ConnectionDescriptorStore.java
Show comments
View file
Edit file
Delete file
@@ -23,12 +23,13 @@
import io.moquette.server.netty.metrics.BytesMetrics;
import io.moquette.server.netty.metrics.MessageMetrics;
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
@Override
public String toString() {
return "PublishEvent{" +
"m_msgID=" + m_msgID +
", m_clientID='" + m_clientID + '\'' +
", m_retain=" + m_retain +
", m_qos=" + m_qos +
", m_topic='" + m_topic + '\'' +
'}';
}
}
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Cannot retrieve contributors at this time
27 lines (23 sloc)
1.21 KB
Raw
Blame
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>About</title>
</head>
<body lang="EN-US">
<h2>About Moquette MQT broker</h2>
committed
Apr 16, 2018
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
4307a90
commit 1a6dd8a259e64b4153b35e458dca642df634ca8b
Unified
Split
Showing
1 changed file
with
2 additions
and 3 deletions.
committed
Apr 16, 2018
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
4307a90
commit 1a6dd8a259e64b4153b35e458dca642df634ca8b
Unified
Split
Showing
1 changed file
with
2 additions
<url>https://github.com/andsel/moquette/</url>
<licenses>
<license>
<name>The Apache License, Version 2.0</name>
<url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
</license>
<license>
<name>Eclipse Public License - Version 1.0</name>
<url>http://www.eclipse.org/org/documents/epl-v10.php</url>
</license>
</licenses>
<developers>
<developer>
<id>andsel</id>
<name>Andrea Selva</name>
<roles>
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
8ba0b4dfe5
moquette/README.md
Go to file
Go to file
T
Go to line
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Minor, changed header (#536)
Loading branch information
andsel
committed
Oct 1, 2020
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Merge pull request #392 from AndreasMager/gradle_update
Build tools update.
Loading branch information
andsel
pom.xml
8
checkstyle-suppressions.xml
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,8 @@
<?xml version="1.0"?>
<!DOCTYPE suppressions PUBLIC
"-//Puppy Crawl//DTD Suppressions 1.0//EN"
"http://www.puppycrawl.com/dtds/suppressions_1_0.dtd">
<suppressions>
<suppress checks="[a-zA-Z0-9]*" files=".*/resources/.*"/>
</suppressions>
<!--
<module name="SuppressionFilter">
<property name="file" value="checkstyle-suppressions.xml" />
</module>
<module name="io.netty.build.checkstyle.SuppressionFilter">
<property name="pattern" value="((LocalTime|WorldClock)Protocol|LinkedTransferQueue|Version|jzlib/.*|chmv8/.*|com/sun/nio/sctp/.*)\.java" />
</module>
-->
<module name="FileTabCharacter"/>
<!--
<module name="JavadocPackage"/>
-->
<module name="NewlineAtEndOfFile" />
<!-- Copyright headers -->
<module name="RegexpSingleline">
<property name="format" value="^(\s|\*)*Copyright\s.*$"/>
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
<!-- Force UNIX line separator
<module name="io.netty.build.checkstyle.NewlineCheck"/>
-->
<!-- Trailing whitespace -->
<module name="RegexpSingleline">
<property name="format" value="\s+$"/>
<property name="message" value="trailing whitespace"/>
</module>
<!-- Prohibit consecutive empty lines (except the lines after package/import) -->
<module name="RegexpMultiline">
<property name="message" value="two or more consecutive empty lines"/>
</module>
<module name="RegexpMultiline">
<property name="message" value="an empty line before '}'"/>
</module>
<module name="RegexpMultiline">
<property name="message" value="an empty line after a short line that ends with '{'"/>
−0
pom.xml
8
checkstyle-suppressions.xml
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,8 @@
<?xml version="1.0"?>
<!DOCTYPE suppressions PUBLIC
"-//Puppy Crawl//DTD Suppressions 1.0//EN"
"http://www.puppycrawl.com/dtds/suppressions_1_0.dtd">
<suppressions>
<suppress checks="[a-zA-Z0-9]*" files=".*/resources/.*"/>
break
fi
# workaround for JBEAP-8937 (on Solaris 10/Sparc)
wdir=`cd "$wdir/.."; pwd`
fi
# end of workaround
done
}
# concatenates all lines of a file
concat_lines() {
if [ -f "$1" ]; then
echo "$(tr -s '\n' ' ' < "$1")"
fi
}
BASE_DIR=`find_maven_basedir "$(pwd)"`
if [ -z "$BASE_DIR" ]; then
has been advised of the possibility of such damages.
9. Accepting Warranty or Additional Liability. While redistributing
the Work or Derivative Works thereof, You may choose to offer,
and charge a fee for, acceptance of support, warranty, indemnity,
or other liability obligations and/or rights consistent with this
License. However, in accepting such obligations, You may act only
on Your own behalf and on Your sole responsibility, not on behalf
of any other Contributor, and only if You agree to indemnify,
defend, and hold each Contributor harmless for any liability
incurred by, or claims asserted against, such Contributor by reason
of your accepting any such warranty or additional liability.
END OF TERMS AND CONDITIONS
APPENDIX: How to apply the Apache License to your work.
To apply the Apache License to your work, attach the following
boilerplate notice, with the fields enclosed by brackets "[]"
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Minor, changed header
#536
andsel
merged 1 commit into
moquette-io:master
from
andsel:fix/minor_desciption_change
Oct 1, 2020
+1
−1
Conversation
0
Commits
1
Checks
0
Files changed
Accept
Reject
Save preferences
View file
Edit file
Delete file
Open in desktop
@@ -1,5 +1,5 @@
## What is Moquette?
## Moquette Project
[![Build Status](https://api.travis-ci.org/moquette-io/moquette.svg?branch=master)](https://travis-ci.org/moquette-io/moquette)
Toggle all file notes
ProTip!
Use n and p to navigate between commits in a pull request.
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
broker/src/test/java/io/moquette/server/ServerIntegrationFuseTest.java
+4
−3
broker/src/test/java/io/moquette/server/ServerIntegrationHazelcastHandlerInterceptorTest.java
+10
−10
broker/src/test/java/io/moquette/server/ServerIntegrationPahoTest.java
+11
−9
broker/src/test/java/io/moquette/server/ServerIntegrationQoSValidationTest.java
+8
−6
broker/src/test/java/io/moquette/server/ServerIntegrationRestartTest.java
+2
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/MessageMetrics.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/MessageMetricsCollector.java
+15
−1
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/MessageMetricsHandler.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/FileAuthenticatorTest.java
+15
−0
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
conditions, express and implied, including warranties or conditions of title
and non-infringement, and implied warranties or conditions of merchantability
and fitness for a particular purpose; </span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">ii)
effectively excludes on behalf of all Contributors all liability for damages,
including direct, indirect, special, incidental and consequential damages, such
as lost profits; </span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">iii)
states that any provisions which differ from this Agreement are offered by that
Contributor alone and not by any other party; and</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">iv)
states that source code for the Program is available from such Contributor, and
informs licensees how to obtain it in a reasonable manner on or through a
medium customarily used for software exchange.<span style="color: blue;"> </span></span></p>
<p><span style="font-size: 10pt;">When the Program is made available in source
<property name="format" value="^(?!arg[0-9])[_a-z][_a-zA-Z0-9]*$" />
</module>
</module>
</module>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
<url>https://repo1.maven.org/maven2/</url>
</repository>
<repository>
<id>Paho Releases</id>
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
</repository>
<repository>
<id>sonatype-snapshots</id>
<snapshots>
<enabled>true</enabled>
</snapshots>
<url>https://oss.sonatype.org/content/repositories/snapshots</url>
</repository>
</repositories>
import io.moquette.spi.ClientSession;
import io.moquette.spi.ISessionsStore;
import io.moquette.spi.impl.SessionsRepository;
import io.moquette.spi.impl.subscriptions.Subscription;
import io.netty.handler.codec.mqtt.MqttMessage;
import io.netty.handler.codec.mqtt.MqttMessageType;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.util.ArrayList;
import java.util.Collection;
import java.util.concurrent.ConcurrentHashMap;
@@ -39,11 +40,11 @@
private static final Logger LOG = LoggerFactory.getLogger(ConnectionDescriptorStore.class);
private final ConcurrentMap<String, ConnectionDescriptor> connectionDescriptors;
private final ISessionsStore sessionsStore;
Save preferences
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Reject
Save preferences
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
<p>June 11, 2014</p>
<h3>License</h3>
<p>The Content is provided to you under the terms and conditions of the
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
<p>The Content is
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
apply to your use of any object code in the Content. Check the Redistributor's license that was
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
indicated below, the terms and conditions of the EPL still apply to any source code in the Content
and such source code may be obtained at <a href="http://www.eclipse.org/">http://www.eclipse.org</a>.</p>
</body>
</html>
Copy lines
+2
−3
about.html
5
about.html
Show comments
View file
Edit file
Delete file
@@ -11,13 +11,12 @@ <h2>About Moquette MQT broker</h2>
<p>June 11, 2014</p>
<p>June 11, 2014</p>
<h3>License</h3>
<h3>License</h3>
<p>The Eclipse Foundation makes available all content in this plug-in (&quot;Moquette MQTT&quot;). Unless otherwise
<p>The Content is provided to you under the terms and conditions of the
and 3 deletions.
+2
−3
about.html
5
about.html
Show comments
View file
Edit file
Delete file
@@ -11,13 +11,12 @@ <h2>About Moquette MQT broker</h2>
<p>June 11, 2014</p>
<h3>License</h3>
<p>The Eclipse Foundation makes available all content in this plug-in (&quot;Moquette MQTT&quot;). Unless otherwise
<role>architect</role>
<role>developer</role>
<role>founder</role>
</roles>
<timezone>+1</timezone>
</developer>
</developers>
<contributors>
<contributor>
<name>Steven Warwick</name>
L
Copy path
Cannot retrieve contributors at this time
89 lines (59 sloc)
2.84 KB
Raw
Blame
Moquette Project
Documentation reference guide Guide on how to use and configure Moquette
Google Group Google Group to participate in development discussions.
Moquette aims to be a MQTT compliant broker. The broker supports QoS 0, QoS 1 and QoS 2.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
6ee0137
commit 8ba0b4dfe52dce28a4eb5e362f18afaf850e71d4
Unified
Split
Showing
1 changed file
with
1 addition
and 1 deletion.
+1
−1
README.md
2
README.md
committed
Mar 12, 2018
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
2 parents
2fb475a
+
7267264
commit 4307a9033328966728cf276a2b478d9f10ca2b91
Unified
Split
2
checkstyle.xml
Show comments
View file
Edit file
Delete file
@@ -22,7 +22,7 @@
<!--
<!--
<module name="SuppressionFilter">
<module name="SuppressionFilter">
<property name="file" value="/io/netty/suppressions.xml" />
<property name="file" value="checkstyle-suppressions.xml" />
</module>
</module>
<property name="minimum" value="1"/>
<property name="maximum" value="1"/>
<property name="message" value="missing copyright header"/>
</module>
<!-- Unmaintainable Javadoc tags -->
<module name="RegexpSingleline">
<property name="format" value="(@(author|version)|\(non-Javadoc\))"/>
<property name="ignoreCase" value="true"/>
<property name="message" value="unmaintainable Javadoc tags: @author, @version, or (non-Javadoc)"/>
</module>
<!-- IDE-generated comment -->
<module name="RegexpSingleline">
<property name="format" value="File \| Settings \| File Templates"/>
<property name="message" value="IDE-generated comment"/>
</module>
<!-- Force UNIX line separator
Learn more
Accept
Reject
Save preferences
</module>
<module name="TreeWalker">
<module name="LineLength">
<property name="max" value="120"/>
</module>
<module name="WhitespaceAfter"/>
<module name="WhitespaceAround">
<property name="tokens" value="ASSIGN, BAND, BAND_ASSIGN, BOR, BOR_ASSIGN, BSR, BSR_ASSIGN, BXOR, BXOR_ASSIGN, DIV, DIV_ASSIGN, EQUAL, GE, GT, LAND, LCURLY, LE, LITERAL_ASSERT, LITERAL_CATCH, LITERAL_DO, LITERAL_ELSE, LITERAL_FINALLY, LITERAL_FOR, LITERAL_IF, LITERAL_RETURN, LITERAL_SYNCHRONIZED, LITERAL_TRY, LITERAL_WHILE, LOR, LT, MINUS, MINUS_ASSIGN, MOD, MOD_ASSIGN, NOT_EQUAL, PLUS, PLUS_ASSIGN, RCURLY, SL, SLIST, SL_ASSIGN, SR, SR_ASSIGN, STAR, STAR_ASSIGN, TYPE_EXTENSION_AND"/>
</module>
<!-- Commented out due to false positives.
<module name="MissingDeprecated"/>
-->
<module name="MissingOverride"/>
<module name="PackageAnnotation"/>
<module name="EmptyBlock">
<property name="option" value="text"/>
</suppressions>
2
checkstyle.xml
Show comments
View file
Edit file
Delete file
@@ -22,7 +22,7 @@
<!--
<module name="SuppressionFilter">
<property name="file" value="/io/netty/suppressions.xml" />
<property name="file" value="checkstyle-suppressions.xml" />
</module>
<module name="io.netty.build.checkstyle.SuppressionFilter">
<property name="pattern" value="((LocalTime|WorldClock)Protocol|LinkedTransferQueue|Version|jzlib/.*|chmv8/.*|com/sun/nio/sctp/.*)\.java" />
exit 1;
fi
##########################################################################################
# Extension to allow automatically downloading the maven-wrapper.jar from Maven-central
# This allows using the maven wrapper in projects that prohibit checking in binary data.
##########################################################################################
if [ -r "$BASE_DIR/.mvn/wrapper/maven-wrapper.jar" ]; then
if [ "$MVNW_VERBOSE" = true ]; then
echo "Found .mvn/wrapper/maven-wrapper.jar"
fi
else
if [ "$MVNW_VERBOSE" = true ]; then
echo "Couldn't find .mvn/wrapper/maven-wrapper.jar, downloading it ..."
fi
if [ -n "$MVNW_REPOURL" ]; then
jarUrl="$MVNW_REPOURL/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar"
replaced with your own identifying information. (Don't include
the brackets!) The text should be enclosed in the appropriate
comment syntax for the file format. We also recommend that a
file or class name and description of purpose be included on the
same "printed page" as the copyright notice for easier
identification within third-party archives.
Copyright [yyyy] [name of copyright owner]
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
1
Commits on Oct 1, 2020
Minor, changed header
andsel
committed
Oct 1, 2020
Loading status checks…
b6e5fa7
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
−1
broker/src/test/java/io/moquette/server/ServerIntegrationSSLTest.java
+1
−0
broker/src/test/java/io/moquette/server/ServerIntegrationWebSocketTest.java
+3
−2
broker/src/test/java/io/moquette/server/ServerLowlevelMessagesIntegrationTests.java
+5
−4
broker/src/test/java/io/moquette/spi/ClientSessionTest.java
+17
−15
broker/src/test/java/io/moquette/spi/impl/AbstractProtocolProcessorCommonUtils.java
+2
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/HawtDBStorageServiceTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/MockAuthenticator.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/ProtocolProcessorTest.java
+15
−0
.../src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/SubscriptionsStoreTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ConfigurationParserTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/MQTTWebSocket.java
code form:</span> </p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">a)
it must be made available under this Agreement; and </span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">b) a
copy of this Agreement must be included with each copy of the Program. </span></p>
<p><span style="font-size: 10pt;">Contributors may not remove or alter any
copyright notices contained within the Program. </span></p>
<p><span style="font-size: 10pt;">Each Contributor must identify itself as the
originator of its Contribution, if any, in a manner that reasonably allows
subsequent Recipients to identify the originator of the Contribution. </span></p>
<p><b><span style="font-size: 10pt;">4. COMMERCIAL DISTRIBUTION</span></b> </p>
<p><span style="font-size: 10pt;">Commercial distributors of software may
accept certain responsibilities with respect to end users, business partners
and the like. While this license is intended to facilitate the commercial use
of the Program, the Contributor who includes the Program in a commercial
product offering should do so in a manner which does not create potential
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
<distributionManagement>
<repository>
<id>bintray</id>
</repository>
</distributionManagement>
</project>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
private final SessionsRepository sessionsRepository;
public ConnectionDescriptorStore(ISessionsStore sessionsStore) {
public ConnectionDescriptorStore(SessionsRepository sessionsRepository) {
this.connectionDescriptors = new ConcurrentHashMap<>();
this.sessionsStore = sessionsStore;
this.sessionsRepository = sessionsRepository;
}
public boolean sendMessage(MqttMessage message, Integer messageID, String clientID) {
@@ -124,22 +125,11 @@ public boolean closeConnection(String clientID, boolean closeImmediately) {
}
}
@Override
public MqttSession getSessionStatus(String clientID) {
LOG.info("Retrieving status of session. CId=<{}>", clientID);
ClientSession session = sessionsStore.sessionForClient(clientID);
if (session == null) {
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Accept
Reject
Save preferences
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
indicated below, the Content is provided to you under the terms and conditions of the
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
<p>If you did not receive this Content directly from the Eclipse Foundation, the Content is
<p>The Content is
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
apply to your use of any object code in the Content. Check the Redistributor's license that was
apply to your use of any object code in the Content. Check the Redistributor's license that was
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
indicated below, the Content is provided to you under the terms and conditions of the
<p>The Content is provided to you under the terms and conditions of the
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
<p>If you did not receive this Content directly from the Eclipse Foundation, the Content is
<p>The Content is
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
apply to your use of any object code in the Content. Check the Redistributor's license that was
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
Toggle all file notes
0 comments
on commit 1a6dd8a
Please
sign in to comment.
© 2020 GitHub, Inc.
<url>http://stevenwarwick.com</url>
</contributor>
<contributor>
<name>Igor Yova</name>
<url>https://github.com/Fameing</url>
</contributor>
<contributor>
<name>Luca Capra</name>
<url>https://github.com/muka</url>
</contributor>
<contributor>
<name>Wagner Macedo</name>
<url>https://github.com/wagnerluis1982</url>
</contributor>
<contributor>
<name>Luis Barrios</name>
<url>https://github.com/lbarriosh</url>
Its designed to be evented, uses Netty for the protocol encoding and decoding part.
Embeddable
Freedomotic is an home automation framework and uses Moquette embedded to interface with MQTT by a specific plugin.
Moquette is also used into Atomize Spin a software solution for the logistic field.
Part of moquette are used into the Vertx MQTT module, into MQTT spy
and into WSO2 Messge broker.
Try the demo instance
Point your browser to cloud instance, request an account then use it from your MQTT clients.
1 minute set up
Start play with it, download the self distribution tar from BinTray ,
the un untar and start the broker listening on 1883 port and enjoy!
tar xvf moquette-distribution-0.12.1.tar.gz
cd bin
./moquette.sh
Or if you are on Windows shell
cd bin
.\moquette.bat
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
## What is Moquette?
## Moquette Project
[![Build Status](https://api.travis-ci.org/moquette-io/moquette.svg?branch=master)](https://travis-ci.org/moquette-io/moquette)
[![Build Status](https://api.travis-ci.org/moquette-io/moquette.svg?branch=master)](https://travis-ci.org/moquette-io/moquette)
Toggle all file notes
0 comments
on commit 8ba0b4d
Please
sign in to comment.
© 2020 GitHub, Inc.
Showing
6 changed files
with
30 additions
and 31 deletions.
+4
−7
build.gradle
+8
−7
gradle/lint.gradle
BIN
gradle/wrapper/gradle-wrapper.jar
+1
−2
<module name="io.netty.build.checkstyle.SuppressionFilter">
<module name="io.netty.build.checkstyle.SuppressionFilter">
<property name="pattern" value="((LocalTime|WorldClock)Protocol|LinkedTransferQueue|Version|jzlib/.*|chmv8/.*|com/sun/nio/sctp/.*)\.java" />
<property name="pattern" value="((LocalTime|WorldClock)Protocol|LinkedTransferQueue|Version|jzlib/.*|chmv8/.*|com/sun/nio/sctp/.*)\.java" />
1
pom.xml
Show comments
View file
Edit file
Delete file
@@ -138,6 +138,7 @@
<version>2.17</version>
<version>2.17</version>
<configuration>
<module name="io.netty.build.checkstyle.NewlineCheck"/>
-->
<!-- Trailing whitespace -->
<module name="RegexpSingleline">
<property name="format" value="\s+$"/>
<property name="message" value="trailing whitespace"/>
</module>
<!-- Prohibit consecutive empty lines (except the lines after package/import) -->
<module name="RegexpMultiline">
<property name="message" value="two or more consecutive empty lines"/>
</module>
<module name="RegexpMultiline">
<property name="message" value="an empty line before '}'"/>
</module>
<module name="RegexpMultiline">
<property name="message" value="an empty line after a short line that ends with '{'"/>
</module>
<module name="LeftCurly"/>
<module name="RightCurly"/>
<!--
<module name="NeedBraces"/>
-->
<module name="AvoidNestedBlocks">
<property name="allowInSwitchCase" value="true"/>
</module>
<module name="FinalClass"/>
<module name="HideUtilityClassConstructor"/>
<module name="CovariantEquals"/>
<module name="EmptyStatement"/>
<module name="EqualsHashCode"/>
<!--
<module name="FinalLocalVariable"/>
-->
1
pom.xml
Show comments
View file
Edit file
Delete file
@@ -138,6 +138,7 @@
<version>2.17</version>
<configuration>
<configLocation>checkstyle.xml</configLocation>
<suppressionsLocation>checkstyle-suppressions.xml</suppressionsLocation>
<!--
<configLocation>/google_checks.xml</configLocation>
-->
Toggle all file notes
0 comments
else
jarUrl="https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar"
fi
while IFS="=" read key value; do
case "$key" in (wrapperUrl) jarUrl="$value"; break ;;
esac
done < "$BASE_DIR/.mvn/wrapper/maven-wrapper.properties"
if [ "$MVNW_VERBOSE" = true ]; then
echo "Downloading from: $jarUrl"
fi
wrapperJarPath="$BASE_DIR/.mvn/wrapper/maven-wrapper.jar"
if $cygwin; then
wrapperJarPath=`cygpath --path --windows "$wrapperJarPath"`
fi
Toggle all file notes
0 comments
on commit af8c0e3
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
−1
broker/src/test/java/io/moquette/spi/impl/BrokerInterceptorTest.java
+4
−1
broker/src/test/java/io/moquette/spi/impl/MockAuthenticator.java
+3
−3
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessorTest.java
+4
−3
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessor_CONNECT_Test.java
+2
−2
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessor_VariousUseCases_Test.java
+5
+15
−1
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationFuseTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationPahoTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationQoSValidationTest.java
+15
−3
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationSSLTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationWebSocketTest.java
+15
liability for other Contributors. Therefore, if a Contributor includes the
Program in a commercial product offering, such Contributor ("Commercial
Contributor") hereby agrees to defend and indemnify every other
Contributor ("Indemnified Contributor") against any losses, damages and
costs (collectively "Losses") arising from claims, lawsuits and other
legal actions brought by a third party against the Indemnified Contributor to
the extent caused by the acts or omissions of such Commercial Contributor in
connection with its distribution of the Program in a commercial product
offering. The obligations in this section do not apply to any claims or Losses
relating to any actual or alleged intellectual property infringement. In order
to qualify, an Indemnified Contributor must: a) promptly notify the Commercial
Contributor in writing of such claim, and b) allow the Commercial Contributor
to control, and cooperate with the Commercial Contributor in, the defense and
any related settlement negotiations. The Indemnified Contributor may participate
in any such claim at its own expense.</span> </p>
<p><span style="font-size: 10pt;">For example, a Contributor might include the
Program in a commercial product offering, Product X. That Contributor is then a
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
LOG.error("MQTT client ID doesn't have an associated session. CId=<{}>", clientID);
return null;
}
return buildMqttSession(session);
}
@Override
public Collection<MqttSession> getSessions() {
LOG.info("Retrieving status of all sessions.");
Collection<MqttSession> result = new ArrayList<>();
for (ClientSession session : sessionsStore.getAllSessions()) {
for (ClientSession session : this.sessionsRepository.getAllSessions()) {
result.add(buildMqttSession(session));
}
return result;
@@ -165,7 +155,7 @@ private MqttSession buildMqttSession(ClientSession session) {
result.setConnectionEstablished(false);
}
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Toggle all file notes
0 comments
on commit 1a6dd8a
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
</contributor>
<contributor>
<name>Christophe Mourette</name>
<url>https://github.com/mackristof</url>
</contributor>
<contributor>
<name>Victor Kazakov</name>
<url>https://github.com/kazvictor</url>
</contributor>
<contributor>
<name>Neeme Praks</name>
<url>https://github.com/nemecec</url>
</contributor>
<contributor>
<name>Kevin Berendsen</name>
<url>https://github.com/kevto</url>
</contributor>
Embedding in other projects
To embed Moquette in another maven project is sufficient to include a repository and declare the dependency:
<repositories>
<repository>
<id>bintray</id>
<url>https://jcenter.bintray.com</url>
<releases>
<enabled>true</enabled>
</releases>
<snapshots>
<enabled>false</enabled>
</snapshots>
</repository>
</repositories>
Include dependency in your project:
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
gradle/wrapper/gradle-wrapper.properties
+17
−9
gradlew
+0
−6
gradlew.bat
11
build.gradle
Show comments
View file
Edit file
Delete file
@@ -12,7 +12,8 @@ buildscript {
}
}
dependencies {
<configuration>
<configLocation>checkstyle.xml</configLocation>
<configLocation>checkstyle.xml</configLocation>
<suppressionsLocation>checkstyle-suppressions.xml</suppressionsLocation>
<!--
<!--
<configLocation>/google_checks.xml</configLocation>
<configLocation>/google_checks.xml</configLocation>
-->
-->
Toggle all file notes
0 comments
on commit e2aa30d
Please
</module>
<module name="TreeWalker">
<module name="LineLength">
<property name="max" value="120"/>
</module>
<module name="WhitespaceAfter"/>
<module name="WhitespaceAround">
<property name="tokens" value="ASSIGN, BAND, BAND_ASSIGN, BOR, BOR_ASSIGN, BSR, BSR_ASSIGN, BXOR, BXOR_ASSIGN, DIV, DIV_ASSIGN, EQUAL, GE, GT, LAND, LCURLY, LE, LITERAL_ASSERT, LITERAL_CATCH, LITERAL_DO, LITERAL_ELSE, LITERAL_FINALLY, LITERAL_FOR, LITERAL_IF, LITERAL_RETURN, LITERAL_SYNCHRONIZED, LITERAL_TRY, LITERAL_WHILE, LOR, LT, MINUS, MINUS_ASSIGN, MOD, MOD_ASSIGN, NOT_EQUAL, PLUS, PLUS_ASSIGN, RCURLY, SL, SLIST, SL_ASSIGN, SR, SR_ASSIGN, STAR, STAR_ASSIGN, TYPE_EXTENSION_AND"/>
</module>
<!-- Commented out due to false positives.
<module name="MissingDeprecated"/>
-->
<module name="MissingOverride"/>
<module name="PackageAnnotation"/>
<module name="EmptyBlock">
<property name="option" value="text"/>
</module>
<!-- Commented out due to http://jira.codehaus.org/browse/MCHECKSTYLE-111
<module name="RedundantThrows">
<property name="logLoadErrors" value="false"/>
<property name="suppressLoadErrors" value="true"/>
</module>
-->
<module name="SimplifyBooleanExpression"/>
<module name="SimplifyBooleanReturn"/>
<module name="SuperFinalize"/>
<module name="PackageDeclaration"/>
<module name="ExplicitInitialization"/>
<module name="DefaultComesLast"/>
<module name="UnnecessaryParentheses"/>
<!--
<module name="AvoidStarImport">
<property name="allowStaticMemberImports" value="true"/>
</module>
on commit e2aa30d
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
if command -v wget > /dev/null; then
if [ "$MVNW_VERBOSE" = true ]; then
echo "Found wget ... using wget"
fi
if [ -z "$MVNW_USERNAME" ] || [ -z "$MVNW_PASSWORD" ]; then
wget "$jarUrl" -O "$wrapperJarPath"
else
wget --http-user=$MVNW_USERNAME --http-password=$MVNW_PASSWORD "$jarUrl" -O "$wrapperJarPath"
fi
elif command -v curl > /dev/null; then
if [ "$MVNW_VERBOSE" = true ]; then
echo "Found curl ... using curl"
fi
if [ -z "$MVNW_USERNAME" ] || [ -z "$MVNW_PASSWORD" ]; then
curl -o "$wrapperJarPath" "$jarUrl" -f
else
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
−3
broker/src/test/java/io/moquette/spi/impl/security/DBAuthenticatorTest.java
+5
−3
broker/src/test/java/io/moquette/spi/impl/security/FileAuthenticatorTest.java
+5
−4
broker/src/test/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectoryMatchingTest.java
+7
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerLowlevelMessagesIntegrationTests.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerRestartIntegrationTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/TestCallback.java
+15
−0
Commercial Contributor. If that Commercial Contributor then makes performance
claims, or offers warranties related to Product X, those performance claims and
warranties are such Commercial Contributor's responsibility alone. Under this
section, the Commercial Contributor would have to defend claims against the
other Contributors related to those performance claims and warranties, and if a
court requires any other Contributor to pay any damages as a result, the
Commercial Contributor must pay those damages.</span> </p>
<p><b><span style="font-size: 10pt;">5. NO WARRANTY</span></b> </p>
<p><span style="font-size: 10pt;">EXCEPT AS EXPRESSLY SET FORTH IN THIS
AGREEMENT, THE PROGRAM IS PROVIDED ON AN "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED INCLUDING,
WITHOUT LIMITATION, ANY WARRANTIES OR CONDITIONS OF TITLE, NON-INFRINGEMENT,
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. Each Recipient is solely
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
result.setPendingPublishMessagesNo(session.getPendingPublishMessagesNo());
result.setSecondPhaseAckPendingMessages(session.getSecondPhaseAckPendingMessages());
result.setSecondPhaseAckPendingMessages(session.countPubReleaseWaitingPubComplete());
result.setInflightMessages(session.getInflightMessagesNo());
return result;
}
2
broker/src/main/java/io/moquette/server/Constants.java
Show comments
View file
Edit file
Delete file
@@ -22,7 +22,7 @@
public final class Constants {
public static final String ATTR_CLIENTID = "ClientID";
public static final String CLEAN_SESSION = "cleanSession";
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<contributor>
<name>Chris Schaefer</name>
<url>https://github.com/windbender</url>
</contributor>
<contributor>
<name>Keith Hughes</name>
<url>http://www.inhabitech.com/blog/author/keith/</url>
</contributor>
</contributors>
<scm>
<connection>scm:git:git@github.com:andsel/moquette.git</connection>
<developerConnection>scm:git:git@github.com:andsel/moquette.git</developerConnection>
<url>git@github.com:andsel/moquette.git</url>
</scm>
<modules>
<module>netty_parser</module>
<module>broker</module>
<version>0.12.1</version>
</dependency>
Build from sources
After a git clone of the repository, cd into the cloned sources and: ./gradlew clean moquette-distribution:distMoquetteTar or
./gradlew clean moquette-distribution:distMoquetteZip.
In distribution/build directory will be produced the selfcontained file for the broker with all dependencies and a running script.
If you like Moquette you can support us by donating.
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
classpath 'net.ltgt.gradle:gradle-errorprone-plugin:0.0.8'
classpath 'net.ltgt.gradle:gradle-errorprone-plugin:0.0.13'
classpath 'gradle.plugin.com.github.spotbugs:gradlePlugin:1.6.0'
classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'
classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7.3'
}
@@ -25,18 +26,14 @@ subprojects {
}
apply from: new File(rootDir, 'gradle/java.gradle')
apply from: new File(rootDir, 'gradle/test.gradle')
apply from: new File(rootDir, 'gradle/lint.gradle')
apply plugin: 'com.jfrog.bintray'
apply plugin: 'eclipse'
apply plugin: 'net.ltgt.errorprone'
configurations.errorprone {
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
<module name="LeftCurly"/>
<module name="RightCurly"/>
<module name="NeedBraces"/>
<module name="AvoidNestedBlocks">
<property name="allowInSwitchCase" value="true"/>
</module>
<module name="FinalClass"/>
<module name="HideUtilityClassConstructor"/>
<module name="CovariantEquals"/>
<module name="EmptyStatement"/>
<module name="EqualsHashCode"/>
<!--
<module name="FinalLocalVariable"/>
-->
<!-- Commented out due to http://jira.codehaus.org/browse/MCHECKSTYLE-111
<module name="RedundantThrows">
<property name="logLoadErrors" value="false"/>
-->
<module name="RedundantImport"/>
<!-- Commented out due to false positives.
<module name="UnusedImports">
<property name="processJavadoc" value="true"/>
</module>
-->
<module name="JavadocStyle">
<property name="checkFirstSentence" value="false"/>
</module>
<module name="UpperEll"/>
<module name="ArrayTypeStyle"/>
<module name="OuterTypeFilename"/>
<module name="ModifierOrder"/>
<module name="RedundantModifier"/>
<module name="GenericWhitespace"/>
<module name="EmptyForInitializerPad"/>
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
curl --user $MVNW_USERNAME:$MVNW_PASSWORD -o "$wrapperJarPath" "$jarUrl" -f
fi
else
if [ "$MVNW_VERBOSE" = true ]; then
echo "Falling back to using Java to download"
fi
javaClass="$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.java"
# For Cygwin, switch paths to Windows format before running javac
if $cygwin; then
javaClass=`cygpath --path --windows "$javaClass"`
fi
if [ -e "$javaClass" ]; then
if [ ! -e "$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class" ]; then
if [ "$MVNW_VERBOSE" = true ]; then
echo " - Compiling MavenWrapperDownloader.java ..."
fi
# Compiling the Java class
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more
Accept
Reject
Save preferences
−14
broker/src/test/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectoryTest.java
+0
−1
broker/src/test/java/io/moquette/spi/impl/subscriptions/TopicTest.java
+8
−2
broker/src/test/java/io/moquette/testclient/Client.java
+4
−2
broker/src/test/java/io/moquette/testclient/ClientNettyMQTTHandler.java
+8
−6
broker/src/test/java/io/moquette/testclient/RawClient.java
+2
−2
broker/src/test/java/org/dna/mqtt/moquette/testclient/Client.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/testclient/ClientNettyMQTTHandler.java
+15
−0
bundle/src/main/java/org/dna/mqtt/moquette/bundle/Activator.java
+576
−0
license-eplv10-aslv20.html
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/ConnAckEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/ConnectDecoder.java
responsible for determining the appropriateness of using and distributing the
Program and assumes all risks associated with its exercise of rights under this
Agreement , including but not limited to the risks and costs of program errors,
compliance with applicable laws, damage to or loss of data, programs or
equipment, and unavailability or interruption of operations. </span></p>
<p><b><span style="font-size: 10pt;">6. DISCLAIMER OF LIABILITY</span></b> </p>
<p><span style="font-size: 10pt;">EXCEPT AS EXPRESSLY SET FORTH IN THIS
AGREEMENT, NEITHER RECIPIENT NOR ANY CONTRIBUTORS SHALL HAVE ANY LIABILITY FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING WITHOUT LIMITATION LOST PROFITS), HOWEVER CAUSED AND ON ANY THEORY
OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OR DISTRIBUTION OF
THE PROGRAM OR THE EXERCISE OF ANY RIGHTS GRANTED HEREUNDER, EVEN IF ADVISED OF
THE POSSIBILITY OF SUCH DAMAGES.</span> </p>
<p><b><span style="font-size: 10pt;">7. GENERAL</span></b> </p>
<p><span style="font-size: 10pt;">If any provision of this Agreement is invalid
public static final String CLEAN_SESSION = "removeTemporaryQoS2";
public static final String KEEP_ALIVE = "keepAlive";
public static final int MAX_MESSAGE_QUEUE = 1024; // number of messages
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 1b272e5
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
moquette/about.html at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
<module>distribution</module>
<module>embedding_moquette</module>
<module>osgi_test</module>
<module>perf</module>
</modules>
<reporting>
<plugins>
<plugin>
<groupId>org.codehaus.mojo</groupId>
<artifactId>cobertura-maven-plugin</artifactId>
<version>2.6</version>
</plugin>
</plugins>
</reporting>
<build>
<plugins>
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Join GitHub · GitHub
resolutionStrategy.force 'com.google.errorprone:error_prone_core:2.0.14'
}
ext {
nettyVersion = '4.1.12.Final'
@@ -85,5 +82,5 @@ subprojects {
}
task wrapper(type: Wrapper) {
gradleVersion = '3.3'
gradleVersion = '4.6'
}
15
gradle/lint.gradle
Show comments
View file
Edit file
Delete file
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
<property name="suppressLoadErrors" value="true"/>
</module>
-->
<module name="SimplifyBooleanExpression"/>
<module name="SimplifyBooleanReturn"/>
<module name="SuperFinalize"/>
<module name="PackageDeclaration"/>
<module name="ExplicitInitialization"/>
<module name="DefaultComesLast"/>
<module name="UnnecessaryParentheses"/>
<module name="AvoidStarImport">
<property name="allowStaticMemberImports" value="true"/>
</module>
<module name="RedundantImport"/>
<!-- Commented out due to false positives.
<module name="EmptyForIteratorPad"/>
<module name="MethodParamPad"/>
<module name="ParenPad"/>
<module name="TypecastParenPad"/>
<module name="ParameterName">
<property name="format" value="^(?!arg[0-9])[_a-z][_a-zA-Z0-9]*$" />
</module>
</module>
</module>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Sign in to GitHub · GitHub
Save preferences
("$JAVA_HOME/bin/javac" "$javaClass")
fi
if [ -e "$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class" ]; then
# Running the downloader
if [ "$MVNW_VERBOSE" = true ]; then
echo " - Running MavenWrapperDownloader.java ..."
fi
("$JAVA_HOME/bin/java" -cp .mvn/wrapper MavenWrapperDownloader "$MAVEN_PROJECTBASEDIR")
fi
fi
fi
fi
##########################################################################################
# End of extension
##########################################################################################
checkstyle.xml
+9
−11
distribution/build.gradle
+5
−3
embedding_moquette/src/main/java/io/moquette/testembedded/EmbeddedLauncher.java
+15
−0
h2_storage/src/main/java/io/moquette/persistence/h2/H2PersistentQueue.java
+6
−10
h2_storage/src/main/java/io/moquette/persistence/h2/H2PersistentStore.java
+17
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/ConnectEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DemuxDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DemuxEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DisconnectDecoder.java
+15
−0
or unenforceable under applicable law, it shall not affect the validity or
enforceability of the remainder of the terms of this Agreement, and without
further action by the parties hereto, such provision shall be reformed to the
minimum extent necessary to make such provision valid and enforceable.</span> </p>
<p><span style="font-size: 10pt;">If Recipient institutes patent litigation
against any entity (including a cross-claim or counterclaim in a lawsuit)
alleging that the Program itself (excluding combinations of the Program with
other software or hardware) infringes such Recipient's patent(s), then such
Recipient's rights granted under Section 2(b) shall terminate as of the date
such litigation is filed. </span></p>
<p><span style="font-size: 10pt;">All Recipient's rights under this Agreement
shall terminate if it fails to comply with any of the material terms or
conditions of this Agreement and does not cure such failure in a reasonable
period of time after becoming aware of such noncompliance. If all Recipient's
rights under this Agreement terminate, Recipient agrees to cease use and
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Minor, changed header (#536) · moquette-io/moquette@8ba0b4d · GitHub
moquette/ISubscriptionsStore.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-compiler-plugin</artifactId>
<configuration>
</configuration>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-checkstyle-plugin</artifactId>
<version>2.17</version>
<configuration>
<configLocation>checkstyle.xml</configLocation>
<suppressionsLocation>checkstyle-suppressions.xml</suppressionsLocation>
<!--
<configLocation>/google_checks.xml</configLocation>
-->
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
moquette/DurableSession.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
@@ -1,5 +1,10 @@
apply plugin: 'checkstyle'
apply plugin: 'findbugs'
apply plugin: 'com.github.spotbugs'
apply plugin: 'net.ltgt.errorprone'
dependencies {
errorprone "com.google.errorprone:error_prone_core:2.2.0"
}
checkstyle {
configProperties.checkstyleConfigDir = "."
@@ -8,12 +13,8 @@ checkstyle {
toolVersion = '6.7'
}
findbugs {
toolVersion = '3.0.1'
spotbugs {
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<module name="UnusedImports">
<property name="processJavadoc" value="true"/>
</module>
-->
<module name="JavadocStyle">
<property name="checkFirstSentence" value="false"/>
</module>
<module name="UpperEll"/>
<module name="ArrayTypeStyle"/>
<module name="OuterTypeFilename"/>
<module name="ModifierOrder"/>
<module name="RedundantModifier"/>
<module name="GenericWhitespace"/>
<module name="EmptyForInitializerPad"/>
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
broker/pom: code formatter used · moquette-io/moquette@99fea68 · GitHub
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
if [ "$MVNW_VERBOSE" = true ]; then
echo $MAVEN_PROJECTBASEDIR
fi
MAVEN_OPTS="$(concat_lines "$MAVEN_PROJECTBASEDIR/.mvn/jvm.config") $MAVEN_OPTS"
# For Cygwin, switch paths to Windows format before running java
if $cygwin; then
[ -n "$M2_HOME" ] &&
M2_HOME=`cygpath --path --windows "$M2_HOME"`
[ -n "$JAVA_HOME" ] &&
JAVA_HOME=`cygpath --path --windows "$JAVA_HOME"`
[ -n "$CLASSPATH" ] &&
CLASSPATH=`cygpath --path --windows "$CLASSPATH"`
[ -n "$MAVEN_PROJECTBASEDIR" ] &&
MAVEN_PROJECTBASEDIR=`cygpath --path --windows "$MAVEN_PROJECTBASEDIR"`
fi
−11
h2_storage/src/main/java/io/moquette/persistence/h2/H2SessionsStore.java
+17
−2
h2_storage/src/test/java/io/moquette/persistence/h2/H2PersistentQueueTest.java
+2
−1
h2_storage/src/test/java/io/moquette/persistence/h2/H2SessionsStoreTest.java
+1
−1
mapdb_storage/src/main/java/io/moquette/persistence/mapdb/MapDBMessagesStore.java
+1
−0
mapdb_storage/src/main/java/io/moquette/persistence/mapdb/MapDBPersistentStore.java
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DisconnectEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/MQTTDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/MQTTEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/MessageIDDecoder.java
+15
−1
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingReqDecoder.java
distribution of the Program as soon as reasonably practicable. However,
Recipient's obligations under this Agreement and any licenses granted by
Recipient relating to the Program shall continue and survive. </span></p>
<p><span style="font-size: 10pt;">Everyone is permitted to copy and distribute
copies of this Agreement, but in order to avoid inconsistency the Agreement is
copyrighted and may only be modified in the following manner. The Agreement
Steward reserves the right to publish new versions (including revisions) of
this Agreement from time to time. No one other than the Agreement Steward has
the right to modify this Agreement. The Eclipse Foundation is the initial
Agreement Steward. The Eclipse Foundation may assign the responsibility to
serve as the Agreement Steward to a suitable separate entity. Each new version
of the Agreement will be given a distinguishing version number. The Program
(including Contributions) may always be distributed subject to the version of
the Agreement under which it was received. In addition, after a new version of
the Agreement is published, Contributor may elect to distribute the Program
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
moquette/MessageMetricsHandler.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
moquette/MQTTMessageLogger.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
moquette/BytesMetricsHandler.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
Avoid slow responses due to missed queue drain after a client sent ou… · moquette-io/moquette@6ee0137 · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
<consoleOutput>true</consoleOutput>
</configuration>
<executions>
<execution>
<phase>validate</phase>
<goals>
<goal>check</goal>
</goals>
</execution>
</executions>
</plugin>
</plugins>
</build>
<profiles>
<profile>
<id>release-sign-artifacts</id>
<build>
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
toolVersion = '3.1.1'
ignoreFailures true
omitVisitors = ['RuntimeExceptionCapture']
}
tasks.withType(FindBugs) {
maxHeapSize = '2g'
}
BIN
+1005 Bytes
(100%)
gradle/wrapper/gradle-wrapper.jar
Show comments
View file
Edit file
Delete file
Binary file not shown.
<module name="EmptyForIteratorPad"/>
<module name="MethodParamPad"/>
<module name="ParenPad"/>
<module name="TypecastParenPad"/>
<module name="ParameterName">
<property name="format" value="^(?!arg[0-9])[_a-z][_a-zA-Z0-9]*$" />
</module>
</module>
</module>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
# Provide a "standardized" way to retrieve the CLI args that will
# work with both Windows and non-Windows executions.
MAVEN_CMD_LINE_ARGS="$MAVEN_CONFIG $@"
export MAVEN_CMD_LINE_ARGS
WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain
exec "$JAVACMD" \
$MAVEN_OPTS \
-classpath "$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar" \
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
+8
−6
mapdb_storage/src/main/java/io/moquette/persistence/mapdb/MapDBSessionsStore.java
+3
−1
mapdb_storage/src/test/java/io/moquette/persistence/mapdb/MapDBPersistentStoreTest.java
+2
−1
mapdb_storage/src/test/java/io/moquette/persistence/mapdb/MapDBSessionsStoreTest.java
+17
−6
perf/src/main/java/io/moquette/parser/netty/performance/BenchmarkPublisher.java
+14
−1
+15
−1
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingReqEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingRespDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingRespEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubAckDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubAckEncoder.java
(including its Contributions) under the new version. Except as expressly stated
in Sections 2(a) and 2(b) above, Recipient receives no rights or licenses to
the intellectual property of any Contributor under this Agreement, whether
expressly, by implication, estoppel or otherwise. All rights in the Program not
expressly granted under this Agreement are reserved.</span> </p>
<p><span style="font-size: 10pt;">This Agreement is governed by the laws of the
State of New York and the intellectual property laws of the United States of
America. No party to this Agreement will bring a legal action under this
Agreement more than one year after the cause of action arose. Each party waives
its rights to a jury trial in any resulting litigation.</span> </p>
<p class="MsoNormal"><!--[if !supportEmptyParas]-->&nbsp;<!--[endif]--><o:p></o:p></p>
</div>
<div class="Section2">
<p style="text-align: center;" align="center"><b>Apache License</b></br>
Version 2.0, January 2004<br/>
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
moquette/NettyMQTTHandler.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
moquette/MoquetteIdleTimeoutHandler.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
moquette/FileResourceLoader.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
<plugins>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-source-plugin</artifactId>
<executions>
<execution>
<id>attach-sources</id>
<goals>
<goal>jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
3
gradle/wrapper/gradle-wrapper.properties
Show comments
View file
Edit file
Delete file
@@ -1,6 +1,5 @@
#Thu Aug 10 18:13:58 CEST 2017
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-4.6-bin.zip
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-3.3-bin.zip
26
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Reject
Save preferences
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Learn more
Accept
Reject
Save preferences
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
perf/src/main/java/io/moquette/parser/netty/performance/BenchmarkSubscriber.java
+9
−8
perf/src/main/java/io/moquette/parser/netty/performance/LoopMQTTHandler.java
+6
−3
perf/src/main/java/io/moquette/parser/netty/performance/NettyPublishReceiverHandler.java
+10
−5
perf/src/main/java/io/moquette/parser/netty/performance/ProtocolDecodingServer.java
+8
−3
perf/src/main/java/io/moquette/parser/netty/performance/ProtocolPublishDecodingServer.java
+10
−4
perf/src/main/java/io/moquette/parser/netty/performance/PublishBomber.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubCompDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubCompEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRecDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRecEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRelDecoder.java
+15
http://www.apache.org/licenses/<br/>
</p>
<p><span style="font-size: 10pt;">TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION</spam></p>
<p><b><span style="font-size: 10pt;">1. Definitions.</span></b> </p>
<p><span style="font-size: 10pt;">
"License" shall mean the terms and conditions for use, reproduction,
and distribution as defined by Sections 1 through 9 of this document.</span></p>
<p><span style="font-size: 10pt;">
"Licensor" shall mean the copyright owner or entity authorized by
the copyright owner that is granting the License.</span></p>
<p><span style="font-size: 10pt;">
"Legal Entity" shall mean the union of the acting entity and all
other entities that control, are controlled by, or are under common
control with that entity. For the purposes of this definition,
"control" means (i) the power, direct or indirect, to cause the
direction or management of such entity, whether by contract or
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
moquette/ConfigurationParser.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
moquette/README.md at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
Join GitHub · GitHub
moquette/ClasspathResourceLoader.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
moquette/NettyAcceptor.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
<artifactId>maven-javadoc-plugin</artifactId>
<executions>
<execution>
<id>attach-javadocs</id>
<goals>
<goal>jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-gpg-plugin</artifactId>
<executions>
<execution>
<id>sign-artifacts</id>
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
gradlew
Show comments
View file
Edit file
Delete file
@@ -1,4 +1,4 @@
#!/usr/bin/env bash
#!/usr/bin/env sh
##############################################################################
##
@@ -33,11 +33,11 @@ DEFAULT_JVM_OPTS=""
# Use the maximum available, or set MAX_FD != -1 to use that value.
MAX_FD="maximum"
warn ( ) {
warn () {
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
+4
−3
perf/src/main/java/io/moquette/parser/netty/performance/PublishReceiverHandler.java
+1
−2
tools_scripts/integration/bunch_publish_issue12.groovy
4
broker/src/main/java/io/moquette/interception/HazelcastInterceptHandler.java
Show comments
View file
Edit file
Delete file
@@ -24,6 +24,7 @@
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRelEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PublishDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PublishEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubAckDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubAckEncoder.java
+15
−0
otherwise, or (ii) ownership of fifty percent (50%) or more of the
outstanding shares, or (iii) beneficial ownership of such entity.</span></p>
<p><span style="font-size: 10pt;">
"You" (or "Your") shall mean an individual or Legal Entity
exercising permissions granted by this License.</span></p>
<p><span style="font-size: 10pt;">
"Source" form shall mean the preferred form for making modifications,
including but not limited to software source code, documentation
source, and configuration files.</span></p>
<p><span style="font-size: 10pt;">
"Object" form shall mean any form resulting from mechanical
transformation or translation of a Source form, including but
not limited to compiled object code, generated documentation,
and conversions to other media types.</span></p>
<p><span style="font-size: 10pt;">
"Work" shall mean the work of authorship, whether in Source or
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
moquette/ConnectionDescriptor.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
moquette/MemorySessionStore.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
moquette/MemoryMessagesStore.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
<phase>package</phase>
<goals>
<goal>sign</goal>
</goals>
</execution>
</executions>
</plugin>
</plugins>
</build>
</profile>
</profiles>
<repositories>
<repository>
<id>Paho Releases</id>
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Verify your account
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
The ReadME Project
Pricing
echo "$*"
}
die ( ) {
die () {
echo
echo "$*"
echo
@@ -154,11 +154,19 @@ if $cygwin ; then
esac
fi
# Split up the JVM_OPTS And GRADLE_OPTS values into an array, following the shell quoting and substitution rules
JVM_OPTS=("$@")
# Escape application args
save () {
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Save preferences
import static io.moquette.spi.impl.Utils.readBytesAndRewind;
import static java.nio.charset.StandardCharsets.UTF_8;
public class HazelcastInterceptHandler extends AbstractInterceptHandler {
@@ -45,7 +46,8 @@ public void onPublish(InterceptPublishMessage msg) {
ByteBuf payload = msg.getPayload();
byte[] payloadContent = readBytesAndRewind(payload);
new String(payloadContent, UTF_8));
ITopic<HazelcastMsg> topic = hz.getTopic("moquette");
HazelcastMsg hazelcastMsg = new HazelcastMsg(msg);
topic.publish(hazelcastMsg);
6
broker/src/main/java/io/moquette/interception/messages/InterceptConnectMessage.java
Show comments
View file
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubscribeDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubscribeEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubAckDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubAckEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeDecoder.java
Object form, made available under the License, as indicated by a
copyright notice that is included in or attached to the work
(an example is provided in the Appendix below).</span></p>
<p><span style="font-size: 10pt;">
"Derivative Works" shall mean any work, whether in Source or Object
form, that is based on (or derived from) the Work and for which the
editorial revisions, annotations, elaborations, or other modifications
represent, as a whole, an original work of authorship. For the purposes
of this License, Derivative Works shall not include works that remain
separable from, or merely link (or bind by name) to the interfaces of,
the Work and Derivative Works thereof.</span></p>
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
moquette/InterceptConnectMessage.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
moquette/HazelcastInterceptHandler.java at 033a428184ce1e8a134fda082c04346ac6858c61 · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Fixed checkStyle and ErrorProne warns · moquette-io/moquette@033a428 · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Fixed checkStyle and ErrorProne warns · moquette-io/moquette@033a428 · GitHub
Sign in to GitHub · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/about.html
Go to file
Go to file
T
</repository>
<repository>
<id>sonatype-snapshots</id>
<snapshots>
<enabled>true</enabled>
</snapshots>
<url>https://oss.sonatype.org/content/repositories/snapshots</url>
</repository>
</repositories>
<distributionManagement>
<repository>
<id>bintray</id>
</repository>
</distributionManagement>
</project>
Copy lines
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Resources
Roadmap
Platform
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Certifications
Status
Contact GitHub
Company
About
for i do printf %s\\n "$i" | sed "s/'/'\\\\''/g;1s/^/'/;\$s/\$/' \\\\/" ; done
echo " "
}
eval splitJvmOpts $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS
APP_ARGS=$(save "$@")
# Collect all arguments for the java command, following the shell quoting and substitution rules
eval set -- $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS "\"-Dorg.gradle.appname=$APP_BASE_NAME\"" -classpath "\"$CLASSPATH\"" org.gradle.wrapper.GradleWrapperMain "$APP_ARGS"
# by default we should be in the correct project dir, but when run from Finder on Mac, the cwd is wrong
if [ "$(uname)" = "Darwin" ] && [ "$HOME" = "$PWD" ]; then
cd "$(dirname "$0")"
fi
exec "$JAVACMD" "$@"
6
gradlew.bat
Show comments
View file
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Edit file
Delete file
@@ -18,6 +18,8 @@
import io.netty.handler.codec.mqtt.MqttConnectMessage;
import java.nio.charset.StandardCharsets;
public class InterceptConnectMessage extends InterceptAbstractMessage {
private final MqttConnectMessage msg;
@@ -72,14 +74,14 @@ public String getUsername() {
}
public byte[] getPassword() {
return msg.payload().password().getBytes();
return msg.payload().password().getBytes(StandardCharsets.UTF_8);
}
public String getWillTopic() {
return msg.payload().willTopic();
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/Utils.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnAckDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnAckEncoderTest.java
+15
−0
<p><span style="font-size: 10pt;">
"Contribution" shall mean any work of authorship, including
the original version of the Work and any modifications or additions
to that Work or Derivative Works thereof, that is intentionally
submitted to Licensor for inclusion in the Work by the copyright owner
or by an individual or Legal Entity authorized to submit on behalf of
the copyright owner. For the purposes of this definition, "submitted"
means any form of electronic, verbal, or written communication sent
to the Licensor or its representatives, including but not limited to
communication on electronic mailing lists, source code control systems,
and issue tracking systems that are managed by, or on behalf of, the
Licensor for the purpose of discussing and improving the Work, but
excluding communication that is conspicuously marked or otherwise
designated in writing by the copyright owner as "Not a Contribution."</span></p>
<p><span style="font-size: 10pt;">
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Minor, changed header (#536)
Loading branch information
andsel
committed
Oct 1, 2020
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Sign in to GitHub · GitHub
moquette/ValueEvent.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
moquette/SimpleMessaging.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Search
All GitHub
↵
Jump to
↵
No suggested jump to results
Search
All GitHub
↵
Jump to
↵
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Go to line
L
Copy path
Cannot retrieve contributors at this time
27 lines (23 sloc)
1.21 KB
Raw
Blame
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>About</title>
</head>
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/spi/DurableSession.java
/
Jump to
Code definitions
Blog
Careers
Press
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Site Map
Edit file
Delete file
@@ -49,7 +49,6 @@ goto fail
@rem Get command-line arguments, handling Windows variants
if not "%OS%" == "Windows_NT" goto win9xME_args
if "%@eval[2+2]" == "4" goto 4NT_args
:win9xME_args
@rem Slurp the command line arguments.
@@ -60,11 +59,6 @@ set _SKIP=2
if "x%~1" == "x" goto execute
set CMD_LINE_ARGS=%*
goto execute
:4NT_args
@rem Get arguments from the 4NT Shell from JP Software
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
broker/pom: code formatter used
Loading branch information
Andreas Mager
}
public byte[] getWillMessage() {
return msg.payload().willMessage().getBytes();
return msg.payload().willMessage().getBytes(StandardCharsets.UTF_8);
}
}
2
broker/src/main/java/io/moquette/persistence/MemoryMessagesStore.java
Show comments
View file
Edit file
Delete file
@@ -41,7 +41,7 @@ public void initStore() {
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnectDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnectEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PubAckDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PubAckEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PublishDecoderTest.java
"Contributor" shall mean Licensor and any individual or Legal Entity
on behalf of whom a Contribution has been received by Licensor and
subsequently incorporated within the Work.</span></p>
<p><b><span style="font-size: 10pt;">2. Grant of Copyright License.</span></b> </p>
<p><span style="font-size: 10pt;">
Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
copyright license to reproduce, prepare Derivative Works of,
publicly display, publicly perform, sublicense, and distribute the
Work and such Derivative Works in Source or Object form.</span></p>
<p><b><span style="font-size: 10pt;">3. Grant of Patent License.</span></b><p>
<p><span style="font-size: 10pt;">
Subject to the terms and conditions of
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
6ee0137
commit 8ba0b4dfe52dce28a4eb5e362f18afaf850e71d4
Unified
Split
Showing
1 changed file
with
1 addition
and 1 deletion.
+1
−1
README.md
2
README.md
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
moquette/ProtocolProcessor.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
moquette/MemoryStorageService.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
moquette/HawtDBStorageService.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
moquette/FileAuthenticator.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
moquette/DebugUtils.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/spi/ISubscriptionsStore.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Search
All GitHub
↵
Jump to
↵
Sign in
Join GitHub
Create your account
GitHub requires JavaScript enabled during sign up, for our signup captcha. Please enable JavaScript during sign up.
Username
Email address
Password
Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter. Learn more.
Email preferences
Send me occasional product updates, announcements, and offers.
Verify your account
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Avoid slow responses due to missed queue drain after a client sent ou…
…t all its messages
Loading branch information
andsel
committed
Oct 1, 2019
1 parent
fc1b603
<body lang="EN-US">
<h2>About Moquette MQT broker</h2>
<p>June 11, 2014</p>
<h3>License</h3>
<p>The Content is provided to you under the terms and conditions of the
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
<p>The Content is
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
apply to your use of any object code in the Content. Check the Redistributor's license that was
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
indicated below, the terms and conditions of the EPL still apply to any source code in the Content
and such source code may be obtained at <a href="http://www.eclipse.org/">http://www.eclipse.org</a>.</p>
</body>
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
213 lines (182 sloc)
7.61 KB
Raw
Blame
/*
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
set CMD_LINE_ARGS=%$
:execute
@rem Setup the command line
Toggle all file notes
0 comments
on commit 4307a90
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
committed
Feb 1, 2017
1 parent
682e905
commit 99fea68bb8e518c8d6284de7447d71efd3eb70a7
Unified
Split
Showing
1 changed file
with
25 additions
and 25 deletions.
+25
−25
broker/pom.xml
50
broker/pom.xml
public void storeRetained(Topic topic, StoredMessage storedMessage) {
if (storedMessage.getClientID() == null) {
throw new IllegalArgumentException( "Message to be persisted must have a not null client ID");
throw new IllegalArgumentException("Message to be persisted must have a not null client ID");
}
m_retainedStore.put(topic, storedMessage);
}
3
broker/src/main/java/io/moquette/persistence/MemorySessionStore.java
Show comments
View file
Edit file
Delete file
@@ -33,7 +33,7 @@
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PublishEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubAckDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubAckEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubscribeDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubscribeEncoderTest.java
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
(except as stated in this section) patent license to make, have made,
use, offer to sell, sell, import, and otherwise transfer the Work,
where such license applies only to those patent claims licensable
by such Contributor that are necessarily infringed by their
Contribution(s) alone or by combination of their Contribution(s)
with the Work to which such Contribution(s) was submitted. If You
institute patent litigation against any entity (including a
cross-claim or counterclaim in a lawsuit) alleging that the Work
or a Contribution incorporated within the Work constitutes direct
or contributory patent infringement, then any patent licenses
granted to You under this License for that Work shall terminate
as of the date such litigation is filed.
</span></p>
<p><b><span style="font-size: 10pt;">
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
## What is Moquette?
## Moquette Project
[![Build Status](https://api.travis-ci.org/moquette-io/moquette.svg?branch=master)](https://travis-ci.org/moquette-io/moquette)
Toggle all file notes
0 comments
on commit 8ba0b4d
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/server/netty/metrics/MessageMetricsHandler.java
/
Jump to
Code definitions
No definitions found in this file.
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
moquette/IStorageService.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
moquette/IPersistentSubscriptionStore.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
moquette/IMessaging.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
R
Copy path
Cannot retrieve contributors at this time
69 lines (59 sloc)
1.94 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Save preferences
Create account
By creating an account, you agree to the
Terms of Service.
For more information about GitHub's privacy practices, see the
GitHub Privacy Statement.
We'll occasionally send you account-related emails.
Product
Features
Security
Team
Enterprise
Customer stories
The ReadME Project
Pricing
Resources
Roadmap
Platform
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/server/netty/metrics/BytesMetricsHandler.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
commit 6ee013747f6bddf4ecf3050e6349b611cfcbbd93
Unified
Split
Showing
4 changed files
with
21 additions
and 2 deletions.
+6
−2
broker/src/main/java/io/moquette/broker/MQTTConnection.java
+6
−0
broker/src/main/java/io/moquette/broker/NewNettyMQTTHandler.java
+5
−0
</html>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.spi;
import io.moquette.spi.impl.subscriptions.Subscription;
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>
<parent>
<relativePath>../</relativePath>
@@ -23,37 +23,37 @@
<artifactId>slf4j-api</artifactId>
<version>1.7.5</version>
</dependency>
private static final Logger LOG = LoggerFactory.getLogger(MemorySessionStore.class);
class Session {
static class Session {
final String clientID;
final Map<Topic, Subscription> subscriptions = new ConcurrentHashMap<>();
boolean cleanSession;
@@ -170,7 +170,6 @@ public Subscription reload(Subscription subcription) {
return subscriptions.get(subcription.getTopicFilter());
}
@Override
public StoredMessage inFlightAck(String clientID, int messageID) {
return getSession(clientID).outboundFlightMessages.remove(messageID);
10
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/TestUtils.java
+15
−1
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeDecoderTest.java
+15
−1
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/UtilsTest.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/commons/Constants.java
4. Redistribution.
</span></b></p>
<p><span style="font-size: 10pt;">You may reproduce and distribute copies of the
Work or Derivative Works thereof in any medium, with or without
modifications, and in Source or Object form, provided that You
meet the following conditions:</span><p>
<ul>
<li><span style="font-size: 10pt;">
(a) You must give any other recipients of the Work or
Derivative Works a copy of this License; and</span><p>
</li>
<li><span style="font-size: 10pt;">
(b) You must cause any modified files to carry prominent notices
stating that You changed the files; and</span><p>
</li>
</li><span style="font-size: 10pt;">
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
71 lines (58 sloc)
2.51 KB
Raw
Blame
/*
033a428184
moquette/broker/src/main/java/io/moquette/server/netty/metrics/MQTTMessageLogger.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/server/netty/NettyMQTTHandler.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/server/netty/MoquetteIdleTimeoutHandler.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/server/config/FileResourceLoader.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.spi;
import io.moquette.spi.impl.subscriptions.Subscription;
import io.moquette.spi.impl.subscriptions.Topic;
import java.util.Collection;
import java.util.List;
public interface ISubscriptionsStore {
/**
* Add a new subscription to the session
*
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Developer API
Partners
Atom
Electron
GitHub Desktop
Support
Help
Community Forum
Professional Services
Learning Lab
Certifications
Status
Contact GitHub
Company
About
Blog
Careers
Press
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/server/config/ClasspathResourceLoader.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/server/netty/NettyAcceptor.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
72 lines (59 sloc)
2.56 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
broker/src/main/java/io/moquette/broker/PostOffice.java
+4
−0
broker/src/main/java/io/moquette/broker/Session.java
8
broker/src/main/java/io/moquette/broker/MQTTConnection.java
Show comments
View file
Edit file
Delete file
@@ -406,8 +406,7 @@ void sendIfWritableElseDrop(MqttMessage msg) {
ChannelFuture channelFuture;
if (brokerConfig.isImmediateBufferFlush()) {
channelFuture = channel.writeAndFlush(msg);
}
else {
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
import io.moquette.spi.impl.subscriptions.Topic;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.util.Collection;
import java.util.HashSet;
import java.util.Set;
public class DurableSession extends ClientSession {
class OutboundFlightZone {
/**
* Save the binding messageID, clientID - message
*
* @param messageID the packet ID used in transmission
* @param msg the message to put in flight zone
*/
void waitingAck(int messageID, IMessagesStore.StoredMessage msg) {
if (LOG.isTraceEnabled()) {
}
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-common</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-buffer</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-transport</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
broker/src/main/java/io/moquette/server/ConnectionDescriptor.java
Show comments
View file
Edit file
Delete file
@@ -29,6 +29,10 @@
import io.moquette.server.netty.metrics.MessageMetricsHandler;
import io.netty.channel.Channel;
import static io.netty.channel.ChannelFutureListener.CLOSE;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
import static io.netty.channel.ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE;
/**
* Value object to maintain the information of single connection, like ClientID, Channel, and clean
* session flag.
@@ -62,7 +66,7 @@ public ConnectionDescriptor(String clientID, Channel session, boolean cleanSessi
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/MQTTException.java
+15
−4
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/Utils.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/AbstractMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/ConnAckMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/ConnectMessage.java
+15
(c) You must retain, in the Source form of any Derivative Works
that You distribute, all copyright, patent, trademark, and
attribution notices from the Source form of the Work,
excluding those notices that do not pertain to any part of
the Derivative Works; and</span><p>
</li>
<li><span style="font-size: 10pt;">
(d) If the Work includes a "NOTICE" text file as part of its
distribution, then any Derivative Works that You distribute must
include a readable copy of the attribution notices contained
within such NOTICE file, excluding those notices that do not
pertain to any part of the Derivative Works, in at least one
of the following places: within a NOTICE text file distributed
as part of the Derivative Works; within the Source form or
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
106 lines (96 sloc)
3.94 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/server/config/ConfigurationParser.java
/
Jump to
Code definitions
No definitions found in this file.
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/README.md
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
89 lines (59 sloc)
2.84 KB
Raw
Blame
Moquette Project
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/persistence/MemorySessionStore.java
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
123 lines (112 sloc)
4.9 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
54 lines (48 sloc)
2.04 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
Go to definition
R
Copy path
Cannot retrieve contributors at this time
88 lines (72 sloc)
2.54 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* @param newSubscription
* the subscription to add.
*/
void addNewSubscription(Subscription newSubscription);
/**
* Removed a specific subscription
*
* @param topic
* the topic of the subscription.
* @param clientID
* the session client.
*/
void removeSubscription(Topic topic, String clientID);
/**
* Remove all the subscriptions of the session
*
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Social Impact
Shop
Twitter
Facebook
YouTube
LinkedIn
GitHub
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Site Map
What is Git?
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
64 lines (51 sloc)
1.94 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
406 lines (365 sloc)
20.1 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.server.netty.metrics;
import io.netty.buffer.ByteBuf;
import io.netty.channel.Channel;
import io.netty.channel.ChannelDuplexHandler;
import io.netty.channel.ChannelHandlerContext;
} else {
channelFuture = channel.write(msg);
}
channelFuture.addListener(FIRE_EXCEPTION_ON_FAILURE);
@@ -501,4 +500,9 @@ public String toString() {
InetSocketAddress remoteAddress() {
return (InetSocketAddress) channel.remoteAddress();
}
public void readCompleted() {
// TODO drain all messages in target's session in-flight message queue
postOffice.flushInFlight(this);
}
}
6
broker/src/main/java/io/moquette/broker/NewNettyMQTTHandler.java
Show comments
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
sessionsStore.inFlight(clientID, messageID, msg);
}
IMessagesStore.StoredMessage acknowledged(int messageID) {
if (LOG.isTraceEnabled()) {
}
return sessionsStore.inFlightAck(clientID, messageID);
}
}
private static final Logger LOG = LoggerFactory.getLogger(DurableSession.class);
private final ISessionsStore sessionsStore;
private final ISubscriptionsStore subscriptionsStore;
private final OutboundFlightZone outboundFlightZone;
private final InboundFlightZone inboundFlightZone;
public DurableSession(String clientID, ISessionsStore sessions, ISubscriptionsStore subscriptionsStore) {
super(clientID);
this.subscriptionsStore = subscriptionsStore;
this.sessionsStore = sessions;
<artifactId>netty-handler</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-codec</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-codec-http</artifactId>
@@ -71,13 +71,13 @@
<artifactId>commons-codec</artifactId>
<version>1.10</version>
</dependency>
<dependency>
}
public void writeAndFlush(Object payload) {
this.channel.writeAndFlush(payload);
this.channel.writeAndFlush(payload).addListener(FIRE_EXCEPTION_ON_FAILURE);
}
public void setupAutoFlusher(int flushIntervalMs) {
@@ -88,7 +92,7 @@ public boolean close() {
if (!success) {
return false;
}
this.channel.close();
this.channel.close().addListener(CLOSE_ON_FAILURE);
return true;
}
@@ -100,7 +104,7 @@ public void abort() {
LOG.info("Closing connection descriptor. MqttClientId = {}.", clientID);
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/DisconnectMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/MessageIDMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PingReqMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PingRespMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubAckMessage.java
+15
−0
documentation, if provided along with the Derivative Works; or,
within a display generated by the Derivative Works, if and
wherever such third-party notices normally appear. The contents
of the NOTICE file are for informational purposes only and
do not modify the License. You may add Your own attribution
notices within Derivative Works that You distribute, alongside
or as an addendum to the NOTICE text from the Work, provided
that such additional attribution notices cannot be construed
as modifying the License.</span><p>
</li>
</ul>
</span></p>
<p><span style="font-size: 10pt;">
You may add Your own copyright statement to Your modifications and
may provide additional or different license terms and conditions
for use, reproduction, or distribution of Your modifications, or
for any such Derivative Works as a whole, provided Your use,
package io.moquette.server.netty.metrics;
import io.netty.channel.Channel;
import io.netty.channel.ChannelDuplexHandler;
import io.netty.channel.ChannelHandlerContext;
import io.netty.channel.ChannelPromise;
import io.netty.util.Attribute;
import io.netty.util.AttributeKey;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
public class MessageMetricsHandler extends ChannelDuplexHandler {
private static final AttributeKey<MessageMetrics> ATTR_KEY_METRICS = AttributeKey.valueOf("MessageMetrics");
private MessageMetricsCollector m_collector;
public MessageMetricsHandler(MessageMetricsCollector collector) {
m_collector = collector;
}
@Override
public void channelActive(ChannelHandlerContext ctx) throws Exception {
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.server.netty.metrics;
import io.moquette.server.netty.NettyUtils;
import io.netty.channel.ChannelDuplexHandler;
import io.netty.channel.ChannelHandler.Sharable;
import io.netty.channel.ChannelHandlerContext;
import io.netty.channel.ChannelPromise;
import io.netty.handler.codec.mqtt.*;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.util.List;
import static io.moquette.spi.impl.Utils.messageId;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
/**
*
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
121 lines (110 sloc)
3.87 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
Documentation reference guide Guide on how to use and configure Moquette
Google Group Google Group to participate in development discussions.
Moquette aims to be a MQTT compliant broker. The broker supports QoS 0, QoS 1 and QoS 2.
Its designed to be evented, uses Netty for the protocol encoding and decoding part.
Embeddable
Freedomotic is an home automation framework and uses Moquette embedded to interface with MQTT by a specific plugin.
Moquette is also used into Atomize Spin a software solution for the logistic field.
Part of moquette are used into the Vertx MQTT module, into MQTT spy
and into WSO2 Messge broker.
Try the demo instance
Point your browser to cloud instance, request an account then use it from your MQTT clients.
1 minute set up
Start play with it, download the self distribution tar from BinTray ,
the un untar and start the broker listening on 1883 port and enjoy!
tar xvf moquette-distribution-0.12.1.tar.gz
cd bin
./moquette.sh
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/interception/messages/InterceptConnectMessage.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/interception/HazelcastInterceptHandler.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
033a428184
moquette/broker/src/main/java/io/moquette/server/ConnectionDescriptor.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
302 lines (254 sloc)
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Fixed checkStyle and ErrorProne warns
Loading branch information
033a428184
moquette/broker/src/main/java/io/moquette/persistence/MemoryMessagesStore.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
69 lines (55 sloc)
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.server.netty;
import io.moquette.spi.impl.ProtocolProcessor;
import io.netty.channel.ChannelHandler.Sharable;
import io.netty.channel.ChannelHandlerContext;
import io.netty.channel.ChannelInboundHandlerAdapter;
import io.netty.handler.codec.mqtt.*;
import io.netty.util.ReferenceCountUtil;
import org.slf4j.Logger;
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.server.netty;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import io.netty.channel.ChannelDuplexHandler;
import io.netty.channel.ChannelHandler.Sharable;
import io.netty.channel.ChannelHandlerContext;
import io.netty.handler.timeout.IdleState;
import io.netty.handler.timeout.IdleStateEvent;
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.server.config;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.Reader;
import java.nio.file.Files;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
* @param clientID
* the client ID
*/
void wipeSubscriptions(String clientID);
/**
* Return all topic filters to recreate the subscription tree.
*/
List<Subscription> listAllSubscriptions();
/**
* Load from storage all the subscriptions of the specified client.
* */
Collection<Subscription> listClientSubscriptions(String clientID);
/**
* @param subcription
* the subscription to reaload from storage.
* @return the subscription stored by clientID and topicFilter, if any else null;
*/
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Fixed checkStyle and ErrorProne warns
Loading branch information
andsel
committed
Apr 26, 2018
1 parent
1a6dd8a
commit 033a428184ce1e8a134fda082c04346ac6858c61
Unified
Split
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.server.config;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.Reader;
import java.nio.charset.StandardCharsets;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
public class ClasspathResourceLoader implements IResourceLoader {
private static final Logger LOG = LoggerFactory.getLogger(ClasspathResourceLoader.class);
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.server.netty;
import io.moquette.BrokerConstants;
import io.moquette.server.ServerAcceptor;
import io.moquette.server.config.IConfig;
import io.moquette.server.netty.metrics.*;
import io.netty.channel.ChannelPromise;
import io.netty.util.Attribute;
import io.netty.util.AttributeKey;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
public class BytesMetricsHandler extends ChannelDuplexHandler {
private static final AttributeKey<BytesMetrics> ATTR_KEY_METRICS = AttributeKey.valueOf("BytesMetrics");
private BytesMetricsCollector m_collector;
public BytesMetricsHandler(BytesMetricsCollector collector) {
m_collector = collector;
}
@Override
public void channelActive(ChannelHandlerContext ctx) throws Exception {
Attribute<BytesMetrics> attr = ctx.channel().attr(ATTR_KEY_METRICS);
attr.set(new BytesMetrics());
super.channelActive(ctx);
}
@Override
View file
Edit file
Delete file
@@ -70,6 +70,12 @@ public void operationComplete(ChannelFuture future) {
}
}
@Override
public void channelReadComplete(ChannelHandlerContext ctx) throws Exception {
final MQTTConnection mqttConnection = mqttConnection(ctx.channel());
mqttConnection.readCompleted();
}
@Override
public void channelActive(ChannelHandlerContext ctx) {
MQTTConnection connection = connectionFactory.create(ctx.channel());
5
broker/src/main/java/io/moquette/broker/PostOffice.java
this.outboundFlightZone = new OutboundFlightZone();
this.inboundFlightZone = new InboundFlightZone();
}
public void reloadAllSubscriptionsFromStore() {
Collection<Subscription> reloadedSubscriptions = this.subscriptionsStore.listClientSubscriptions(this.clientID);
this.subscriptions.addAll(reloadedSubscriptions);
}
@Override
public boolean isCleanSession() {
return false;
}
@Override
public boolean subscribe(Subscription newSubscription) {
newSubscription.getTopicFilter(), newSubscription.getRequestedQos());
boolean validTopic = newSubscription.getTopicFilter().isValid();
<groupId>org.mapdb</groupId>
<artifactId>mapdb</artifactId>
<!--version>1.1.0-SNAPSHOT</version-->
<!--<version>2.0.0-SNAPSHOT</version>-->
<!--<version>2.0-alpha3</version>-->
<!--version>1.1.0-SNAPSHOT</version -->
<!--<version>2.0.0-SNAPSHOT</version> -->
<!--<version>2.0-alpha3</version> -->
<version>1.0.8</version>
</dependency>
@@ -111,11 +111,11 @@
<!-- needs extra dependencies: objenesis & hamcrest -->
<dependency>
<groupId>org.mockito</groupId>
<artifactId>mockito-core</artifactId>
<version>1.9.0</version>
<artifactId>mockito-core</artifactId>
// try {
// this.channel.disconnect().sync();
this.channel.close(); // .sync();
this.channel.close().addListener(CLOSE_ON_FAILURE); // .sync();
// } catch (InterruptedException e) {
// e.printStackTrace();
// }
4
broker/src/main/java/io/moquette/server/config/ClasspathResourceLoader.java
Show comments
View file
Edit file
Delete file
@@ -19,6 +19,8 @@
import java.io.InputStream;
import java.io.InputStreamReader;
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubCompMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubRecMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubRelMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PublishMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/SubAckMessage.java
+15
−0
reproduction, and distribution of the Work otherwise complies with
the conditions stated in this License.
</span></p>
<p><b><span style="font-size: 10pt;">
5. Submission of Contributions.
</span></b></p>
<p><span style="font-size: 10pt;">Unless You explicitly state otherwise,
any Contribution intentionally submitted for inclusion in the Work
by You to the Licensor shall be under the terms and conditions of
this License, without any additional terms or conditions.
Notwithstanding the above, nothing herein shall supersede or modify
the terms of any separate license agreement you may have executed
with Licensor regarding such Contributions.
</span></p>
<p><b><span style="font-size: 10pt;">
6. Trademarks.
</span></b></p>
Attribute<MessageMetrics> attr = ctx.channel().attr(ATTR_KEY_METRICS);
attr.set(new MessageMetrics());
super.channelActive(ctx);
}
@Override
public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {
MessageMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
metrics.incrementRead(1);
ctx.fireChannelRead(msg);
}
@Override
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
MessageMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
metrics.incrementWrote(1);
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
* @author andrea
*/
@Sharable
public class MQTTMessageLogger extends ChannelDuplexHandler {
private static final Logger LOG = LoggerFactory.getLogger("messageLogger");
@Override
public void channelRead(ChannelHandlerContext ctx, Object message) {
logMQTTMessage(ctx, message, "C->B");
ctx.fireChannelRead(message);
}
private void logMQTTMessage(ChannelHandlerContext ctx, Object message, String direction) {
if (!(message instanceof MqttMessage)) {
return;
}
MqttMessage msg = (MqttMessage) message;
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.server.config;
import org.slf4j.Logger;
Or if you are on Windows shell
cd bin
.\moquette.bat
Embedding in other projects
To embed Moquette in another maven project is sufficient to include a repository and declare the dependency:
<repositories>
<repository>
<id>bintray</id>
<url>https://jcenter.bintray.com</url>
<releases>
<enabled>true</enabled>
</releases>
<snapshots>
<enabled>false</enabled>
</snapshots>
</repository>
</repositories>
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
87 lines (67 sloc)
2.26 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
56 lines (47 sloc)
1.95 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/SimpleMessaging.java
Cannot retrieve contributors at this time
165 lines (143 sloc)
5.66 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
10.2 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
andsel
committed
Apr 26, 2018
1 parent
1a6dd8a
commit 033a428184ce1e8a134fda082c04346ac6858c61
Unified
Split
Showing
81 changed files
with
681 additions
and 425 deletions.
+3
−1
broker/src/main/java/io/moquette/interception/HazelcastInterceptHandler.java
+4
2.18 KB
Raw
Blame
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
import org.slf4j.LoggerFactory;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
import static io.netty.handler.codec.mqtt.MqttQoS.AT_MOST_ONCE;
@Sharable
public class NettyMQTTHandler extends ChannelInboundHandlerAdapter {
private static final Logger LOG = LoggerFactory.getLogger(NettyMQTTHandler.class);
private final ProtocolProcessor m_processor;
public NettyMQTTHandler(ProtocolProcessor processor) {
m_processor = processor;
}
@Override
public void channelRead(ChannelHandlerContext ctx, Object message) {
MqttMessage msg = (MqttMessage) message;
MqttMessageType messageType = msg.fixedHeader().messageType();
LOG.debug("Processing MQTT message, type={}", messageType);
try {
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
@Sharable
class MoquetteIdleTimeoutHandler extends ChannelDuplexHandler {
private static final Logger LOG = LoggerFactory.getLogger(MoquetteIdleTimeoutHandler.class);
@Override
public void userEventTriggered(ChannelHandlerContext ctx, Object evt) throws Exception {
if (evt instanceof IdleStateEvent) {
IdleState e = ((IdleStateEvent) evt).state();
if (e == IdleState.READER_IDLE) {
LOG.info("Firing channel inactive event. MqttClientId = {}.", NettyUtils.clientID(ctx.channel()));
// fire a channelInactive to trigger publish of Will
ctx.fireChannelInactive();
ctx.close().addListener(CLOSE_ON_FAILURE);
}
} else {
import static java.nio.charset.StandardCharsets.UTF_8;
public class FileResourceLoader implements IResourceLoader {
private static final Logger LOG = LoggerFactory.getLogger(FileResourceLoader.class);
private final File defaultFile;
private final String parentPath;
public FileResourceLoader() {
this((File) null);
}
public FileResourceLoader(File defaultFile) {
this(defaultFile, System.getProperty("moquette.path", null));
}
public FileResourceLoader(String parentPath) {
this(null, parentPath);
}
public FileResourceLoader(File defaultFile, String parentPath) {
this.defaultFile = defaultFile;
Subscription reload(Subscription subcription);
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Showing
81 changed files
with
681 additions
and 425 deletions.
+3
−1
broker/src/main/java/io/moquette/interception/HazelcastInterceptHandler.java
+4
−2
broker/src/main/java/io/moquette/interception/messages/InterceptConnectMessage.java
+1
−1
broker/src/main/java/io/moquette/persistence/MemoryMessagesStore.java
private final String defaultResource;
private final ClassLoader classLoader;
public ClasspathResourceLoader() {
this(IConfig.DEFAULT_CONFIG);
}
public ClasspathResourceLoader(String defaultResource) {
this(defaultResource, Thread.currentThread().getContextClassLoader());
}
public ClasspathResourceLoader(String defaultResource, ClassLoader classLoader) {
this.defaultResource = defaultResource;
this.classLoader = classLoader;
}
@Override
public Reader loadDefaultResource() {
return loadResource(defaultResource);
}
import io.moquette.spi.impl.ProtocolProcessor;
import io.moquette.spi.security.ISslContextCreator;
import io.netty.bootstrap.ServerBootstrap;
import io.netty.buffer.ByteBuf;
import io.netty.channel.*;
import io.netty.channel.epoll.EpollEventLoopGroup;
import io.netty.channel.epoll.EpollServerSocketChannel;
import io.netty.channel.nio.NioEventLoopGroup;
import io.netty.channel.socket.ServerSocketChannel;
import io.netty.channel.socket.SocketChannel;
import io.netty.channel.socket.nio.NioServerSocketChannel;
import io.netty.handler.codec.MessageToMessageDecoder;
import io.netty.handler.codec.MessageToMessageEncoder;
import io.netty.handler.codec.http.HttpObjectAggregator;
import io.netty.handler.codec.http.HttpRequestDecoder;
import io.netty.handler.codec.http.HttpResponseEncoder;
import io.netty.handler.codec.http.HttpServerCodec;
public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {
BytesMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
metrics.incrementRead(((ByteBuf) msg).readableBytes());
ctx.fireChannelRead(msg);
}
@Override
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
BytesMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
metrics.incrementWrote(((ByteBuf) msg).writableBytes());
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
@Override
public void close(ChannelHandlerContext ctx, ChannelPromise promise) throws Exception {
BytesMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
m_collector.sumReadBytes(metrics.readBytes());
m_collector.sumWroteBytes(metrics.wroteBytes());
super.close(ctx, promise);
Show comments
View file
Edit file
Delete file
@@ -308,4 +308,9 @@ void dispatchDisconnection(String clientId,String userName){
void dispatchConnectionLost(String clientId,String userName){
interceptor.notifyClientConnectionLost(clientId,userName);
}
void flushInFlight(MQTTConnection mqttConnection) {
Session targetSession = sessionRegistry.retrieve(mqttConnection.getClientId());
targetSession.flushAllQueuedMessages();
}
}
4
broker/src/main/java/io/moquette/broker/Session.java
Show comments
if (!validTopic) {
newSubscription.getTopicFilter());
// send SUBACK with 0x80 for this topic filter
return false;
}
Subscription existingSub = subscriptionsStore.reload(newSubscription);
// update the selected subscriptions if not present or if has a greater qos
if (existingSub == null || existingSub.qosLessThan(newSubscription)) {
if (existingSub != null) {
LOG.info("Subscription already existed with a lower QoS value. It will be updated. CId={}, " +
newSubscription.getTopicFilter(), existingSub.getRequestedQos(), newSubscription.getRequestedQos());
subscriptions.remove(newSubscription);
}
subscriptions.add(newSubscription);
subscriptionsStore.addNewSubscription(newSubscription);
}
return true;
<version>1.9.0</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.fusesource.mqtt-client</groupId>
<artifactId>mqtt-client</artifactId>
@@ -129,7 +129,7 @@
<version>1.0.2</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.eclipse.jetty.websocket</groupId>
<artifactId>websocket-client</artifactId>
@@ -152,7 +152,7 @@
<scope>test</scope>
</dependency>
</dependencies>
import java.io.Reader;
import java.nio.charset.StandardCharsets;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
@@ -51,7 +53,7 @@ public Reader loadDefaultResource() {
public Reader loadResource(String relativePath) {
LOG.info("Loading resource. RelativePath = {}.", relativePath);
InputStream is = this.classLoader.getResourceAsStream(relativePath);
return is != null ? new InputStreamReader(is) : null;
return is != null ? new InputStreamReader(is, StandardCharsets.UTF_8) : null;
}
@Override
13
broker/src/main/java/io/moquette/server/config/ConfigurationParser.java
Show comments
View file
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/SubscribeMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/UnsubAckMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/UnsubscribeMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/ZeroLengthMessage.java
28
about.html
Show comments
View file
Edit file
Delete file
<p><span style="font-size: 10pt;">This License does not grant permission to use the trade
names, trademarks, service marks, or product names of the Licensor,
except as required for reasonable and customary use in describing the
origin of the Work and reproducing the content of the NOTICE file.
</span></p>
<p><b><span style="font-size: 10pt;">
7. Disclaimer of Warranty.
</span></b></p>
<p><span style="font-size: 10pt;">Unless required by applicable law or
agreed to in writing, Licensor provides the Work (and each
Contributor provides its Contributions) on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied, including, without limitation, any warranties or conditions
of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
PARTICULAR PURPOSE. You are solely responsible for determining the
}
@Override
public void close(ChannelHandlerContext ctx, ChannelPromise promise) throws Exception {
MessageMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
m_collector.sumReadMessages(metrics.messagesRead());
m_collector.sumWroteMessages(metrics.messagesWrote());
super.close(ctx, promise);
}
public static MessageMetrics getMessageMetrics(Channel channel) {
return channel.attr(ATTR_KEY_METRICS).get();
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
String clientID = NettyUtils.clientID(ctx.channel());
MqttMessageType messageType = msg.fixedHeader().messageType();
switch (messageType) {
case CONNECT:
case CONNACK:
case PINGREQ:
case PINGRESP:
case DISCONNECT:
break;
case SUBSCRIBE:
MqttSubscribeMessage subscribe = (MqttSubscribeMessage) msg;
subscribe.payload().topicSubscriptions());
break;
case UNSUBSCRIBE:
MqttUnsubscribeMessage unsubscribe = (MqttUnsubscribeMessage) msg;
break;
case PUBLISH:
import org.slf4j.LoggerFactory;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.Reader;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.text.ParseException;
import java.util.Properties;
/**
* Mosquitto configuration parser.
*
* A line that at the very first has # is a comment Each line has key value format, where the
* separator used it the space.
Include dependency in your project:
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
<version>0.12.1</version>
</dependency>
Build from sources
After a git clone of the repository, cd into the cloned sources and: ./gradlew clean moquette-distribution:distMoquetteTar or
./gradlew clean moquette-distribution:distMoquetteZip.
In distribution/build directory will be produced the selfcontained file for the broker with all dependencies and a running script.
If you like Moquette you can support us by donating.
Go
© 2020 GitHub, Inc.
Terms
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.interception;
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ValueEvent.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
44 lines (37 sloc)
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
223 lines (187 sloc)
9.43 KB
Raw
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.server;
import java.util.NoSuchElementException;
import java.util.concurrent.TimeUnit;
import java.util.concurrent.atomic.AtomicReference;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import io.moquette.server.netty.AutoFlushHandler;
import io.moquette.server.netty.NettyUtils;
import io.moquette.server.netty.metrics.BytesMetrics;
import io.moquette.server.netty.metrics.BytesMetricsHandler;
import io.moquette.server.netty.metrics.MessageMetrics;
import io.moquette.server.netty.metrics.MessageMetricsHandler;
import io.netty.channel.Channel;
*/
package io.moquette.persistence;
import io.moquette.server.Constants;
import io.moquette.spi.IMessagesStore.StoredMessage;
import io.moquette.spi.ISessionsStore;
import io.moquette.spi.ISubscriptionsStore;
import io.moquette.spi.impl.subscriptions.Subscription;
import io.moquette.spi.impl.subscriptions.Topic;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.time.LocalDateTime;
import java.util.*;
import java.util.concurrent.*;
public class MemorySessionStore implements ISessionsStore, ISubscriptionsStore {
private static final Logger LOG = LoggerFactory.getLogger(MemorySessionStore.class);
static class Session {
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/MemoryStorageService.java
/
Jump to
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/HawtDBStorageService.java
/
Jump to
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/FileAuthenticator.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/DebugUtils.java
−2
broker/src/main/java/io/moquette/interception/messages/InterceptConnectMessage.java
+1
−1
broker/src/main/java/io/moquette/persistence/MemoryMessagesStore.java
+1
−2
broker/src/main/java/io/moquette/persistence/MemorySessionStore.java
+7
−3
broker/src/main/java/io/moquette/server/ConnectionDescriptor.java
+3
−1
broker/src/main/java/io/moquette/server/config/ClasspathResourceLoader.java
+5
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.persistence;
import io.moquette.spi.IMatchingCondition;
import io.moquette.spi.IMessagesStore;
import io.moquette.spi.impl.subscriptions.Topic;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.util.*;
public class MemoryMessagesStore implements IMessagesStore {
private static final Logger LOG = LoggerFactory.getLogger(MemoryMessagesStore.class);
private Map<Topic, StoredMessage> m_retainedStore = new HashMap<>();
MemoryMessagesStore() {
}
@Override
switch (messageType) {
case CONNECT:
m_processor.processConnect(ctx.channel(), (MqttConnectMessage) msg);
break;
case SUBSCRIBE:
m_processor.processSubscribe(ctx.channel(), (MqttSubscribeMessage) msg);
break;
case UNSUBSCRIBE:
m_processor.processUnsubscribe(ctx.channel(), (MqttUnsubscribeMessage) msg);
break;
case PUBLISH:
m_processor.processPublish(ctx.channel(), (MqttPublishMessage) msg);
break;
case PUBREC:
m_processor.processPubRec(ctx.channel(), msg);
break;
if (LOG.isDebugEnabled()) {
LOG.debug(
NettyUtils.clientID(ctx.channel()),
evt.getClass().getName());
}
super.userEventTriggered(ctx, evt);
}
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
this.parentPath = parentPath;
}
@Override
public Reader loadDefaultResource() {
if (defaultFile != null) {
return loadResource(defaultFile);
} else {
throw new IllegalArgumentException("Default file not set!");
}
}
@Override
public Reader loadResource(String relativePath) {
return loadResource(new File(parentPath, relativePath));
}
public Reader loadResource(File f) {
LOG.info("Loading file. Path = {}.", f.getAbsolutePath());
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
+1
−2
broker/src/main/java/io/moquette/persistence/MemorySessionStore.java
+7
−3
broker/src/main/java/io/moquette/server/ConnectionDescriptor.java
+3
−1
broker/src/main/java/io/moquette/server/config/ClasspathResourceLoader.java
+5
−8
broker/src/main/java/io/moquette/server/config/ConfigurationParser.java
+7
−2
broker/src/main/java/io/moquette/server/config/FileResourceLoader.java
+3
@Override
public Reader loadResource(String relativePath) {
LOG.info("Loading resource. RelativePath = {}.", relativePath);
InputStream is = this.classLoader.getResourceAsStream(relativePath);
return is != null ? new InputStreamReader(is, StandardCharsets.UTF_8) : null;
}
@Override
public String getName() {
return "classpath resource";
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
import io.netty.handler.codec.http.websocketx.BinaryWebSocketFrame;
import io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler;
import io.netty.handler.codec.mqtt.MqttDecoder;
import io.netty.handler.codec.mqtt.MqttEncoder;
import io.netty.handler.ssl.SslHandler;
import io.netty.handler.timeout.IdleStateHandler;
import io.netty.util.concurrent.Future;
import io.netty.util.concurrent.GenericFutureListener;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import javax.net.ssl.SSLContext;
import javax.net.ssl.SSLEngine;
import java.io.IOException;
import java.util.List;
import java.util.Optional;
}
public static BytesMetrics getBytesMetrics(Channel channel) {
return channel.attr(ATTR_KEY_METRICS).get();
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
View file
Edit file
Delete file
@@ -281,6 +281,10 @@ void pubAckReceived(int ackPacketId) {
drainQueueToConnection();
}
public void flushAllQueuedMessages() {
drainQueueToConnection();
}
public void resendInflightNotAcked() {
Collection<InFlightPacket> expired = new ArrayList<>(INFLIGHT_WINDOW_SIZE);
inflightTimeouts.drainTo(expired);
Toggle all file notes
0 comments
on commit 6ee0137
}
@Override
public void unsubscribeFrom(Topic topicFilter) {
subscriptionsStore.removeSubscription(topicFilter, clientID);
Set<Subscription> subscriptionsToRemove = new HashSet<>();
for (Subscription sub : this.subscriptions) {
if (sub.getTopicFilter().equals(topicFilter)) {
subscriptionsToRemove.add(sub);
}
}
subscriptions.removeAll(subscriptionsToRemove);
}
@Override
public void cleanSession() {
sessionsStore.removeTemporaryQoS2(this.clientID);
<build>
<plugins>
<plugin>
@@ -165,32 +165,32 @@
</configuration>
</plugin>
<!-- Includes to generate OSGi headers -->
<plugin>
<!-- Includes to generate OSGi headers -->
<plugin>
<artifactId>maven-jar-plugin</artifactId>
<configuration>
<archive>
<archive>
</archive>
</archive>
Edit file
Delete file
@@ -24,6 +24,8 @@
import java.io.FileReader;
import java.io.IOException;
import java.io.Reader;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.text.ParseException;
import java.util.Properties;
@@ -55,15 +57,10 @@ void parse(File file) throws ParseException {
return;
}
try {
FileReader reader = new FileReader(file);
Reader reader = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8);
@@ -0,0 +1,28 @@
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>About</title>
</head>
<body lang="EN-US">
<h2>About Moquette MQT broker</h2>
<p>June 11, 2014</p>
<h3>License</h3>
<p>The Eclipse Foundation makes available all content in this plug-in (&quot;Moquette MQTT&quot;). Unless otherwise
indicated below, the Content is provided to you under the terms and conditions of the
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
appropriateness of using or redistributing the Work and assume any
risks associated with Your exercise of permissions under this License.
</span></p>
<p><b><span style="font-size: 10pt;">
8. Limitation of Liability.
</span></b></p>
<p><span style="font-size: 10pt;">In no event and under no legal theory,
whether in tort (including negligence), contract, or otherwise,
unless required by applicable law (such as deliberate and grossly
negligent acts) or agreed to in writing, shall any Contributor be
liable to You for damages, including any direct, indirect, special,
incidental, or consequential damages of any character arising as a
result of this License or out of the use or inability to use the
Work (including but not limited to damages for loss of goodwill,
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
MqttPublishMessage publish = (MqttPublishMessage) msg;
break;
case PUBREC:
case PUBCOMP:
case PUBREL:
case PUBACK:
case UNSUBACK:
break;
case SUBACK:
MqttSubAckMessage suback = (MqttSubAckMessage) msg;
final List<Integer> grantedQoSLevels = suback.payload().grantedQoSLevels();
grantedQoSLevels);
break;
}
}
@Override
public void channelInactive(ChannelHandlerContext ctx) throws Exception {
*/
class ConfigurationParser {
private static final Logger LOG = LoggerFactory.getLogger(ConfigurationParser.class);
private Properties m_properties = new Properties();
/**
* Parse the configuration from file.
*/
void parse(File file) throws ParseException {
if (file == null) {
LOG.warn("parsing NULL file, so fallback on default configuration!");
return;
}
if (!file.exists()) {
LOG.warn(
String.format(
"parsing not existing file %s, so fallback on default configuration!",
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
*/
package io.moquette.interception.messages;
import io.netty.handler.codec.mqtt.MqttConnectMessage;
import java.nio.charset.StandardCharsets;
public class InterceptConnectMessage extends InterceptAbstractMessage {
private final MqttConnectMessage msg;
public InterceptConnectMessage(MqttConnectMessage msg) {
super(msg);
this.msg = msg;
}
public String getClientID() {
return msg.payload().clientIdentifier();
}
public boolean isCleanSession() {
return msg.variableHeader().isCleanSession();
import com.hazelcast.core.HazelcastInstance;
import com.hazelcast.core.ITopic;
import io.moquette.interception.messages.InterceptPublishMessage;
import io.moquette.server.Server;
import io.netty.buffer.ByteBuf;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import static io.moquette.spi.impl.Utils.readBytesAndRewind;
import static java.nio.charset.StandardCharsets.UTF_8;
public class HazelcastInterceptHandler extends AbstractInterceptHandler {
private static final Logger LOG = LoggerFactory.getLogger(HazelcastInterceptHandler.class);
private final HazelcastInstance hz;
public HazelcastInterceptHandler(Server server) {
this.hz = server.getHazelcastInstance();
}
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IStorageService.java
/
Jump to
Code definitions
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IPersistentSubscriptionStore.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMessaging.java
/
Jump to
Code definitions
No definitions found in this file.
1.23 KB
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
import static io.netty.channel.ChannelFutureListener.CLOSE;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
import static io.netty.channel.ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE;
/**
* Value object to maintain the information of single connection, like ClientID, Channel, and clean
* session flag.
*/
public class ConnectionDescriptor {
private static final Logger LOG = LoggerFactory.getLogger(ConnectionDescriptor.class);
public enum ConnectionState {
// Connection states
DISCONNECTED,
SENDACK,
SESSION_CREATED,
final String clientID;
final Map<Topic, Subscription> subscriptions = new ConcurrentHashMap<>();
boolean cleanSession;
final BlockingQueue<StoredMessage> queue = new ArrayBlockingQueue<>(Constants.MAX_MESSAGE_QUEUE);
final Map<Integer, StoredMessage> secondPhaseStore = new ConcurrentHashMap<>();
final Map<Integer, StoredMessage> outboundFlightMessages =
Collections.synchronizedMap(new HashMap<Integer, StoredMessage>());
final Map<Integer, StoredMessage> inboundFlightMessages = new ConcurrentHashMap<>();
Session(String clientID, boolean cleanSession) {
this.clientID = clientID;
this.cleanSession = cleanSession;
}
}
private final Map<String, Session> sessions = new ConcurrentHashMap<>();
private ConcurrentNavigableMap<LocalDateTime, Set<String>> sessionsClosingTimes = new ConcurrentSkipListMap<>();
MemorySessionStore() {
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ProtocolProcessor.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
161 lines (136 sloc)
6.13 KB
Raw
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
313 lines (264 sloc)
12 KB
Raw
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
105 lines (92 sloc)
3.51 KB
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
32 lines (30 sloc)
−8
broker/src/main/java/io/moquette/server/config/ConfigurationParser.java
+7
−2
broker/src/main/java/io/moquette/server/config/FileResourceLoader.java
+3
−1
broker/src/main/java/io/moquette/server/netty/MoquetteIdleTimeoutHandler.java
+6
−2
broker/src/main/java/io/moquette/server/netty/NettyAcceptor.java
+8
−6
broker/src/main/java/io/moquette/server/netty/NettyMQTTHandler.java
+3
public void initStore() {
}
@Override
public void storeRetained(Topic topic, StoredMessage storedMessage) {
if (storedMessage.getClientID() == null) {
throw new IllegalArgumentException("Message to be persisted must have a not null client ID");
}
m_retainedStore.put(topic, storedMessage);
}
@Override
public Collection<StoredMessage> searchMatching(IMatchingCondition condition) {
LOG.debug("searchMatching scanning all retained messages, presents are {}", m_retainedStore.size());
List<StoredMessage> results = new ArrayList<>();
for (Map.Entry<Topic, StoredMessage> entry : m_retainedStore.entrySet()) {
StoredMessage storedMsg = entry.getValue();
if (condition.match(entry.getKey())) {
case PUBCOMP:
m_processor.processPubComp(ctx.channel(), msg);
break;
case PUBREL:
m_processor.processPubRel(ctx.channel(), msg);
break;
case DISCONNECT:
m_processor.processDisconnect(ctx.channel());
break;
case PUBACK:
m_processor.processPubAck(ctx.channel(), (MqttPubAckMessage) msg);
break;
case PINGREQ:
MqttFixedHeader pingHeader = new MqttFixedHeader(
MqttMessageType.PINGRESP,
false,
AT_MOST_ONCE,
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
if (f.isDirectory()) {
LOG.error("The given file is a directory. Path = {}.", f.getAbsolutePath());
throw new ResourceIsDirectoryException("File \"" + f + "\" is a directory!");
}
try {
return Files.newBufferedReader(f.toPath(), UTF_8);
} catch (IOException e) {
LOG.error("The file does not exist. Path = {}.", f.getAbsolutePath());
return null;
}
}
@Override
public String getName() {
return "file";
}
}
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
−1
broker/src/main/java/io/moquette/server/netty/MoquetteIdleTimeoutHandler.java
+6
−2
broker/src/main/java/io/moquette/server/netty/NettyAcceptor.java
+8
−6
broker/src/main/java/io/moquette/server/netty/NettyMQTTHandler.java
+3
−1
broker/src/main/java/io/moquette/server/netty/metrics/BytesMetricsHandler.java
+2
−1
broker/src/main/java/io/moquette/server/netty/metrics/MQTTMessageLogger.java
+3
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
import java.util.concurrent.TimeUnit;
import static io.moquette.BrokerConstants.*;
import static io.netty.channel.ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE;
public class NettyAcceptor implements ServerAcceptor {
private static final String MQTT_SUBPROTOCOL_CSV_LIST = "mqtt, mqttv3.1, mqttv3.1.1";
static class WebSocketFrameToByteBufDecoder extends MessageToMessageDecoder<BinaryWebSocketFrame> {
@Override
protected void decode(ChannelHandlerContext chc, BinaryWebSocketFrame frame, List<Object> out)
throws Exception {
// convert the frame to a ByteBuf
ByteBuf bb = frame.content();
// System.out.println("WebSocketFrameToByteBufDecoder decode - " +
// ByteBufUtil.hexDump(bb));
bb.retain();
out.add(bb);
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
LOG.info("Wiping existing subscriptions. ClientId={}", clientID);
subscriptionsStore.wipeSubscriptions(clientID);
LOG.info("Removing queues. ClientId={}", clientID);
sessionsStore.dropQueue(clientID);
}
@Override
public void disconnect() {
LOG.info("Client disconnected. Removing its subscriptions. CId={}", clientID);
// cleanup topic subscriptions
cleanSession();
}
@Override
protected int nextPacketId() {
return this.sessionsStore.nextPacketID(this.clientID);
</configuration>
<executions>
<execution>
<goals>
<goal>test-jar</goal>
<goal>test-jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
</plugin>
<plugin>
<groupId>org.apache.felix</groupId>
<artifactId>maven-bundle-plugin</artifactId>
<executions>
parse(reader);
} catch (FileNotFoundException fex) {
LOG.warn(
String.format(
"parsing not existing file %s, so fallback on default configuration!",
file.getAbsolutePath()),
fex);
return;
} catch (IOException fex) {
LOG.warn("parsing not existing file {}, fallback on default configuration!", file.getAbsolutePath(), fex);
}
}
9
broker/src/main/java/io/moquette/server/config/FileResourceLoader.java
Show comments
View file
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
<p>If you did not receive this Content directly from the Eclipse Foundation, the Content is
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
apply to your use of any object code in the Content. Check the Redistributor's license that was
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
indicated below, the terms and conditions of the EPL still apply to any source code in the Content
and such source code may be obtained at <a href="http://www.eclipse.org/">http://www.eclipse.org</a>.</p>
</body>
</html>
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMatchingCondition.java
Show comments
View file
Edit file
Delete file
other commercial damages or losses), even if such Contributor
has been advised of the possibility of such damages.
</span></p>
<p><b><span style="font-size: 10pt;">
9. Accepting Warranty or Additional Liability.
</span></b></p>
<p><span style="font-size: 10pt;">While redistributing
the Work or Derivative Works thereof, You may choose to offer,
and charge a fee for, acceptance of support, warranty, indemnity,
or other liability obligations and/or rights consistent with this
License. However, in accepting such obligations, You may act only
on Your own behalf and on Your sole responsibility, not on behalf
of any other Contributor, and only if You agree to indemnify,
defend, and hold each Contributor harmless for any liability
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
String clientID = NettyUtils.clientID(ctx.channel());
if (clientID != null && !clientID.isEmpty()) {
LOG.info("Channel closed <{}>", clientID);
}
ctx.fireChannelInactive();
}
@Override
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
logMQTTMessage(ctx, msg, "C<-B");
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
file.getAbsolutePath()));
return;
}
try {
Reader reader = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8);
parse(reader);
} catch (IOException fex) {
LOG.warn("parsing not existing file {}, fallback on default configuration!", file.getAbsolutePath(), fex);
}
}
/**
* Parse the configuration
*
* @throws ParseException
* if the format is not compliant.
*/
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
}
public int getKeepAlive() {
return msg.variableHeader().keepAliveTimeSeconds();
}
public boolean isPasswordFlag() {
return msg.variableHeader().hasPassword();
}
public byte getProtocolVersion() {
return (byte) msg.variableHeader().version();
}
public String getProtocolName() {
return msg.variableHeader().name();
}
public boolean isUserFlag() {
return msg.variableHeader().hasUserName();
}
@Override
public String getID() {
return HazelcastInterceptHandler.class.getName() + "@" + hz.getName();
}
@Override
public void onPublish(InterceptPublishMessage msg) {
// TODO ugly, too much array copy
ByteBuf payload = msg.getPayload();
byte[] payloadContent = readBytesAndRewind(payload);
new String(payloadContent, UTF_8));
ITopic<HazelcastMsg> topic = hz.getTopic("moquette");
HazelcastMsg hazelcastMsg = new HazelcastMsg(msg);
topic.publish(hazelcastMsg);
}
}
Copy lines
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
71 lines (55 sloc)
2.33 KB
Raw
Blame
/*
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
33 lines (28 sloc)
1.04 KB
Raw
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
35 lines (29 sloc)
1.06 KB
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.EventFactory;
import org.dna.mqtt.moquette.messaging.spi.impl.events.MessagingEvent;
/**
* Carrier value object for the RingBuffer.
*
* @author andrea
*/
public final class ValueEvent {
private MessagingEvent m_event;
public MessagingEvent getEvent() {
return m_event;
}
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.BatchEventProcessor;
import com.lmax.disruptor.EventHandler;
import com.lmax.disruptor.RingBuffer;
import com.lmax.disruptor.SequenceBarrier;
import java.util.Properties;
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;
import java.util.concurrent.TimeUnit;
import org.dna.mqtt.moquette.messaging.spi.IMessaging;
import org.dna.mqtt.moquette.messaging.spi.IStorageService;
import org.dna.mqtt.moquette.messaging.spi.impl.events.*;
import org.dna.mqtt.moquette.messaging.spi.impl.subscriptions.SubscriptionsStore;
import org.dna.mqtt.moquette.proto.messages.PubCompMessage;
import org.dna.mqtt.moquette.proto.messages.*;
MESSAGES_REPUBLISHED,
ESTABLISHED,
// Disconnection states
SUBSCRIPTIONS_REMOVED,
MESSAGES_DROPPED,
INTERCEPTORS_NOTIFIED;
}
public final String clientID;
private final Channel channel;
public final boolean cleanSession;
private final AtomicReference<ConnectionState> channelState = new AtomicReference<>(ConnectionState.DISCONNECTED);
public ConnectionDescriptor(String clientID, Channel session, boolean cleanSession) {
this.clientID = clientID;
this.channel = session;
this.cleanSession = cleanSession;
}
}
private Session getSession(String clientID) {
Session session = sessions.get(clientID);
if (session == null) {
LOG.error("Can't find the session for client <{}>", clientID);
throw new RuntimeException("Can't find the session for client <" + clientID + ">");
}
return session;
}
@Override
public void removeSubscription(Topic topic, String clientID) {
getSession(clientID).subscriptions.remove(topic);
}
@Override
public void initStore() {
}
R
Copy path
Cannot retrieve contributors at this time
526 lines (447 sloc)
23.6 KB
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
941 Bytes
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
−1
broker/src/main/java/io/moquette/server/netty/metrics/BytesMetricsHandler.java
+2
−1
broker/src/main/java/io/moquette/server/netty/metrics/MQTTMessageLogger.java
+3
−1
broker/src/main/java/io/moquette/server/netty/metrics/MessageMetricsHandler.java
+0
−16
broker/src/main/java/io/moquette/spi/DurableSession.java
+16
−0
broker/src/main/java/io/moquette/spi/ISubscriptionsStore.java
+32
−0
broker/src/main/java/io/moquette/spi/InboundFlightZone.java
results.add(storedMsg);
}
}
return results;
}
@Override
public void cleanRetained(Topic topic) {
m_retainedStore.remove(topic);
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
false,
0);
MqttMessage pingResp = new MqttMessage(pingHeader);
ctx.writeAndFlush(pingResp).addListener(CLOSE_ON_FAILURE);
break;
default:
LOG.error("Unkonwn MessageType:{}", messageType);
break;
}
} catch (Throwable ex) {
LOG.error("Exception was caught while processing MQTT message, {}", ex.getCause(), ex);
ctx.fireExceptionCaught(ex);
ctx.close().addListener(CLOSE_ON_FAILURE);
} finally {
ReferenceCountUtil.release(msg);
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
−1
broker/src/main/java/io/moquette/server/netty/metrics/MessageMetricsHandler.java
+0
−16
broker/src/main/java/io/moquette/spi/DurableSession.java
+16
−0
broker/src/main/java/io/moquette/spi/ISubscriptionsStore.java
+32
−0
broker/src/main/java/io/moquette/spi/InboundFlightZone.java
+2
−2
broker/src/main/java/io/moquette/spi/TransientSession.java
+3
−1
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
}
}
static class ByteBufToWebSocketFrameEncoder extends MessageToMessageEncoder<ByteBuf> {
@Override
protected void encode(ChannelHandlerContext chc, ByteBuf bb, List<Object> out) throws Exception {
// convert the ByteBuf to a WebSocketFrame
BinaryWebSocketFrame result = new BinaryWebSocketFrame();
// System.out.println("ByteBufToWebSocketFrameEncoder encode - " +
// ByteBufUtil.hexDump(bb));
result.content().writeBytes(bb);
out.add(result);
}
}
abstract static class PipelineInitializer {
abstract void init(ChannelPipeline pipeline) throws Exception;
}
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
}
@Override
public IMessagesStore.StoredMessage inFlightAcknowledged(int messageID) {
return outboundFlightZone.acknowledged(messageID);
}
@Override
public int inFlightAckWaiting(IMessagesStore.StoredMessage msg) {
LOG.debug("Adding message to inflight zone. CId={}", clientID);
int messageId = this.nextPacketId();
outboundFlightZone.waitingAck(messageId, msg);
return messageId;
}
@Override
<execution>
<id>bundle-manifest</id>
<phase>process-classes</phase>
<goals>
<goals>
<goal>manifest</goal>
</goals>
</goals>
</execution>
</executions>
</plugin>
Toggle all file notes
0 comments
on commit 99fea68
Please
sign in to comment.
Edit file
Delete file
@@ -19,10 +19,15 @@
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.Reader;
import java.nio.file.Files;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import static java.nio.charset.StandardCharsets.UTF_8;
public class FileResourceLoader implements IResourceLoader {
private static final Logger LOG = LoggerFactory.getLogger(FileResourceLoader.class);
@@ -68,8 +73,8 @@ public Reader loadResource(File f) {
throw new ResourceIsDirectoryException("File \"" + f + "\" is a directory!");
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
incurred by, or claims asserted against, such Contributor by reason
of your accepting any such warranty or additional liability.
</span></p>
<p><span style="font-size: 10pt;">
END OF TERMS AND CONDITIONS
</span></p>
<p><span style="font-size: 10pt;">
APPENDIX: How to apply the Apache License to your work.
</span></p>
<p><span style="font-size: 10pt;">
To apply the Apache License to your work, attach the following
boilerplate notice, with the fields enclosed by brackets "[]"
replaced with your own identifying information. (Don't include
the brackets!) The text should be enclosed in the appropriate
comment syntax for the file format. We also recommend that a
file or class name and description of purpose be included on the
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
void parse(Reader reader) throws ParseException {
if (reader == null) {
// just log and return default properties
LOG.warn("parsing NULL reader, so fallback on default configuration!");
return;
}
BufferedReader br = new BufferedReader(reader);
String line;
try {
public boolean isWillFlag() {
return msg.variableHeader().isWillFlag();
}
public byte getWillQos() {
return (byte) msg.variableHeader().willQos();
}
public boolean isWillRetain() {
return msg.variableHeader().isWillRetain();
}
public String getUsername() {
return msg.payload().userName();
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
import java.nio.ByteBuffer;
import org.dna.mqtt.moquette.messaging.spi.impl.events.PublishEvent;
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
import org.dna.mqtt.moquette.server.ServerChannel;
public void setEvent(MessagingEvent event) {
m_event = event;
}
public final static EventFactory<ValueEvent> EVENT_FACTORY = new EventFactory<ValueEvent>() {
public ValueEvent newInstance() {
return new ValueEvent();
}
};
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
import org.dna.mqtt.moquette.server.Constants;
import org.dna.mqtt.moquette.server.IAuthenticator;
import org.dna.mqtt.moquette.server.ServerChannel;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
/**
*
* Singleton class that orchestrate the execution of the protocol.
*
* Uses the LMAX Disruptor to serialize the incoming, requests, because it work in a evented fashion.
*
* @author andrea
*/
public class SimpleMessaging implements IMessaging, EventHandler<ValueEvent> {
private static final Logger LOG = LoggerFactory.getLogger(SimpleMessaging.class);
private SubscriptionsStore subscriptions;
public void writeAndFlush(Object payload) {
this.channel.writeAndFlush(payload).addListener(FIRE_EXCEPTION_ON_FAILURE);
}
public void setupAutoFlusher(int flushIntervalMs) {
try {
this.channel.pipeline().addAfter(
"idleEventHandler",
"autoFlusher",
new AutoFlushHandler(flushIntervalMs, TimeUnit.MILLISECONDS));
} catch (NoSuchElementException nseex) {
// the idleEventHandler is not present on the pipeline
this.channel.pipeline()
.addFirst("autoFlusher", new AutoFlushHandler(flushIntervalMs, TimeUnit.MILLISECONDS));
}
@Override
public ISubscriptionsStore subscriptionStore() {
return this;
}
@Override
public void addNewSubscription(Subscription newSubscription) {
final String clientID = newSubscription.getClientId();
Session session = sessions.get(clientID);
if (session == null) {
LOG.error("Can't find the session for client <{}>", clientID);
return;
}
session.subscriptions.put(newSubscription.getTopicFilter(), newSubscription);
}
@Override
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.BatchEventProcessor;
import com.lmax.disruptor.EventHandler;
import com.lmax.disruptor.RingBuffer;
import com.lmax.disruptor.SequenceBarrier;
import java.nio.ByteBuffer;
import java.util.Collection;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.concurrent.ExecutorService;
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.nio.ByteBuffer;
import java.util.ArrayList;
import org.dna.mqtt.moquette.messaging.spi.IMatchingCondition;
import org.dna.mqtt.moquette.messaging.spi.IStorageService;
import org.dna.mqtt.moquette.messaging.spi.impl.events.PublishEvent;
import org.dna.mqtt.moquette.messaging.spi.impl.subscriptions.Subscription;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
import java.util.Collection;
import java.util.HashMap;
import java.util.HashSet;
import java.util.List;
import java.util.Map;
import java.util.Set;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.io.File;
import java.io.IOException;
import java.io.Serializable;
import java.nio.ByteBuffer;
import java.util.*;
import org.dna.mqtt.moquette.MQTTException;
import org.dna.mqtt.moquette.messaging.spi.IMatchingCondition;
import org.dna.mqtt.moquette.messaging.spi.IStorageService;
import org.dna.mqtt.moquette.messaging.spi.impl.events.PublishEvent;
import org.dna.mqtt.moquette.messaging.spi.impl.storage.StoredPublishEvent;
import org.dna.mqtt.moquette.messaging.spi.impl.subscriptions.Subscription;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
import java.io.IOException;
import java.io.Reader;
import java.text.ParseException;
import java.util.HashMap;
import java.util.Map;
import org.dna.mqtt.moquette.server.IAuthenticator;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
/**
*
* @author andrea
*/
public class FileAuthenticator implements IAuthenticator {
private static final Logger LOG = LoggerFactory.getLogger(FileAuthenticator.class);
private Map<String, String> m_identities = new HashMap<String, String>();
FileAuthenticator(String parent, String filePath) {
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.nio.ByteBuffer;
/**
*
* @author andrea
*/
class DebugUtils {
static String payload2Str(ByteBuffer content) {
byte[] b = new byte[content.remaining()];
content.mark();
content.get(b);
content.reset();
return new String(b);
}
}
+2
−2
broker/src/main/java/io/moquette/spi/TransientSession.java
+3
−1
broker/src/main/java/io/moquette/spi/impl/DebugUtils.java
+6
−4
broker/src/main/java/io/moquette/spi/impl/MessagesPublisher.java
+4
−4
broker/src/main/java/io/moquette/spi/impl/PersistentQueueMessageSender.java
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
}
}
@Override
public void channelInactive(ChannelHandlerContext ctx) throws Exception {
String clientID = NettyUtils.clientID(ctx.channel());
if (clientID != null && !clientID.isEmpty()) {
LOG.info("Notifying connection lost event. MqttClientId = {}", clientID);
m_processor.processConnectionLost(clientID, ctx.channel());
}
ctx.close().addListener(CLOSE_ON_FAILURE);
}
@Override
public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
broker/src/main/java/io/moquette/spi/impl/DebugUtils.java
+6
−4
broker/src/main/java/io/moquette/spi/impl/MessagesPublisher.java
+4
−4
broker/src/main/java/io/moquette/spi/impl/PersistentQueueMessageSender.java
+46
−71
broker/src/main/java/io/moquette/spi/impl/ProtocolProcessor.java
+8
−6
broker/src/main/java/io/moquette/spi/impl/ProtocolProcessorBootstrapper.java
+48
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
private static final Logger LOG = LoggerFactory.getLogger(NettyAcceptor.class);
EventLoopGroup m_bossGroup;
EventLoopGroup m_workerGroup;
BytesMetricsCollector m_bytesMetricsCollector = new BytesMetricsCollector();
MessageMetricsCollector m_metricsCollector = new MessageMetricsCollector();
private Optional<? extends ChannelInboundHandler> metrics;
private Optional<? extends ChannelInboundHandler> errorsCather;
private int nettySoBacklog;
private boolean nettySoReuseaddr;
private boolean nettyTcpNodelay;
private boolean nettySoKeepalive;
private int nettyChannelTimeoutSeconds;
Save preferences
public IMessagesStore.StoredMessage inboundInflight(int messageID) {
return inboundFlightZone.lookup(messageID);
}
@Override
public void markAsInboundInflight(int messageID, IMessagesStore.StoredMessage msg) {
inboundFlightZone.waitingRel(messageID, msg);
}
@Override
public void moveInFlightToSecondPhaseAckWaiting(int messageID, IMessagesStore.StoredMessage msg) {
this.sessionsStore.moveInFlightToSecondPhaseAckWaiting(this.clientID, messageID, msg);
}
@Override
public boolean isEmptyQueue() {
return this.sessionsStore.queue(clientID).isEmpty();
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
}
try {
return new FileReader(f);
} catch (FileNotFoundException e) {
return Files.newBufferedReader(f.toPath(), UTF_8);
} catch (IOException e) {
LOG.error("The file does not exist. Path = {}.", f.getAbsolutePath());
return null;
}
4
broker/src/main/java/io/moquette/server/netty/MoquetteIdleTimeoutHandler.java
Show comments
View file
Edit file
Delete file
package org.dna.mqtt.moquette.messaging.spi;
/**
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMessaging.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
same "printed page" as the copyright notice for easier
identification within third-party archives.
</span></p>
<p><span style="font-size: 10pt;">
Copyright [yyyy] [name of copyright owner]
</span></p>
<p><span style="font-size: 10pt;">
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
</span></p>
<p><span style="font-size: 10pt;">
http://www.apache.org/licenses/LICENSE-2.0
</span></p>
<p><span style="font-size: 10pt;">
Unless required by applicable law or agreed to in writing, software
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
while ((line = br.readLine()) != null) {
int commentMarker = line.indexOf('#');
if (commentMarker != -1) {
if (commentMarker == 0) {
// skip its a comment
continue;
} else {
// it's a malformed comment
throw new ParseException(line, commentMarker);
}
} else {
if (line.isEmpty() || line.matches("^\\s*$")) {
// skip it's a black line
continue;
}
// split till the first space
}
public byte[] getPassword() {
return msg.payload().password().getBytes(StandardCharsets.UTF_8);
}
public String getWillTopic() {
return msg.payload().willTopic();
}
public byte[] getWillMessage() {
return msg.payload().willMessage().getBytes(StandardCharsets.UTF_8);
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
import static org.dna.mqtt.moquette.messaging.spi.impl.HawtDBStorageService.StoredMessage;
import java.util.Collection;
import java.util.List;
/**
* Defines the SPI to be implemented by a StorageService that handle persistence of messages and subscriptions.
*/
public interface IStorageService extends IPersistentSubscriptionStore {
/**
* Used to initialize all persistent store structures
* */
void initStore();
/**
* Persist the message.
* If the message is empty then the topic is cleaned, else it's stored.
*/
import java.util.List;
import org.dna.mqtt.moquette.messaging.spi.impl.subscriptions.Subscription;
/**
* Store used to handle the persistence of the subscriptions tree.
*
* @author andrea
*/
public interface IPersistentSubscriptionStore {
void addNewSubscription(Subscription newSubscription, String clientID);
void removeAllSubscriptions(String clientID);
List<Subscription> retrieveAllSubscriptions();
}
Copy lines
Copy permalink
View git blame
/**
* Interface to the underling messaging system used to publish, subscribe.
*
* @author andrea
*/
public interface IMessaging {
void stop();
void disconnect(ServerChannel session);
void lostConnection(String clientID);
void handleProtocolMessage(ServerChannel session, AbstractMessage msg);
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
private RingBuffer<ValueEvent> m_ringBuffer;
private IStorageService m_storageService;
private ExecutorService m_executor;
BatchEventProcessor<ValueEvent> m_eventProcessor;
private static SimpleMessaging INSTANCE;
private ProtocolProcessor m_processor = new ProtocolProcessor();
CountDownLatch m_stopLatch;
private SimpleMessaging() {
}
public static SimpleMessaging getInstance() {
if (INSTANCE == null) {
INSTANCE = new SimpleMessaging();
}
return INSTANCE;
}
public void init(Properties configProps) {
}
public boolean doesNotUseChannel(Channel channel) {
return !(this.channel.equals(channel));
}
public boolean close() {
LOG.info("Closing connection descriptor. MqttClientId = {}.", clientID);
final boolean success = assignState(ConnectionState.INTERCEPTORS_NOTIFIED, ConnectionState.DISCONNECTED);
if (!success) {
return false;
}
this.channel.close().addListener(CLOSE_ON_FAILURE);
return true;
}
public String getUsername() {
return NettyUtils.userName(this.channel);
}
public void wipeSubscriptions(String clientID) {
if (!sessions.containsKey(clientID)) {
LOG.error("Can't find the session for client <{}>", clientID);
return;
}
sessions.get(clientID).subscriptions.clear();
}
@Override
public boolean contains(String clientID) {
return sessions.containsKey(clientID);
}
@Override
public void createNewDurableSession(String clientID) {
Session innerSession = new Session(clientID, false);
sessions.put(clientID, innerSession);
import java.util.concurrent.Executors;
import org.dna.mqtt.moquette.messaging.spi.IMatchingCondition;
import org.dna.mqtt.moquette.messaging.spi.IStorageService;
import org.dna.mqtt.moquette.messaging.spi.impl.events.MessagingEvent;
import org.dna.mqtt.moquette.messaging.spi.impl.events.OutputMessagingEvent;
import org.dna.mqtt.moquette.messaging.spi.impl.events.PubAckEvent;
import org.dna.mqtt.moquette.messaging.spi.impl.events.PublishEvent;
import org.dna.mqtt.moquette.messaging.spi.impl.subscriptions.Subscription;
import org.dna.mqtt.moquette.messaging.spi.impl.subscriptions.SubscriptionsStore;
import org.dna.mqtt.moquette.proto.messages.PubCompMessage;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
import org.dna.mqtt.moquette.proto.messages.ConnAckMessage;
import org.dna.mqtt.moquette.proto.messages.ConnectMessage;
import org.dna.mqtt.moquette.proto.messages.PubAckMessage;
/**
*/
public class MemoryStorageService implements IStorageService {
private Map<String, Set<Subscription>> m_persistentSubscriptions = new HashMap<String, Set<Subscription>>();
private Map<String, HawtDBStorageService.StoredMessage> m_retainedStore = new HashMap<String, HawtDBStorageService.StoredMessage>();
//TODO move in a multimap because only Qos1 and QoS2 are stored here and they have messageID(key of secondary map)
private Map<String, List<PublishEvent>> m_persistentMessageStore = new HashMap<String, List<PublishEvent>>();
private Map<String, PublishEvent> m_inflightStore = new HashMap<String, PublishEvent>();
private Map<String, PublishEvent> m_qos2Store = new HashMap<String, PublishEvent>();
private static final Logger LOG = LoggerFactory.getLogger(MemoryStorageService.class);
public void initStore() {
//To change body of implemented methods use File | Settings | File Templates.
}
public void storeRetained(String topic, ByteBuffer message, AbstractMessage.QOSType qos) {
if (!message.hasRemaining()) {
import org.dna.mqtt.moquette.server.Server;
import org.fusesource.hawtbuf.codec.StringCodec;
import org.fusesource.hawtdb.api.*;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
/**
* Implementation of IStorageService backed by HawtDB
*/
public class HawtDBStorageService implements IStorageService {
public static class StoredMessage implements Serializable {
AbstractMessage.QOSType m_qos;
byte[] m_payload;
String m_topic;
StoredMessage(byte[] message, AbstractMessage.QOSType qos, String topic) {
m_qos = qos;
m_payload = message;
File file = new File(parent, filePath);
LOG.info("Loading password file: " + file);
if (file.isDirectory()) {
LOG.warn(String.format("Bad file reference %s is a directory", file));
return;
}
try {
FileReader reader = new FileReader(file);
parse(reader);
} catch (FileNotFoundException fex) {
LOG.warn(String.format("Parsing not existing file %s", file), fex);
} catch (ParseException pex) {
LOG.warn(String.format("Fromat ero in parsing password file %s", file), pex);
}
}
private void parse(Reader reader) throws ParseException {
if (reader == null) {
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
+46
−71
broker/src/main/java/io/moquette/spi/impl/ProtocolProcessor.java
+8
−6
broker/src/main/java/io/moquette/spi/impl/ProtocolProcessorBootstrapper.java
+48
−0
broker/src/main/java/io/moquette/spi/impl/RunningSubscription.java
+3
−1
broker/src/main/java/io/moquette/spi/impl/SessionsRepository.java
+12
−4
broker/src/main/java/io/moquette/spi/impl/security/ACLFileParser.java
+1
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
LOG.error("An unexpected exception was caught while processing MQTT message. Closing Netty channel. CId={}, " +
ctx.close().addListener(CLOSE_ON_FAILURE);
}
@Override
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
−0
broker/src/main/java/io/moquette/spi/impl/RunningSubscription.java
+3
−1
broker/src/main/java/io/moquette/spi/impl/SessionsRepository.java
+12
−4
broker/src/main/java/io/moquette/spi/impl/security/ACLFileParser.java
+1
−0
private int maxBytesInMessage;
private Class<? extends ServerSocketChannel> channelClass;
@Override
public void initialize(ProtocolProcessor processor, IConfig props, ISslContextCreator sslCtxCreator)
throws IOException {
LOG.info("Initializing Netty acceptor...");
nettySoBacklog = Integer.parseInt(props.getProperty(BrokerConstants.NETTY_SO_BACKLOG_PROPERTY_NAME, "128"));
nettySoReuseaddr = Boolean
.parseBoolean(props.getProperty(BrokerConstants.NETTY_SO_REUSEADDR_PROPERTY_NAME, "true"));
nettyTcpNodelay = Boolean
.parseBoolean(props.getProperty(BrokerConstants.NETTY_TCP_NODELAY_PROPERTY_NAME, "true"));
nettySoKeepalive = Boolean
.parseBoolean(props.getProperty(BrokerConstants.NETTY_SO_KEEPALIVE_PROPERTY_NAME, "true"));
nettyChannelTimeoutSeconds = Integer
.parseInt(props.getProperty(BrokerConstants.NETTY_CHANNEL_TIMEOUT_SECONDS_PROPERTY_NAME, "10"));
}
@Override
public void dropQueue() {
LOG.debug("Removing messages of session. CId={}", this.clientID);
this.sessionsStore.dropQueue(this.clientID);
LOG.debug("Messages of the session have been removed. CId={}", this.clientID);
}
@Override
public EnqueuedMessage poll() {
IMessagesStore.StoredMessage msg = this.sessionsStore.queue(clientID).poll();
if (msg == null) {
return null;
}
int messageId = this.inFlightAckWaiting(msg);
return new EnqueuedMessage(msg, messageId);
}
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
@@ -24,6 +24,8 @@
import io.netty.handler.timeout.IdleState;
import io.netty.handler.timeout.IdleStateEvent;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
@Sharable
class MoquetteIdleTimeoutHandler extends ChannelDuplexHandler {
@@ -37,7 +39,7 @@ public void userEventTriggered(ChannelHandlerContext ctx, Object evt) throws Exc
LOG.info("Firing channel inactive event. MqttClientId = {}.", NettyUtils.clientID(ctx.channel()));
// fire a channelInactive to trigger publish of Will
ctx.fireChannelInactive();
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
}
} else {
if (LOG.isDebugEnabled()) {
8
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IPersistentSubscriptionStore.java
Show comments
View file
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</span></p>
</div>
</body></html>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Save preferences
int delimiterIdx = line.indexOf(' ');
String key = line.substring(0, delimiterIdx).trim();
String value = line.substring(delimiterIdx).trim();
m_properties.put(key, value);
}
}
} catch (IOException ex) {
throw new ParseException("Failed to read", 1);
} finally {
try {
reader.close();
} catch (IOException e) {
// ignore
}
}
}
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Accept
Reject
Save preferences
void storeRetained(String topic, ByteBuffer message, AbstractMessage.QOSType qos);
/**
* Return a list of retained messages that satisfy the condition.
*/
Collection<StoredMessage> searchMatching(IMatchingCondition condition);
void storePublishForFuture(PublishEvent evt);
/**
* Return the list of persisted publishes for the given clientID.
* For QoS1 and QoS2 with clean session flag, this method return the list of
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
subscriptions = new SubscriptionsStore();
m_executor = Executors.newFixedThreadPool(1);
m_ringBuffer = new RingBuffer<ValueEvent>(ValueEvent.EVENT_FACTORY, 1024 * 32);
SequenceBarrier barrier = m_ringBuffer.newBarrier();
m_eventProcessor = new BatchEventProcessor<ValueEvent>(m_ringBuffer, barrier, this);
//TODO in a presentation is said to don't do the followinf line!!
m_ringBuffer.setGatingSequences(m_eventProcessor.getSequence());
m_executor.submit(m_eventProcessor);
disruptorPublish(new InitEvent(configProps));
}
private void disruptorPublish(MessagingEvent msgEvent) {
public void abort() {
LOG.info("Closing connection descriptor. MqttClientId = {}.", clientID);
// try {
// this.channel.disconnect().sync();
this.channel.close().addListener(CLOSE_ON_FAILURE); // .sync();
// } catch (InterruptedException e) {
// e.printStackTrace();
// }
}
public boolean assignState(ConnectionState expected, ConnectionState newState) {
LOG.debug(
}
@Override
public void removeDurableSession(String clientId) {
this.sessions.remove(clientId);
this.wipeSubscriptions(clientId);
}
@Override
public void updateCleanStatus(String clientId, boolean newCleanStatus) {
sessions.get(clientId).cleanSession = newCleanStatus;
}
@Override
import org.dna.mqtt.moquette.proto.messages.PubRecMessage;
import org.dna.mqtt.moquette.proto.messages.PubRelMessage;
import org.dna.mqtt.moquette.proto.messages.PublishMessage;
import org.dna.mqtt.moquette.proto.messages.SubAckMessage;
import org.dna.mqtt.moquette.proto.messages.SubscribeMessage;
import org.dna.mqtt.moquette.proto.messages.UnsubAckMessage;
import org.dna.mqtt.moquette.server.ConnectionDescriptor;
import org.dna.mqtt.moquette.server.Constants;
import org.dna.mqtt.moquette.server.IAuthenticator;
import org.dna.mqtt.moquette.server.ServerChannel;
import org.slf4j.Logger;
//clean the message from topic
m_retainedStore.remove(topic);
} else {
//store the message to the topic
byte[] raw = new byte[message.remaining()];
message.get(raw);
m_retainedStore.put(topic, new HawtDBStorageService.StoredMessage(raw, qos, topic));
}
}
public Collection<HawtDBStorageService.StoredMessage> searchMatching(IMatchingCondition condition) {
LOG.debug("searchMatching scanning all retained messages, presents are {}", m_retainedStore.size());
m_topic = topic;
}
AbstractMessage.QOSType getQos() {
return m_qos;
}
ByteBuffer getPayload() {
return (ByteBuffer) ByteBuffer.allocate(m_payload.length).put(m_payload).flip();
}
String getTopic() {
return m_topic;
return;
}
BufferedReader br = new BufferedReader(reader);
String line;
try {
while ((line = br.readLine()) != null) {
int commentMarker = line.indexOf('#');
if (commentMarker != -1) {
if (commentMarker == 0) {
//skip its a comment
continue;
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
−0
broker/src/main/java/io/moquette/spi/impl/security/AcceptAllAuthenticator.java
+10
−8
broker/src/main/java/io/moquette/spi/impl/subscriptions/CNode.java
+10
−75
broker/src/main/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectory.java
+67
public void channelWritabilityChanged(ChannelHandlerContext ctx) throws Exception {
if (ctx.channel().isWritable()) {
m_processor.notifyChannelWritable(ctx.channel());
}
ctx.fireChannelWritabilityChanged();
}
}
Copy lines
Copy permalink
View git blame
broker/src/main/java/io/moquette/spi/impl/security/AcceptAllAuthenticator.java
+10
−8
broker/src/main/java/io/moquette/spi/impl/subscriptions/CNode.java
+10
−75
broker/src/main/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectory.java
+67
−0
maxBytesInMessage = Integer
.parseInt(props.getProperty(BrokerConstants.NETTY_MAX_BYTES_PROPERTY_NAME,
String.valueOf(BrokerConstants.DEFAULT_NETTY_MAX_BYTES_IN_MESSAGE)));
boolean epoll = Boolean.parseBoolean(props.getProperty(BrokerConstants.NETTY_EPOLL_PROPERTY_NAME, "false"));
if (epoll) {
LOG.info("Netty is using Epoll");
m_bossGroup = new EpollEventLoopGroup();
m_workerGroup = new EpollEventLoopGroup();
channelClass = EpollServerSocketChannel.class;
} else {
@Override
public void enqueue(IMessagesStore.StoredMessage message) {
this.sessionsStore.queue(this.clientID).add(message);
}
@Override
public IMessagesStore.StoredMessage completeReleasedPublish(int messageID) {
return this.sessionsStore.completeReleasedPublish(clientID, messageID);
}
@Override
public int getPendingPublishMessagesNo() {
return this.sessionsStore.queue(clientID).size();
}
@Override
public int countPubReleaseWaitingPubComplete() {
broker/src/main/java/io/moquette/server/netty/NettyAcceptor.java
Show comments
View file
Edit file
Delete file
@@ -44,6 +44,7 @@
import io.netty.handler.ssl.SslHandler;
import io.netty.handler.timeout.IdleStateHandler;
import io.netty.util.concurrent.Future;
import io.netty.util.concurrent.GenericFutureListener;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import javax.net.ssl.SSLContext;
@@ -53,6 +54,7 @@
import java.util.Optional;
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Properties getProperties() {
return m_properties;
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
* missed publish events while the client was disconnected.
*/
List<PublishEvent> retrievePersistedPublishes(String clientID);
void cleanPersistedPublishMessage(String clientID, int messageID);
void cleanPersistedPublishes(String clientID);
void cleanInFlight(String msgID);
void addInFlight(PublishEvent evt, String publishKey);
void close();
void persistQoS2Message(String publishKey, PublishEvent evt);
void removeQoS2Message(String publishKey);
PublishEvent retrieveQoS2Message(String publishKey);
}
Copy lines
Copy permalink
View git blame
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Learn more
Accept
Reject
Save preferences
LOG.debug("disruptorPublish publishing event {}", msgEvent);
long sequence = m_ringBuffer.next();
ValueEvent event = m_ringBuffer.get(sequence);
event.setEvent(msgEvent);
m_ringBuffer.publish(sequence);
}
public void disconnect(ServerChannel session) {
disruptorPublish(new DisconnectEvent(session));
}
public void lostConnection(String clientID) {
disruptorPublish(new LostConnectionEvent(clientID));
}
public void handleProtocolMessage(ServerChannel session, AbstractMessage msg) {
disruptorPublish(new ProtocolEvent(session, msg));
}
public void stop() {
clientID,
expected,
newState);
boolean retval = channelState.compareAndSet(expected, newState);
if (!retval) {
LOG.error(
"Unable to update state of connection descriptor."
clientID,
expected,
newState);
}
return retval;
}
@Override
public String toString() {
return "ConnectionDescriptor{" + "clientID=" + clientID + ", removeTemporaryQoS2=" + cleanSession + ", state="
public PersistentSession loadSessionByKey(String clientID) {
return new PersistentSession(clientID, sessions.get(clientID).cleanSession);
}
@Override
public Collection<PersistentSession> listAllSessions() {
Collection<PersistentSession> result = new ArrayList<>();
for (Session entry : sessions.values()) {
result.add(new PersistentSession(entry.clientID, entry.cleanSession));
}
return result;
}
@Override
public List<Subscription> listAllSubscriptions() {
List<Subscription> allSubscriptions = new ArrayList<>();
for (Session entry : sessions.values()) {
import org.slf4j.LoggerFactory;
/**
* Class responsible to handle the logic of MQTT protocol it's the director of
* the protocol execution.
*
* Used by the front facing class SimpleMessaging.
*
* @author andrea
*/
class ProtocolProcessor implements EventHandler<ValueEvent> {
private static final Logger LOG = LoggerFactory.getLogger(ProtocolProcessor.class);
private Map<String, ConnectionDescriptor> m_clientIDs = new HashMap<String, ConnectionDescriptor>();
private SubscriptionsStore subscriptions;
private IStorageService m_storageService;
private IAuthenticator m_authenticator;
private ExecutorService m_executor;
List<HawtDBStorageService.StoredMessage> results = new ArrayList<HawtDBStorageService.StoredMessage>();
for (Map.Entry<String, HawtDBStorageService.StoredMessage> entry : m_retainedStore.entrySet()) {
HawtDBStorageService.StoredMessage storedMsg = entry.getValue();
if (condition.match(entry.getKey())) {
results.add(storedMsg);
}
}
return results;
}
public void storePublishForFuture(PublishEvent evt) {
LOG.debug("storePublishForFuture store evt {}", evt);
List<PublishEvent> storedEvents;
String clientID = evt.getClientID();
if (!m_persistentMessageStore.containsKey(clientID)) {
storedEvents = new ArrayList<PublishEvent>();
} else {
}
}
private static final Logger LOG = LoggerFactory.getLogger(HawtDBStorageService.class);
private MultiIndexFactory m_multiIndexFactory;
private PageFileFactory pageFactory;
//maps clientID to the list of pending messages stored
//TODO move in a multimap because only Qos1 and QoS2 are stored here and they have messageID(key of secondary map)
private SortedIndex<String, List<StoredPublishEvent>> m_persistentMessageStore;
private SortedIndex<String, StoredMessage> m_retainedStore;
//bind clientID+MsgID -> evt message published
private SortedIndex<String, StoredPublishEvent> m_inflightStore;
//bind clientID+MsgID -> evt message published
private SortedIndex<String, StoredPublishEvent> m_qos2Store;
//persistent Map of clientID, set of Subscriptions
private SortedIndex<String, Set<Subscription>> m_persistentSubscriptions;
public HawtDBStorageService() {
} else {
//it's a malformed comment
throw new ParseException(line, commentMarker);
}
} else {
if (line.isEmpty() || line.matches("^\\s*$")) {
//skip it's a black line
continue;
}
//split till the first space
int deilimiterIdx = line.indexOf(':');
String username = line.substring(0, deilimiterIdx).trim();
String password = line.substring(deilimiterIdx + 1).trim();
m_identities.put(username, password);
}
}
} catch (IOException ex) {
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
−0
broker/src/main/java/io/moquette/spi/impl/subscriptions/DumpTreeVisitor.java
+33
−0
broker/src/main/java/io/moquette/spi/impl/subscriptions/SubscriptionCounterVisitor.java
+2
−2
broker/src/main/java/io/moquette/spi/impl/subscriptions/Token.java
+5
−9
broker/src/main/java/io/moquette/spi/impl/subscriptions/Topic.java
+4
−4
broker/src/test/java/io/moquette/Utils.java
+24
−5
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
broker/src/main/java/io/moquette/spi/impl/subscriptions/DumpTreeVisitor.java
+33
−0
broker/src/main/java/io/moquette/spi/impl/subscriptions/SubscriptionCounterVisitor.java
+2
−2
broker/src/main/java/io/moquette/spi/impl/subscriptions/Token.java
+5
−9
broker/src/main/java/io/moquette/spi/impl/subscriptions/Topic.java
+4
−4
broker/src/test/java/io/moquette/Utils.java
+24
−5
broker/src/test/java/io/moquette/persistence/MessageStoreTCK.java
LOG.info("Netty is using NIO");
m_bossGroup = new NioEventLoopGroup();
m_workerGroup = new NioEventLoopGroup();
channelClass = NioServerSocketChannel.class;
}
final NettyMQTTHandler mqttHandler = new NettyMQTTHandler(processor);
final boolean useFineMetrics = Boolean.parseBoolean(props.getProperty(METRICS_ENABLE_PROPERTY_NAME, "false"));
if (useFineMetrics) {
DropWizardMetricsHandler metricsHandler = new DropWizardMetricsHandler();
metricsHandler.init(props);
this.metrics = Optional.of(metricsHandler);
} else {
this.metrics = Optional.empty();
}
final boolean useBugSnag = Boolean.parseBoolean(props.getProperty(BUGSNAG_ENABLE_PROPERTY_NAME, "false"));
if (useBugSnag) {
BugSnagErrorsHandler bugSnagHandler = new BugSnagErrorsHandler();
return this.sessionsStore.countPubReleaseWaitingPubComplete(clientID);
}
@Override
public int getInflightMessagesNo() {
return this.sessionsStore.getInflightMessagesNo(clientID);
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
import java.util.concurrent.TimeUnit;
import static io.moquette.BrokerConstants.*;
import static io.netty.channel.ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE;
public class NettyAcceptor implements ServerAcceptor {
@@ -85,7 +87,7 @@ protected void encode(ChannelHandlerContext chc, ByteBuf bb, List<Object> out) t
}
}
abstract class PipelineInitializer {
abstract static class PipelineInitializer {
abstract void init(ChannelPipeline pipeline) throws Exception;
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
import java.util.List;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IStorageService.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Reject
Save preferences
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
m_stopLatch = new CountDownLatch(1);
disruptorPublish(new StopEvent());
try {
//wait the callback notification from the protocol processor thread
boolean elapsed = !m_stopLatch.await(10, TimeUnit.SECONDS);
if (elapsed) {
LOG.error("Can't stop the server in 10 seconds");
}
} catch (InterruptedException ex) {
LOG.error(null, ex);
}
}
public void onEvent(ValueEvent t, long l, boolean bln) throws Exception {
MessagingEvent evt = t.getEvent();
LOG.info("onEvent processing messaging event from input ringbuffer {}", evt);
if (evt instanceof PublishEvent) {
+ channelState.get() + '}';
}
@Override
public boolean equals(Object o) {
if (this == o)
return true;
if (o == null || getClass() != o.getClass())
return false;
ConnectionDescriptor that = (ConnectionDescriptor) o;
if (clientID != null ? !clientID.equals(that.clientID) : that.clientID != null)
return false;
return !(channel != null ? !channel.equals(that.channel) : that.channel != null);
}
public BytesMetrics getBytesMetrics() {
return BytesMetricsHandler.getBytesMetrics(channel);
}
allSubscriptions.addAll(entry.subscriptions.values());
}
return allSubscriptions;
}
@Override
public Collection<Subscription> listClientSubscriptions(String clientID) {
final Session session = sessions.get(clientID);
if (session == null) {
throw new IllegalStateException("Asking for subscriptions of not persisted client: " + clientID);
}
return session.subscriptions.values();
}
@Override
public Subscription reload(Subscription subcription) {
String clientID = subcription.getClientId();
if (!sessions.containsKey(clientID)) {
BatchEventProcessor<ValueEvent> m_eventProcessor;
private RingBuffer<ValueEvent> m_ringBuffer;
ProtocolProcessor() {}
/**
* @param subscriptions the subscription store where are stored all the existing
* clients subscriptions.
* @param storageService the persistent store to use for save/load of messages
* for QoS1 and QoS2 handling.
* @param authenticator the authenticator used in connect messages
*/
void init(SubscriptionsStore subscriptions, IStorageService storageService,
IAuthenticator authenticator) {
//m_clientIDs = clientIDs;
this.subscriptions = subscriptions;
m_authenticator = authenticator;
m_storageService = storageService;
storedEvents = m_persistentMessageStore.get(clientID);
}
storedEvents.add(evt);
m_persistentMessageStore.put(clientID, storedEvents);
}
@Override
public List<PublishEvent> retrievePersistedPublishes(String clientID) {
return m_persistentMessageStore.get(clientID);
}
public void cleanPersistedPublishMessage(String clientID, int messageID) {
List<PublishEvent> events = m_persistentMessageStore.get(clientID);
PublishEvent toRemoveEvt = null;
for (PublishEvent evt : events) {
if (evt.getMessageID() == messageID) {
toRemoveEvt = evt;
}
String storeFile = Server.STORAGE_FILE_PATH;
pageFactory = new PageFileFactory();
File tmpFile;
try {
tmpFile = new File(storeFile);
tmpFile.createNewFile();
} catch (IOException ex) {
LOG.error(null, ex);
throw new MQTTException("Can't create temp file for subscriptions storage [" + storeFile + "]", ex);
}
pageFactory.setFile(tmpFile);
pageFactory.open();
PageFile pageFile = pageFactory.getPageFile();
m_multiIndexFactory = new MultiIndexFactory(pageFile);
}
public void initStore() {
initRetainedStore();
throw new ParseException("Failed to read", 1);
}
}
public boolean checkValid(String username, String password) {
String foundPwq = m_identities.get(username);
if (foundPwq == null) {
return false;
}
return foundPwq.equals(password);
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
broker/src/test/java/io/moquette/persistence/MessageStoreTCK.java
+1
−1
broker/src/test/java/io/moquette/server/MessageCollector.java
+3
−1
broker/src/test/java/io/moquette/server/ServerIntegrationFuseTest.java
+4
−3
broker/src/test/java/io/moquette/server/ServerIntegrationHazelcastHandlerInterceptorTest.java
+10
−10
broker/src/test/java/io/moquette/server/ServerIntegrationPahoTest.java
+11
−9
broker/src/test/java/io/moquette/server/ServerIntegrationQoSValidationTest.java
+8
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
+1
−1
broker/src/test/java/io/moquette/server/MessageCollector.java
+3
−1
broker/src/test/java/io/moquette/server/ServerIntegrationFuseTest.java
+4
−3
broker/src/test/java/io/moquette/server/ServerIntegrationHazelcastHandlerInterceptorTest.java
+10
−10
bugSnagHandler.init(props);
this.errorsCather = Optional.of(bugSnagHandler);
} else {
this.errorsCather = Optional.empty();
}
initializePlainTCPTransport(mqttHandler, props);
initializeWebSocketTransport(mqttHandler, props);
String sslTcpPortProp = props.getProperty(BrokerConstants.SSL_PORT_PROPERTY_NAME);
String wssPortProp = props.getProperty(BrokerConstants.WSS_PORT_PROPERTY_NAME);
if (sslTcpPortProp != null || wssPortProp != null) {
SSLContext sslContext = sslCtxCreator.initSSLContext();
if (sslContext == null) {
LOG.error("Can't initialize SSLHandler layer! Exiting, check your configuration of jks");
return;
}
initializeSSLTCPTransport(mqttHandler, props, sslContext);
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
}
@@ -197,7 +199,7 @@ public void initChannel(SocketChannel ch) throws Exception {
// Bind and start to accept incoming connections.
ChannelFuture f = b.bind(host, port);
f.sync();
f.sync().addListener(FIRE_EXCEPTION_ON_FAILURE);
} catch (InterruptedException ex) {
LOG.error("An interruptedException was caught while initializing server. Protocol={}", protocol, ex);
}
@@ -349,6 +351,8 @@ void init(ChannelPipeline pipeline) throws Exception {
});
}
@SuppressWarnings("FutureReturnValueIgnored")
@Override
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
Reject
Save preferences
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
m_processor.processPublish((PublishEvent) evt);
} else if (evt instanceof StopEvent) {
processStop();
} else if (evt instanceof DisconnectEvent) {
DisconnectEvent disEvt = (DisconnectEvent) evt;
String clientID = (String) disEvt.getSession().getAttribute(Constants.ATTR_CLIENTID);
m_processor.processDisconnect(disEvt.getSession(), clientID, false);
} else if (evt instanceof ProtocolEvent) {
ServerChannel session = ((ProtocolEvent) evt).getSession();
AbstractMessage message = ((ProtocolEvent) evt).getMessage();
if (message instanceof ConnectMessage) {
m_processor.processConnect(session, (ConnectMessage) message);
} else if (message instanceof PublishMessage) {
PublishEvent pubEvt;
public MessageMetrics getMessageMetrics() {
return MessageMetricsHandler.getMessageMetrics(channel);
}
@Override
public int hashCode() {
int result = clientID != null ? clientID.hashCode() : 0;
result = 31 * result + (channel != null ? channel.hashCode() : 0);
return result;
}
}
Copy lines
Copy permalink
View git blame
LOG.error("Can't find the session for client <{}>", clientID);
return null;
}
Map<Topic, Subscription> subscriptions = sessions.get(clientID).subscriptions;
if (subscriptions == null || subscriptions.isEmpty()) {
return null;
}
return subscriptions.get(subcription.getTopicFilter());
}
@Override
public StoredMessage inFlightAck(String clientID, int messageID) {
return getSession(clientID).outboundFlightMessages.remove(messageID);
}
@Override
public void inFlight(String clientID, int messageID, StoredMessage msg) {
Session session = sessions.get(clientID);
//init the output ringbuffer
m_executor = Executors.newFixedThreadPool(1);
m_ringBuffer = new RingBuffer<ValueEvent>(ValueEvent.EVENT_FACTORY, 1024 * 32);
SequenceBarrier barrier = m_ringBuffer.newBarrier();
m_eventProcessor = new BatchEventProcessor<ValueEvent>(m_ringBuffer, barrier, this);
//TODO in a presentation is said to don't do the followinf line!!
m_ringBuffer.setGatingSequences(m_eventProcessor.getSequence());
m_executor.submit(m_eventProcessor);
}
void processConnect(ServerChannel session, ConnectMessage msg) {
LOG.debug("processConnect for client {}", msg.getClientID());
if (msg.getProcotolVersion() != 0x03) {
ConnAckMessage badProto = new ConnAckMessage();
badProto.setReturnCode(ConnAckMessage.UNNACEPTABLE_PROTOCOL_VERSION);
LOG.warn("processConnect sent bad proto ConnAck");
}
events.remove(toRemoveEvt);
m_persistentMessageStore.put(clientID, events);
}
public void cleanPersistedPublishes(String clientID) {
m_persistentMessageStore.remove(clientID);
}
public void cleanInFlight(String msgID) {
m_inflightStore.remove(msgID);
}
public void addInFlight(PublishEvent evt, String publishKey) {
m_inflightStore.put(publishKey, evt);
}
public void addNewSubscription(Subscription newSubscription, String clientID) {
if (!m_persistentSubscriptions.containsKey(clientID)) {
m_persistentSubscriptions.put(clientID, new HashSet<Subscription>());
//init the message store for QoS 1/2 messages in clean sessions
initPersistentMessageStore();
initInflightMessageStore();
initPersistentSubscriptions();
initPersistentQoS2MessageStore();
}
private void initRetainedStore() {
BTreeIndexFactory<String, StoredMessage> indexFactory = new BTreeIndexFactory<String, StoredMessage>();
indexFactory.setKeyCodec(StringCodec.INSTANCE);
m_retainedStore = (SortedIndex<String, StoredMessage>) m_multiIndexFactory.openOrCreate("retained", indexFactory);
}
private void initPersistentMessageStore() {
BTreeIndexFactory<String, List<StoredPublishEvent>> indexFactory = new BTreeIndexFactory<String, List<StoredPublishEvent>>();
indexFactory.setKeyCodec(StringCodec.INSTANCE);
m_persistentMessageStore = (SortedIndex<String, List<StoredPublishEvent>>) m_multiIndexFactory.openOrCreate("persistedMessages", indexFactory);
}
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
−6
broker/src/test/java/io/moquette/server/ServerIntegrationRestartTest.java
+2
−1
broker/src/test/java/io/moquette/server/ServerIntegrationSSLTest.java
+1
−0
broker/src/test/java/io/moquette/server/ServerIntegrationWebSocketTest.java
+3
−2
broker/src/test/java/io/moquette/server/ServerLowlevelMessagesIntegrationTests.java
+5
−4
broker/src/test/java/io/moquette/spi/ClientSessionTest.java
+17
broker/src/test/java/io/moquette/server/ServerIntegrationPahoTest.java
+11
−9
broker/src/test/java/io/moquette/server/ServerIntegrationQoSValidationTest.java
+8
−6
broker/src/test/java/io/moquette/server/ServerIntegrationRestartTest.java
+2
−1
broker/src/test/java/io/moquette/server/ServerIntegrationSSLTest.java
+1
−0
broker/src/test/java/io/moquette/server/ServerIntegrationWebSocketTest.java
+3
−2
initializeWSSTransport(mqttHandler, props, sslContext);
}
}
private void initFactory(String host, int port, String protocol, final PipelineInitializer pipeliner) {
LOG.info("Initializing server. Protocol={}", protocol);
ServerBootstrap b = new ServerBootstrap();
b.group(m_bossGroup, m_workerGroup).channel(channelClass)
.childHandler(new ChannelInitializer<SocketChannel>() {
@Override
public void initChannel(SocketChannel ch) throws Exception {
ChannelPipeline pipeline = ch.pipeline();
try {
pipeliner.init(pipeline);
} catch (Throwable th) {
LOG.error("Severe error during pipeline creation", th);
throw th;
}
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
public void close() {
LOG.info("Closing Netty acceptor...");
if (m_workerGroup == null || m_bossGroup == null) {
14
broker/src/main/java/io/moquette/server/netty/NettyMQTTHandler.java
Show comments
View file
Edit file
Delete file
@@ -24,6 +24,8 @@
import io.netty.util.ReferenceCountUtil;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
import java.nio.ByteBuffer;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/DebugUtils.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
Reject
Save preferences
String clientID = (String) session.getAttribute(Constants.ATTR_CLIENTID);
pubEvt = new PublishEvent((PublishMessage) message, clientID, session);
// if (message.getQos() == QOSType.MOST_ONE) {
// pubEvt = new PublishEvent(pubMsg.getTopicName(), pubMsg.getQos(), pubMsg.getPayload(), pubMsg.isRetainFlag(), clientID, session);
//
// } else {
// pubEvt = new PublishEvent(pubMsg.getTopicName(), pubMsg.getQos(), pubMsg.getPayload(), pubMsg.isRetainFlag(), clientID, pubMsg.getMessageID(), session);
// }
m_processor.processPublish(pubEvt);
} else if (message instanceof DisconnectMessage) {
String clientID = (String) session.getAttribute(Constants.ATTR_CLIENTID);
boolean cleanSession = (Boolean) session.getAttribute(Constants.CLEAN_SESSION);
//close the TCP connection
//session.close(true);
m_processor.processDisconnect(session, clientID, cleanSession);
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
if (session == null) {
LOG.error("Can't find the session for client <{}>", clientID);
return;
}
session.outboundFlightMessages.put(messageID, msg);
}
/**
* Return the next valid packetIdentifier for the given client session.
*/
@Override
public int nextPacketID(String clientID) {
if (!sessions.containsKey(clientID)) {
LOG.error("Can't find the session for client <{}>", clientID);
return -1;
}
Map<Integer, StoredMessage> m = sessions.get(clientID).outboundFlightMessages;
int maxId = m.keySet().isEmpty() ? 0 : Collections.max(m.keySet());
session.write(badProto);
session.close(false);
return;
}
if (msg.getClientID() == null || msg.getClientID().length() > 23) {
ConnAckMessage okResp = new ConnAckMessage();
okResp.setReturnCode(ConnAckMessage.IDENTIFIER_REJECTED);
session.write(okResp);
return;
}
//if an old client with the same ID already exists close its session.
if (m_clientIDs.containsKey(msg.getClientID())) {
//clean the subscriptions if the old used a cleanSession = true
ServerChannel oldSession = m_clientIDs.get(msg.getClientID()).getSession();
boolean cleanSession = (Boolean) oldSession.getAttribute(Constants.CLEAN_SESSION);
if (cleanSession) {
//cleanup topic subscriptions
}
Set<Subscription> subs = m_persistentSubscriptions.get(clientID);
if (!subs.contains(newSubscription)) {
subs.add(newSubscription);
m_persistentSubscriptions.put(clientID, subs);
}
}
public void removeAllSubscriptions(String clientID) {
m_persistentSubscriptions.remove(clientID);
}
public List<Subscription> retrieveAllSubscriptions() {
List<Subscription> allSubscriptions = new ArrayList<Subscription>();
for (Map.Entry<String, Set<Subscription>> entry : m_persistentSubscriptions.entrySet()) {
allSubscriptions.addAll(entry.getValue());
}
private void initPersistentSubscriptions() {
BTreeIndexFactory<String, Set<Subscription>> indexFactory = new BTreeIndexFactory<String, Set<Subscription>>();
indexFactory.setKeyCodec(StringCodec.INSTANCE);
m_persistentSubscriptions = (SortedIndex<String, Set<Subscription>>) m_multiIndexFactory.openOrCreate("subscriptions", indexFactory);
}
/**
* Initialize the message store used to handle the temporary storage of QoS 1,2
* messages in flight.
*/
private void initInflightMessageStore() {
BTreeIndexFactory<String, StoredPublishEvent> indexFactory = new BTreeIndexFactory<String, StoredPublishEvent>();
indexFactory.setKeyCodec(StringCodec.INSTANCE);
m_inflightStore = (SortedIndex<String, StoredPublishEvent>) m_multiIndexFactory.openOrCreate("inflight", indexFactory);
}
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
−15
broker/src/test/java/io/moquette/spi/impl/AbstractProtocolProcessorCommonUtils.java
+2
−1
broker/src/test/java/io/moquette/spi/impl/BrokerInterceptorTest.java
+4
−1
broker/src/test/java/io/moquette/spi/impl/MockAuthenticator.java
+3
−3
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessorTest.java
+4
−3
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessor_CONNECT_Test.java
+2
broker/src/test/java/io/moquette/server/ServerLowlevelMessagesIntegrationTests.java
+5
−4
broker/src/test/java/io/moquette/spi/ClientSessionTest.java
+17
−15
broker/src/test/java/io/moquette/spi/impl/AbstractProtocolProcessorCommonUtils.java
+2
−1
broker/src/test/java/io/moquette/spi/impl/BrokerInterceptorTest.java
+4
−1
broker/src/test/java/io/moquette/spi/impl/MockAuthenticator.java
+3
−3
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessorTest.java
}
}).option(ChannelOption.SO_BACKLOG, nettySoBacklog).option(ChannelOption.SO_REUSEADDR, nettySoReuseaddr)
.option(ChannelOption.TCP_NODELAY, nettyTcpNodelay)
.childOption(ChannelOption.SO_KEEPALIVE, nettySoKeepalive);
try {
// Bind and start to accept incoming connections.
ChannelFuture f = b.bind(host, port);
f.sync().addListener(FIRE_EXCEPTION_ON_FAILURE);
} catch (InterruptedException ex) {
LOG.error("An interruptedException was caught while initializing server. Protocol={}", protocol, ex);
}
}
private void initializePlainTCPTransport(final NettyMQTTHandler handler,
IConfig props) throws IOException {
LOG.info("Configuring TCP MQTT transport");
final MoquetteIdleTimeoutHandler timeoutHandler = new MoquetteIdleTimeoutHandler();
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
import static io.netty.handler.codec.mqtt.MqttQoS.AT_MOST_ONCE;
@Sharable
@@ -78,16 +80,16 @@ public void channelRead(ChannelHandlerContext ctx, Object message) {
false,
0);
MqttMessage pingResp = new MqttMessage(pingHeader);
ctx.writeAndFlush(pingResp);
ctx.writeAndFlush(pingResp).addListener(CLOSE_ON_FAILURE);
break;
default:
LOG.error("Unkonwn MessageType:{}", messageType);
break;
}
} catch (Throwable ex) {
LOG.error("Exception was caught while processing MQTT message, " + ex.getCause(), ex);
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.nio.ByteBuffer;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/FileAuthenticator.java
Show comments
View file
} else if (message instanceof UnsubscribeMessage) {
UnsubscribeMessage unsubMsg = (UnsubscribeMessage) message;
String clientID = (String) session.getAttribute(Constants.ATTR_CLIENTID);
m_processor.processUnsubscribe(session, clientID, unsubMsg.topics(), unsubMsg.getMessageID());
} else if (message instanceof SubscribeMessage) {
String clientID = (String) session.getAttribute(Constants.ATTR_CLIENTID);
boolean cleanSession = (Boolean) session.getAttribute(Constants.CLEAN_SESSION);
m_processor.processSubscribe(session, (SubscribeMessage) message, clientID, cleanSession);
} else if (message instanceof PubRelMessage) {
String clientID = (String) session.getAttribute(Constants.ATTR_CLIENTID);
int messageID = ((PubRelMessage) message).getMessageID();
m_processor.processPubRel(clientID, messageID);
} else if (message instanceof PubRecMessage) {
String clientID = (String) session.getAttribute(Constants.ATTR_CLIENTID);
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
int nextPacketId = (maxId + 1) % 0xFFFF;
m.put(nextPacketId, null);
return nextPacketId;
}
@Override
public BlockingQueue<StoredMessage> queue(String clientID) {
if (!sessions.containsKey(clientID)) {
LOG.error("Can't find the session for client <{}>", clientID);
return null;
}
return sessions.get(clientID).queue;
}
@Override
public void dropQueue(String clientID) {
final Session session = sessions.get(clientID);
session.queue.clear();
processRemoveAllSubscriptions(msg.getClientID());
}
m_clientIDs.get(msg.getClientID()).getSession().close(false);
}
ConnectionDescriptor connDescr = new ConnectionDescriptor(msg.getClientID(), session, msg.isCleanSession());
m_clientIDs.put(msg.getClientID(), connDescr);
int keepAlive = msg.getKeepAlive();
LOG.debug("Connect with keepAlive {} s", keepAlive);
session.setAttribute(Constants.KEEP_ALIVE, keepAlive);
session.setAttribute(Constants.CLEAN_SESSION, msg.isCleanSession());
//used to track the client in the subscription and publishing phases.
session.setAttribute(Constants.ATTR_CLIENTID, msg.getClientID());
session.setIdleTime(Math.round(keepAlive * 1.5f));
//Handle will flag
if (msg.isWillFlag()) {
AbstractMessage.QOSType willQos = AbstractMessage.QOSType.values()[msg.getWillQos()];
return allSubscriptions;
}
public void close() {
//To change body of implemented methods use File | Settings | File Templates.
}
public void persistQoS2Message(String publishKey, PublishEvent evt) {
m_qos2Store.put(publishKey, evt);
}
public void removeQoS2Message(String publishKey) {
m_qos2Store.remove(publishKey);
}
public PublishEvent retrieveQoS2Message(String publishKey) {
return m_qos2Store.get(publishKey);
}
}
private void initPersistentQoS2MessageStore() {
BTreeIndexFactory<String, StoredPublishEvent> indexFactory = new BTreeIndexFactory<String, StoredPublishEvent>();
indexFactory.setKeyCodec(StringCodec.INSTANCE);
m_qos2Store = (SortedIndex<String, StoredPublishEvent>) m_multiIndexFactory.openOrCreate("qos2Store", indexFactory);
}
@Override
public void storeRetained(String topic, ByteBuffer message, AbstractMessage.QOSType qos) {
if (!message.hasRemaining()) {
//clean the message from topic
m_retainedStore.remove(topic);
} else {
//store the message to the topic
byte[] raw = new byte[message.remaining()];
message.get(raw);
m_retainedStore.put(topic, new StoredMessage(raw, qos, topic));
−2
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessor_VariousUseCases_Test.java
+5
−3
broker/src/test/java/io/moquette/spi/impl/security/DBAuthenticatorTest.java
+5
−3
broker/src/test/java/io/moquette/spi/impl/security/FileAuthenticatorTest.java
+5
−4
broker/src/test/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectoryMatchingTest.java
+7
+4
−3
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessor_CONNECT_Test.java
+2
−2
broker/src/test/java/io/moquette/spi/impl/ProtocolProcessor_VariousUseCases_Test.java
+5
−3
broker/src/test/java/io/moquette/spi/impl/security/DBAuthenticatorTest.java
+5
String host = props.getProperty(BrokerConstants.HOST_PROPERTY_NAME);
String tcpPortProp = props.getProperty(PORT_PROPERTY_NAME, DISABLED_PORT_BIND);
if (DISABLED_PORT_BIND.equals(tcpPortProp)) {
DISABLED_PORT_BIND);
return;
}
int port = Integer.parseInt(tcpPortProp);
initFactory(host, port, "TCP MQTT", new PipelineInitializer() {
@Override
void init(ChannelPipeline pipeline) {
pipeline.addFirst("idleStateHandler", new IdleStateHandler(nettyChannelTimeoutSeconds, 0, 0));
pipeline.addAfter("idleStateHandler", "idleEventHandler", timeoutHandler);
// pipeline.addLast("logger", new LoggingHandler("Netty", LogLevel.ERROR));
LOG.error("Exception was caught while processing MQTT message, {}", ex.getCause(), ex);
ctx.fireExceptionCaught(ex);
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
} finally {
ReferenceCountUtil.release(msg);
}
@@ -97,17 +99,17 @@ public void channelRead(ChannelHandlerContext ctx, Object message) {
public void channelInactive(ChannelHandlerContext ctx) throws Exception {
String clientID = NettyUtils.clientID(ctx.channel());
if (clientID != null && !clientID.isEmpty()) {
LOG.info("Notifying connection lost event. MqttClientId = {}.", clientID);
LOG.info("Notifying connection lost event. MqttClientId = {}", clientID);
m_processor.processConnectionLost(clientID, ctx.channel());
}
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
int messageID = ((PubRecMessage) message).getMessageID();
m_processor.processPubRec(clientID, messageID);
} else if (message instanceof PubCompMessage) {
String clientID = (String) session.getAttribute(Constants.ATTR_CLIENTID);
int messageID = ((PubCompMessage) message).getMessageID();
m_processor.processPubComp(clientID, messageID);
} else if (message instanceof PubAckMessage) {
String clientID = (String) session.getAttribute(Constants.ATTR_CLIENTID);
int messageID = ((PubAckMessage) message).getMessageID();
m_processor.processPubAck(clientID, messageID);
} else {
throw new RuntimeException("Illegal message received " + message);
}
} else if (evt instanceof InitEvent) {
processInit(((InitEvent) evt).getConfig());
Accept
Reject
Save preferences
session.outboundFlightMessages.clear();
session.inboundFlightMessages.clear();
}
@Override
public void moveInFlightToSecondPhaseAckWaiting(String clientID, int messageID, StoredMessage msg) {
Session session = sessions.get(clientID);
if (session == null) {
LOG.error("Can't find the session for client <{}>", clientID);
return;
}
session.secondPhaseStore.put(messageID, msg);
session.outboundFlightMessages.put(messageID, msg);
}
@Override
public StoredMessage completeReleasedPublish(String clientID, int messageID) {
byte[] willPayload = msg.getWillMessage().getBytes();
ByteBuffer bb = (ByteBuffer) ByteBuffer.allocate(willPayload.length).put(willPayload).flip();
PublishEvent pubEvt = new PublishEvent(msg.getWillTopic(), willQos,
bb, msg.isWillRetain(), msg.getClientID(), session);
processPublish(pubEvt);
}
//handle user authentication
if (msg.isUserFlag()) {
String pwd = null;
if (msg.isPasswordFlag()) {
pwd = msg.getPassword();
}
if (!m_authenticator.checkValid(msg.getUsername(), pwd)) {
ConnAckMessage okResp = new ConnAckMessage();
okResp.setReturnCode(ConnAckMessage.BAD_USERNAME_OR_PASSWORD);
session.write(okResp);
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
}
}
@Override
public Collection<StoredMessage> searchMatching(IMatchingCondition condition) {
LOG.debug("searchMatching scanning all retained messages, presents are {}", m_retainedStore.size());
List<StoredMessage> results = new ArrayList<StoredMessage>();
for (Map.Entry<String, StoredMessage> entry : m_retainedStore) {
StoredMessage storedMsg = entry.getValue();
if (condition.match(entry.getKey())) {
results.add(storedMsg);
}
}
return results;
}
−14
broker/src/test/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectoryTest.java
+0
−1
broker/src/test/java/io/moquette/spi/impl/subscriptions/TopicTest.java
+8
−2
broker/src/test/java/io/moquette/testclient/Client.java
+4
−2
broker/src/test/java/io/moquette/testclient/ClientNettyMQTTHandler.java
+8
−6
broker/src/test/java/io/moquette/testclient/RawClient.java
−3
broker/src/test/java/io/moquette/spi/impl/security/FileAuthenticatorTest.java
+5
−4
broker/src/test/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectoryMatchingTest.java
+7
−14
broker/src/test/java/io/moquette/spi/impl/subscriptions/CTrieSubscriptionDirectoryTest.java
+0
−1
broker/src/test/java/io/moquette/spi/impl/subscriptions/TopicTest.java
+8
−2
broker/src/test/java/io/moquette/testclient/Client.java
Sign in to GitHub · GitHub
if (errorsCather.isPresent()) {
pipeline.addLast("bugsnagCatcher", errorsCather.get());
}
pipeline.addFirst("bytemetrics", new BytesMetricsHandler(m_bytesMetricsCollector));
pipeline.addLast("decoder", new MqttDecoder(maxBytesInMessage));
pipeline.addLast("encoder", MqttEncoder.INSTANCE);
pipeline.addLast("metrics", new MessageMetricsHandler(m_metricsCollector));
pipeline.addLast("messageLogger", new MQTTMessageLogger());
if (metrics.isPresent()) {
pipeline.addLast("wizardMetrics", metrics.get());
}
pipeline.addLast("handler", handler);
}
});
}
private void initializeWebSocketTransport(final NettyMQTTHandler handler, IConfig props) throws IOException {
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
}
@Override
public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {
LOG.error("An unexpected exception was caught while processing MQTT message. Closing Netty channel. CId={}, " +
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
}
@Override
4
broker/src/main/java/io/moquette/server/netty/metrics/BytesMetricsHandler.java
Show comments
View file
Edit file
Delete file
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.io.BufferedReader;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/HawtDBStorageService.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
} else if (evt instanceof LostConnectionEvent) {
LostConnectionEvent lostEvt = (LostConnectionEvent) evt;
m_processor.proccessConnectionLost(lostEvt.getClientID());
}
}
private void processInit(Properties props) {
m_storageService = new HawtDBStorageService();
m_storageService.initStore();
subscriptions.init(m_storageService);
String passwdPath = props.getProperty("password_file");
String configPath = System.getProperty("moquette.path", null);
IAuthenticator authenticator = new FileAuthenticator(configPath, passwdPath);
m_processor.init(subscriptions, m_storageService, authenticator);
}
private void processStop() {
return getSession(clientID).secondPhaseStore.remove(messageID);
}
@Override
public int getInflightMessagesNo(String clientID) {
Session session = sessions.get(clientID);
if (session == null) {
LOG.error("Can't find the session for client <{}>", clientID);
return 0;
}
return session.inboundFlightMessages.size() +
// countPubReleaseWaitingPubComplete(clientID) +
session.outboundFlightMessages.size();
}
@Override
public int countPubReleaseWaitingPubComplete(String clientID) {
if (!sessions.containsKey(clientID)) {
return;
}
}
subscriptions.activate(msg.getClientID());
//handle clean session flag
if (msg.isCleanSession()) {
//remove all prev subscriptions
//cleanup topic subscriptions
processRemoveAllSubscriptions(msg.getClientID());
}
ConnAckMessage okResp = new ConnAckMessage();
okResp.setReturnCode(ConnAckMessage.CONNECTION_ACCEPTED);
LOG.debug("processConnect sent OK ConnAck");
session.write(okResp);
if (!msg.isCleanSession()) {
//force the republish of stored QoS1 and QoS2
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
public void storePublishForFuture(PublishEvent evt) {
List<StoredPublishEvent> storedEvents;
String clientID = evt.getClientID();
if (!m_persistentMessageStore.containsKey(clientID)) {
storedEvents = new ArrayList<StoredPublishEvent>();
} else {
storedEvents = m_persistentMessageStore.get(clientID);
}
storedEvents.add(convertToStored(evt));
m_persistentMessageStore.put(clientID, storedEvents);
//NB rewind the evt message content
}
@Override
public List<PublishEvent> retrievePersistedPublishes(String clientID) {
List<StoredPublishEvent> storedEvts = m_persistentMessageStore.get(clientID);
if (storedEvts == null) {
moquette/about.html at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
+2
−2
checkstyle.xml
+9
−11
distribution/build.gradle
+5
−3
embedding_moquette/src/main/java/io/moquette/testembedded/EmbeddedLauncher.java
+15
−0
h2_storage/src/main/java/io/moquette/persistence/h2/H2PersistentQueue.java
+6
−10
h2_storage/src/main/java/io/moquette/persistence/h2/H2PersistentStore.java
+17
+4
−2
broker/src/test/java/io/moquette/testclient/ClientNettyMQTTHandler.java
+8
−6
broker/src/test/java/io/moquette/testclient/RawClient.java
+2
−2
checkstyle.xml
+9
−11
distribution/build.gradle
+5
−3
embedding_moquette/src/main/java/io/moquette/testembedded/EmbeddedLauncher.java
+15
−0
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
LOG.info("Configuring Websocket MQTT transport");
String webSocketPortProp = props.getProperty(WEB_SOCKET_PORT_PROPERTY_NAME, DISABLED_PORT_BIND);
if (DISABLED_PORT_BIND.equals(webSocketPortProp)) {
// Do nothing no WebSocket configured
BrokerConstants.WEB_SOCKET_PORT_PROPERTY_NAME, DISABLED_PORT_BIND);
return;
}
int port = Integer.parseInt(webSocketPortProp);
final MoquetteIdleTimeoutHandler timeoutHandler = new MoquetteIdleTimeoutHandler();
String host = props.getProperty(BrokerConstants.HOST_PROPERTY_NAME);
initFactory(host, port, "Websocket MQTT", new PipelineInitializer() {
@Override
void init(ChannelPipeline pipeline) {
pipeline.addLast(new HttpServerCodec());
pipeline.addLast("aggregator", new HttpObjectAggregator(65536));
pipeline.addLast("webSocketHandler",
moquette/IMatchingCondition.java at 666cc29d47f57fc00798856e335e5270c0075a10 · moquette-io/moquette · GitHub
@@ -24,6 +24,8 @@
import io.netty.util.Attribute;
import io.netty.util.AttributeKey;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
public class BytesMetricsHandler extends ChannelDuplexHandler {
private static final AttributeKey<BytesMetrics> ATTR_KEY_METRICS = AttributeKey.valueOf("BytesMetrics");
@@ -53,7 +55,7 @@ public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
BytesMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
metrics.incrementWrote(((ByteBuf) msg).writableBytes());
ctx.write(msg, promise);
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
@Override
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.io.File;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/MemoryStorageService.java
Show comments
moquette/license.txt at af8c0e3b9a186faf144f51218b934188af8b1120 · moquette-io/moquette · GitHub
Added copyright and license notice to every source file, added about.… · moquette-io/moquette@666cc29 · GitHub
LOG.debug("processStop invoked");
m_storageService.close();
// m_eventProcessor.halt();
m_executor.shutdown();
subscriptions = null;
m_stopLatch.countDown();
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Added copyright and license notice to every source file, added about.… · moquette-io/moquette@666cc29 · GitHub
LOG.error("Can't find the session for client <{}>", clientID);
return 0;
}
return sessions.get(clientID).secondPhaseStore.size();
}
@Override
public void removeTemporaryQoS2(String clientID) {
LOG.debug("Session cleanup for client <{}>", clientID);
Session session = sessions.get(clientID);
if (session == null) {
LOG.error("Can't find the session for client <{}>", clientID);
return;
}
LOG.info("Removing stored messages with QoS 2. ClientId={}", clientID);
session.secondPhaseStore.clear();
republishStored(msg.getClientID());
}
}
private void republishStored(String clientID) {
LOG.trace("republishStored invoked");
List<PublishEvent> publishedEvents = m_storageService.retrievePersistedPublishes(clientID);
if (publishedEvents == null) {
LOG.info("No stored messages for client <{}>", clientID);
return;
}
LOG.info("republishing stored messages to client <{}>", clientID);
for (PublishEvent pubEvt : publishedEvents) {
sendPublish(pubEvt.getClientID(), pubEvt.getTopic(), pubEvt.getQos(),
pubEvt.getMessage(), false, pubEvt.getMessageID());
}
}
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
return null;
}
List<PublishEvent> liveEvts = new ArrayList<PublishEvent>();
for (StoredPublishEvent storedEvt : storedEvts) {
liveEvts.add(convertFromStored(storedEvt));
}
return liveEvts;
}
public void cleanPersistedPublishMessage(String clientID, int messageID) {
List<StoredPublishEvent> events = m_persistentMessageStore.get(clientID);
if (events == null) {
return;
}
StoredPublishEvent toRemoveEvt = null;
for (StoredPublishEvent evt : events) {
if (evt.getMessageID() == messageID) {
Updated the pax-runner to fix issue #40 · moquette-io/moquette@0bbe719 · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
−11
h2_storage/src/main/java/io/moquette/persistence/h2/H2SessionsStore.java
+17
−2
h2_storage/src/test/java/io/moquette/persistence/h2/H2PersistentQueueTest.java
+2
−1
h2_storage/src/test/java/io/moquette/persistence/h2/H2SessionsStoreTest.java
+1
−1
mapdb_storage/src/main/java/io/moquette/persistence/mapdb/MapDBMessagesStore.java
+1
−0
mapdb_storage/src/main/java/io/moquette/persistence/mapdb/MapDBPersistentStore.java
+8
−6
h2_storage/src/main/java/io/moquette/persistence/h2/H2PersistentQueue.java
+6
−10
h2_storage/src/main/java/io/moquette/persistence/h2/H2PersistentStore.java
+17
−11
h2_storage/src/main/java/io/moquette/persistence/h2/H2SessionsStore.java
+17
−2
h2_storage/src/test/java/io/moquette/persistence/h2/H2PersistentQueueTest.java
+2
−1
h2_storage/src/test/java/io/moquette/persistence/h2/H2SessionsStoreTest.java
+1
−1
mapdb_storage/src/main/java/io/moquette/persistence/mapdb/MapDBMessagesStore.java
Added Apache 2.0 license · moquette-io/moquette@af8c0e3 · GitHub
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
new WebSocketServerProtocolHandler("/mqtt", MQTT_SUBPROTOCOL_CSV_LIST));
pipeline.addLast("ws2bytebufDecoder", new WebSocketFrameToByteBufDecoder());
pipeline.addLast("bytebuf2wsEncoder", new ByteBufToWebSocketFrameEncoder());
pipeline.addFirst("idleStateHandler", new IdleStateHandler(nettyChannelTimeoutSeconds, 0, 0));
pipeline.addAfter("idleStateHandler", "idleEventHandler", timeoutHandler);
pipeline.addFirst("bytemetrics", new BytesMetricsHandler(m_bytesMetricsCollector));
pipeline.addLast("decoder", new MqttDecoder(maxBytesInMessage));
pipeline.addLast("encoder", MqttEncoder.INSTANCE);
pipeline.addLast("metrics", new MessageMetricsHandler(m_metricsCollector));
pipeline.addLast("messageLogger", new MQTTMessageLogger());
pipeline.addLast("handler", handler);
}
});
}
private void initializeSSLTCPTransport(final NettyMQTTHandler handler, IConfig props, final SSLContext sslContext)
throws IOException {
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
3
broker/src/main/java/io/moquette/server/netty/metrics/MQTTMessageLogger.java
Show comments
View file
Edit file
Delete file
@@ -28,6 +28,7 @@
import java.util.List;
import static io.moquette.spi.impl.Utils.messageId;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
/**
*
@@ -100,6 +101,6 @@ public void channelInactive(ChannelHandlerContext ctx) throws Exception {
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Bumped 0.3 · moquette-io/moquette@f4162c2 · GitHub
// TODO this missing last step breaks the junit test
//sessions.remove(clientID);
}
@Override
public synchronized void trackSessionClose(LocalDateTime when, String clientID) {
this.sessionsClosingTimes.putIfAbsent(when, new HashSet<>());
this.sessionsClosingTimes.computeIfPresent(when, (key, oldSet) -> {
oldSet.add(clientID);
return oldSet;
});
}
@Override
public Set<String> sessionOlderThan(LocalDateTime queryPin) {
final Set<String> results = new HashSet<>();
void processPubAck(String clientID, int messageID) {
//Remove the message from message store
m_storageService.cleanPersistedPublishMessage(clientID, messageID);
}
private void processRemoveAllSubscriptions(String clientID) {
LOG.info("cleaning old saved subscriptions for client <{}>", clientID);
subscriptions.removeForClient(clientID);
//remove also the messages stored of type QoS1/2
m_storageService.cleanPersistedPublishes(clientID);
}
protected void processPublish(PublishEvent evt) {
LOG.trace("PUB --PUBLISH--> SRV processPublish invoked with {}", evt);
final String topic = evt.getTopic();
final AbstractMessage.QOSType qos = evt.getQos();
final ByteBuffer message = evt.getMessage();
boolean retain = evt.isRetain();
toRemoveEvt = evt;
}
}
events.remove(toRemoveEvt);
m_persistentMessageStore.put(clientID, events);
}
public void cleanPersistedPublishes(String clientID) {
m_persistentMessageStore.remove(clientID);
}
public void cleanInFlight(String msgID) {
m_inflightStore.remove(msgID);
}
public void addInFlight(PublishEvent evt, String publishKey) {
StoredPublishEvent storedEvt = convertToStored(evt);
m_inflightStore.put(publishKey, storedEvt);
}
moquette/license-eplv10-aslv20.html at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Added Apache 2.0 license · moquette-io/moquette@af8c0e3 · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
mapdb_storage/src/main/java/io/moquette/persistence/mapdb/MapDBSessionsStore.java
+3
−1
mapdb_storage/src/test/java/io/moquette/persistence/mapdb/MapDBPersistentStoreTest.java
+2
−1
mapdb_storage/src/test/java/io/moquette/persistence/mapdb/MapDBSessionsStoreTest.java
+17
−6
perf/src/main/java/io/moquette/parser/netty/performance/BenchmarkPublisher.java
+14
−1
perf/src/main/java/io/moquette/parser/netty/performance/BenchmarkSubscriber.java
+9
−8
+1
−0
mapdb_storage/src/main/java/io/moquette/persistence/mapdb/MapDBPersistentStore.java
+8
−6
mapdb_storage/src/main/java/io/moquette/persistence/mapdb/MapDBSessionsStore.java
+3
−1
mapdb_storage/src/test/java/io/moquette/persistence/mapdb/MapDBPersistentStoreTest.java
+2
−1
mapdb_storage/src/test/java/io/moquette/persistence/mapdb/MapDBSessionsStoreTest.java
+17
−6
perf/src/main/java/io/moquette/parser/netty/performance/BenchmarkPublisher.java
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
LOG.info("Configuring SSL MQTT transport");
String sslPortProp = props.getProperty(SSL_PORT_PROPERTY_NAME, DISABLED_PORT_BIND);
if (DISABLED_PORT_BIND.equals(sslPortProp)) {
// Do nothing no SSL configured
BrokerConstants.SSL_PORT_PROPERTY_NAME, DISABLED_PORT_BIND);
return;
}
int sslPort = Integer.parseInt(sslPortProp);
LOG.info("Starting SSL on port {}", sslPort);
final MoquetteIdleTimeoutHandler timeoutHandler = new MoquetteIdleTimeoutHandler();
String host = props.getProperty(BrokerConstants.HOST_PROPERTY_NAME);
String sNeedsClientAuth = props.getProperty(BrokerConstants.NEED_CLIENT_AUTH, "false");
final boolean needsClientAuth = Boolean.valueOf(sNeedsClientAuth);
initFactory(host, sslPort, "SSL MQTT", new PipelineInitializer() {
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
@Override
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
logMQTTMessage(ctx, msg, "C<-B");
ctx.write(msg, promise);
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
}
4
broker/src/main/java/io/moquette/server/netty/metrics/MessageMetricsHandler.java
Show comments
View file
Edit file
Delete file
@@ -23,6 +23,8 @@
import io.netty.util.Attribute;
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.nio.ByteBuffer;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ProtocolProcessor.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Sign in to GitHub · GitHub
moquette/mvnw at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
moquette/mvnw.cmd at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
moquette/pom.xml at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
Sign in to GitHub · GitHub
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
LocalDateTime keyBefore = this.sessionsClosingTimes.lowerKey(queryPin);
while (keyBefore != null) {
results.addAll(this.sessionsClosingTimes.get(keyBefore));
keyBefore = this.sessionsClosingTimes.lowerKey(keyBefore);
}
return results;
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
evt.getClientID(), evt.getTopic(), evt.getQos());
String publishKey = null;
if (qos == AbstractMessage.QOSType.LEAST_ONE) {
//store the temporary message
publishKey = String.format("%s%d", evt.getClientID(), evt.getMessageID());
m_storageService.addInFlight(evt, publishKey);
} else if (qos == AbstractMessage.QOSType.EXACTLY_ONCE) {
publishKey = String.format("%s%d", evt.getClientID(), evt.getMessageID());
//store the message in temp store
m_storageService.persistQoS2Message(publishKey, evt);
sendPubRec(evt.getClientID(), evt.getMessageID());
}
//NB publish to subscribers for QoS 2 happen upon PUBREL from publisher
if (qos != AbstractMessage.QOSType.EXACTLY_ONCE) {
publish2Subscribers(topic, qos, message, retain, evt.getMessageID());
public void addNewSubscription(Subscription newSubscription, String clientID) {
if (!m_persistentSubscriptions.containsKey(clientID)) {
LOG.debug("clientID {} is a newcome, creating it's subscriptions set", clientID);
m_persistentSubscriptions.put(clientID, new HashSet<Subscription>());
}
Set<Subscription> subs = m_persistentSubscriptions.get(clientID);
if (!subs.contains(newSubscription)) {
LOG.debug("updating clientID {} subscriptions set with new subscription", clientID);
//TODO check the subs doesn't contain another subscription to the same topic with different
Subscription existingSubscription = null;
for (Subscription scanSub : subs) {
if (newSubscription.getTopic().equals(scanSub.getTopic())) {
existingSubscription = scanSub;
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
perf/src/main/java/io/moquette/parser/netty/performance/LoopMQTTHandler.java
+6
−3
perf/src/main/java/io/moquette/parser/netty/performance/NettyPublishReceiverHandler.java
+10
−5
perf/src/main/java/io/moquette/parser/netty/performance/ProtocolDecodingServer.java
+8
−3
perf/src/main/java/io/moquette/parser/netty/performance/ProtocolPublishDecodingServer.java
+10
−4
perf/src/main/java/io/moquette/parser/netty/performance/PublishBomber.java
+4
−3
+14
−1
perf/src/main/java/io/moquette/parser/netty/performance/BenchmarkSubscriber.java
+9
−8
perf/src/main/java/io/moquette/parser/netty/performance/LoopMQTTHandler.java
+6
−3
perf/src/main/java/io/moquette/parser/netty/performance/NettyPublishReceiverHandler.java
+10
−5
perf/src/main/java/io/moquette/parser/netty/performance/ProtocolDecodingServer.java
+8
−3
perf/src/main/java/io/moquette/parser/netty/performance/ProtocolPublishDecodingServer.java
+10
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
@Override
void init(ChannelPipeline pipeline) throws Exception {
pipeline.addLast("ssl", createSslHandler(sslContext, needsClientAuth));
pipeline.addFirst("idleStateHandler", new IdleStateHandler(nettyChannelTimeoutSeconds, 0, 0));
pipeline.addAfter("idleStateHandler", "idleEventHandler", timeoutHandler);
// pipeline.addLast("logger", new LoggingHandler("Netty", LogLevel.ERROR));
pipeline.addFirst("bytemetrics", new BytesMetricsHandler(m_bytesMetricsCollector));
pipeline.addLast("decoder", new MqttDecoder(maxBytesInMessage));
pipeline.addLast("encoder", MqttEncoder.INSTANCE);
pipeline.addLast("metrics", new MessageMetricsHandler(m_metricsCollector));
pipeline.addLast("messageLogger", new MQTTMessageLogger());
pipeline.addLast("handler", handler);
}
});
}
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
import io.netty.util.AttributeKey;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
public class MessageMetricsHandler extends ChannelDuplexHandler {
private static final AttributeKey<MessageMetrics> ATTR_KEY_METRICS = AttributeKey.valueOf("MessageMetrics");
@@ -52,7 +54,7 @@ public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
MessageMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
metrics.incrementWrote(1);
ctx.write(msg, promise);
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
@Override
16
broker/src/main/java/io/moquette/spi/DurableSession.java
Show comments
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.BatchEventProcessor;
15
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Learn more
Accept
Reject
Save preferences
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Sign in to GitHub · GitHub
Sign in to GitHub · GitHub
Sign in to GitHub · GitHub
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
}
if (qos == AbstractMessage.QOSType.LEAST_ONE) {
if (publishKey == null) {
throw new RuntimeException("Found a publish key null for QoS " + qos + " for message " + evt);
}
m_storageService.cleanInFlight(publishKey);
sendPubAck(new PubAckEvent(evt.getMessageID(), evt.getClientID()));
LOG.debug("replying with PubAck to MSG ID {}", evt.getMessageID());
}
if (retain) {
m_storageService.storeRetained(topic, message, qos);
}
}
/**
* Flood the subscribers with the message to notify. MessageID is optional and should only used for QoS 1 and 2
break;
}
}
if (existingSubscription != null) {
subs.remove(existingSubscription);
}
subs.add(newSubscription);
m_persistentSubscriptions.put(clientID, subs);
}
}
public void removeAllSubscriptions(String clientID) {
m_persistentSubscriptions.remove(clientID);
}
public List<Subscription> retrieveAllSubscriptions() {
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
perf/src/main/java/io/moquette/parser/netty/performance/PublishReceiverHandler.java
+1
−2
tools_scripts/integration/bunch_publish_issue12.groovy
4
broker/src/main/java/io/moquette/interception/HazelcastInterceptHandler.java
Show comments
View file
Edit file
Delete file
@@ -24,6 +24,7 @@
import org.slf4j.Logger;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.slf4j.LoggerFactory;
−4
perf/src/main/java/io/moquette/parser/netty/performance/PublishBomber.java
+4
−3
perf/src/main/java/io/moquette/parser/netty/performance/PublishReceiverHandler.java
+1
−2
tools_scripts/integration/bunch_publish_issue12.groovy
4
broker/src/main/java/io/moquette/interception/HazelcastInterceptHandler.java
Show comments
View file
Edit file
Delete file
@@ -24,6 +24,7 @@
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
private void initializeWSSTransport(final NettyMQTTHandler handler, IConfig props, final SSLContext sslContext)
throws IOException {
LOG.info("Configuring secure websocket MQTT transport");
String sslPortProp = props.getProperty(WSS_PORT_PROPERTY_NAME, DISABLED_PORT_BIND);
if (DISABLED_PORT_BIND.equals(sslPortProp)) {
// Do nothing no SSL configured
BrokerConstants.WSS_PORT_PROPERTY_NAME, DISABLED_PORT_BIND);
return;
}
int sslPort = Integer.parseInt(sslPortProp);
final MoquetteIdleTimeoutHandler timeoutHandler = new MoquetteIdleTimeoutHandler();
String host = props.getProperty(BrokerConstants.HOST_PROPERTY_NAME);
String sNeedsClientAuth = props.getProperty(BrokerConstants.NEED_CLIENT_AUTH, "false");
final boolean needsClientAuth = Boolean.valueOf(sNeedsClientAuth);
initFactory(host, sslPort, "Secure websocket", new PipelineInitializer() {
@Override
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
View file
Edit file
Delete file
@@ -22,9 +22,7 @@
import java.util.Collection;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;
import java.util.concurrent.ConcurrentHashMap;
public class DurableSession extends ClientSession {
@@ -51,20 +49,6 @@ void waitingAck(int messageID, IMessagesStore.StoredMessage msg) {
}
}
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/SimpleMessaging.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
* */
private void publish2Subscribers(String topic, AbstractMessage.QOSType qos, ByteBuffer origMessage, boolean retain, Integer messageID) {
LOG.debug("publish2Subscribers republishing to existing subscribers that matches the topic {}", topic);
if (LOG.isDebugEnabled()) {
LOG.debug("content <{}>", DebugUtils.payload2Str(origMessage));
LOG.debug("subscription tree {}", subscriptions.dumpTree());
}
for (final Subscription sub : subscriptions.matches(topic)) {
if (qos.ordinal() > sub.getRequestedQos().ordinal()) {
qos = sub.getRequestedQos();
}
ByteBuffer message = origMessage.duplicate();
sub.getClientId(), sub.getTopic(), qos, sub.isActive());
if (qos == AbstractMessage.QOSType.MOST_ONE && sub.isActive()) {
List<Subscription> allSubscriptions = new ArrayList<Subscription>();
for (Map.Entry<String, Set<Subscription>> entry : m_persistentSubscriptions) {
allSubscriptions.addAll(entry.getValue());
}
LOG.debug("retrieveAllSubscriptions returning subs {}", allSubscriptions);
return allSubscriptions;
}
public void close() {
LOG.debug("closing disk storage");
try {
pageFactory.close();
} catch (IOException ex) {
LOG.error(null, ex);
}
}
/*-------- QoS 2 storage management --------------*/
public void persistQoS2Message(String publishKey, PublishEvent evt) {
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
import static io.moquette.spi.impl.Utils.readBytesAndRewind;
import static io.moquette.spi.impl.Utils.readBytesAndRewind;
import static java.nio.charset.StandardCharsets.UTF_8;
public class HazelcastInterceptHandler extends AbstractInterceptHandler {
public class HazelcastInterceptHandler extends AbstractInterceptHandler {
@@ -45,7 +46,8 @@ public void onPublish(InterceptPublishMessage msg) {
ByteBuf payload = msg.getPayload();
ByteBuf payload = msg.getPayload();
byte[] payloadContent = readBytesAndRewind(payload);
byte[] payloadContent = readBytesAndRewind(payload);
new String(payloadContent, UTF_8));
ITopic<HazelcastMsg> topic = hz.getTopic("moquette");
ITopic<HazelcastMsg> topic = hz.getTopic("moquette");
HazelcastMsg hazelcastMsg = new HazelcastMsg(msg);
HazelcastMsg hazelcastMsg = new HazelcastMsg(msg);
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import static io.moquette.spi.impl.Utils.readBytesAndRewind;
import static java.nio.charset.StandardCharsets.UTF_8;
public class HazelcastInterceptHandler extends AbstractInterceptHandler {
@@ -45,7 +46,8 @@ public void onPublish(InterceptPublishMessage msg) {
ByteBuf payload = msg.getPayload();
byte[] payloadContent = readBytesAndRewind(payload);
new String(payloadContent, UTF_8));
ITopic<HazelcastMsg> topic = hz.getTopic("moquette");
HazelcastMsg hazelcastMsg = new HazelcastMsg(msg);
topic.publish(hazelcastMsg);
6
broker/src/main/java/io/moquette/interception/messages/InterceptConnectMessage.java
Show comments
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
void init(ChannelPipeline pipeline) throws Exception {
pipeline.addLast("ssl", createSslHandler(sslContext, needsClientAuth));
pipeline.addLast("httpEncoder", new HttpResponseEncoder());
pipeline.addLast("httpDecoder", new HttpRequestDecoder());
pipeline.addLast("aggregator", new HttpObjectAggregator(65536));
pipeline.addLast("webSocketHandler",
new WebSocketServerProtocolHandler("/mqtt", MQTT_SUBPROTOCOL_CSV_LIST));
pipeline.addLast("ws2bytebufDecoder", new WebSocketFrameToByteBufDecoder());
pipeline.addLast("bytebuf2wsEncoder", new ByteBufToWebSocketFrameEncoder());
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
class InboundFlightZone {
final Map<Integer, IMessagesStore.StoredMessage> inboundFlightMessages = new ConcurrentHashMap<>();
IMessagesStore.StoredMessage lookup(int messageID) {
return inboundFlightMessages.get(messageID);
}
void waitingRel(int messageID, IMessagesStore.StoredMessage msg) {
inboundFlightMessages.put(messageID, msg);
}
}
private static final Logger LOG = LoggerFactory.getLogger(DurableSession.class);
private final ISessionsStore sessionsStore;
16
broker/src/main/java/io/moquette/spi/ISubscriptionsStore.java
Show comments
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.BatchEventProcessor;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ValueEvent.java
Show comments
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Save preferences
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
//QoS 0
sendPublish(sub.getClientId(), topic, qos, message, false);
} else {
//QoS 1 or 2
//if the target subscription is not clean session and is not connected => store it
if (!sub.isCleanSession() && !sub.isActive()) {
//clone the event with matching clientID
PublishEvent newPublishEvt = new PublishEvent(topic, qos, message, retain, sub.getClientId(), messageID, null);
m_storageService.storePublishForFuture(newPublishEvt);
} else {
//if QoS 2 then store it in temp memory
if (qos ==AbstractMessage.QOSType.EXACTLY_ONCE) {
String publishKey = String.format("%s%d", sub.getClientId(), messageID);
PublishEvent newPublishEvt = new PublishEvent(topic, qos, message, retain, sub.getClientId(), messageID, null);
m_qos2Store.put(publishKey, convertToStored(evt));
}
public void removeQoS2Message(String publishKey) {
m_qos2Store.remove(publishKey);
}
public PublishEvent retrieveQoS2Message(String publishKey) {
StoredPublishEvent storedEvt = m_qos2Store.get(publishKey);
return convertFromStored(storedEvt);
}
private StoredPublishEvent convertToStored(PublishEvent evt) {
StoredPublishEvent storedEvt = new StoredPublishEvent(evt);
return storedEvt;
}
private PublishEvent convertFromStored(StoredPublishEvent evt) {
byte[] message = evt.getMessage();
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/about.html
Go to file
Go to file
T
topic.publish(hazelcastMsg);
topic.publish(hazelcastMsg);
6
broker/src/main/java/io/moquette/interception/messages/InterceptConnectMessage.java
Show comments
View file
Edit file
Delete file
@@ -18,6 +18,8 @@
import io.netty.handler.codec.mqtt.MqttConnectMessage;
import io.netty.handler.codec.mqtt.MqttConnectMessage;
import java.nio.charset.StandardCharsets;
public class InterceptConnectMessage extends InterceptAbstractMessage {
public class InterceptConnectMessage extends InterceptAbstractMessage {
private final MqttConnectMessage msg;
View file
Edit file
Delete file
@@ -18,6 +18,8 @@
import io.netty.handler.codec.mqtt.MqttConnectMessage;
import java.nio.charset.StandardCharsets;
public class InterceptConnectMessage extends InterceptAbstractMessage {
private final MqttConnectMessage msg;
@@ -72,14 +74,14 @@ public String getUsername() {
}
public byte[] getPassword() {
return msg.payload().password().getBytes();
return msg.payload().password().getBytes(StandardCharsets.UTF_8);
}
public String getWillTopic() {
return msg.payload().willTopic();
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
pipeline.addFirst("idleStateHandler", new IdleStateHandler(nettyChannelTimeoutSeconds, 0, 0));
pipeline.addAfter("idleStateHandler", "idleEventHandler", timeoutHandler);
pipeline.addFirst("bytemetrics", new BytesMetricsHandler(m_bytesMetricsCollector));
pipeline.addLast("decoder", new MqttDecoder(maxBytesInMessage));
pipeline.addLast("encoder", MqttEncoder.INSTANCE);
pipeline.addLast("metrics", new MessageMetricsHandler(m_metricsCollector));
pipeline.addLast("messageLogger", new MQTTMessageLogger());
pipeline.addLast("handler", handler);
}
});
}
@SuppressWarnings("FutureReturnValueIgnored")
@Override
public void close() {
LOG.info("Closing Netty acceptor...");
if (m_workerGroup == null || m_bossGroup == null) {
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
666cc29d47
moquette/broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMatchingCondition.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
View file
Edit file
Delete file
@@ -1,3 +1,19 @@
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
af8c0e3b9a
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Added copyright and license notice to every source file, added about.…
…html and license.htl
Loading branch information
andsel
committed
Jun 11, 2014
1 parent
0bbe719
commit 666cc29d47f57fc00798856e335e5270c0075a10
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Added copyright and license notice to every source file, added about.…
…html and license.htl
Loading branch information
andsel
committed
Jun 11, 2014
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
m_storageService.addInFlight(newPublishEvt, publishKey);
}
//publish
if (sub.isActive()) {
sendPublish(sub.getClientId(), topic, qos, message, false);
}
}
}
}
}
private void sendPublish(String clientId, String topic, AbstractMessage.QOSType qos, ByteBuffer message, boolean retained) {
//TODO pay attention to the message ID can't be 0 and it's the message sent to subscriber
int messageID = 1;
sendPublish(clientId, topic, qos, message, retained, messageID);
}
private void sendPublish(String clientId, String topic, AbstractMessage.QOSType qos, ByteBuffer message, boolean retained, int messageID) {
PublishMessage pubMessage = new PublishMessage();
ByteBuffer bbmessage = ByteBuffer.wrap(message);
//bbmessage.flip();
PublishEvent liveEvt = new PublishEvent(evt.getTopic(), evt.getQos(),
bbmessage, evt.isRetain(), evt.getClientID(), evt.getMessageID(), null);
return liveEvt;
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Updated the pax-runner to fix issue #40
Loading branch information
andsel
committed
Jun 11, 2014
1 parent
c231471
commit 0bbe719f16eb9e8c1d5a93dc5515945703150580
Unified
Split
Showing
1 changed file
with
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Go to line
L
Copy path
Cannot retrieve contributors at this time
28 lines (24 sloc)
1.41 KB
Raw
Blame
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>About</title>
</head>
private final MqttConnectMessage msg;
@@ -72,14 +74,14 @@ public String getUsername() {
}
}
public byte[] getPassword() {
public byte[] getPassword() {
return msg.payload().password().getBytes();
return msg.payload().password().getBytes(StandardCharsets.UTF_8);
}
public byte[] getWillMessage() {
return msg.payload().willMessage().getBytes();
return msg.payload().willMessage().getBytes(StandardCharsets.UTF_8);
}
}
2
broker/src/main/java/io/moquette/persistence/MemoryMessagesStore.java
Show comments
View file
Edit file
Delete file
@@ -41,7 +41,7 @@ public void initStore() {
public void storeRetained(Topic topic, StoredMessage storedMessage) {
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Added Apache 2.0 license
Loading branch information
andsel
committed
Oct 4, 2013
LOG.error("Netty acceptor is not initialized");
throw new IllegalStateException("Invoked close on an Acceptor that wasn't initialized");
}
Future<?> workerWaiter = m_workerGroup.shutdownGracefully();
Future<?> bossWaiter = m_bossGroup.shutdownGracefully();
/*
* We shouldn't raise an IllegalStateException if we are interrupted. If we did so, the
* broker is not shut down properly.
*/
LOG.info("Waiting for worker and boss event loop groups to terminate...");
try {
workerWaiter.await(10, TimeUnit.SECONDS);
bossWaiter.await(10, TimeUnit.SECONDS);
} catch (InterruptedException iex) {
LOG.warn("An InterruptedException was caught while waiting for event loops to terminate...");
}
if (!m_workerGroup.isTerminated()) {
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
23 lines (21 sloc)
724 Bytes
Raw
Blame
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.spi;
import io.moquette.spi.impl.subscriptions.Subscription;
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 033a428
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.EventFactory;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/DisconnectEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
moquette/license.txt
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
205 lines (170 sloc)
11.3 KB
Raw
Blame
Copyright 2012-2013 (c) Andrea Selva
Apache License
Version 2.0, January 2004
http://www.apache.org/licenses/
TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION
Unified
Split
Showing
133 changed files
with
2,569 additions
and 13 deletions.
+28
−0
about.html
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMatchingCondition.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMessaging.java
+15
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
1 parent
0bbe719
commit 666cc29d47f57fc00798856e335e5270c0075a10
Unified
Split
Showing
133 changed files
with
2,569 additions
and 13 deletions.
+28
−0
about.html
+15
−0
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Bumped 0.3
Loading branch information
andsel
committed
Sep 23, 2013
pubMessage.setRetainFlag(retained);
pubMessage.setTopicName(topic);
pubMessage.setQos(qos);
pubMessage.setPayload(message);
if (LOG.isDebugEnabled()) {
LOG.debug("content <{}>", DebugUtils.payload2Str(message));
}
if (pubMessage.getQos() != AbstractMessage.QOSType.MOST_ONE) {
pubMessage.setMessageID(messageID);
}
if (m_clientIDs == null) {
throw new RuntimeException("Internal bad error, found m_clientIDs to null while it should be initialized, somewhere it's overwritten!!");
}
LOG.debug("clientIDs are {}", m_clientIDs);
if (m_clientIDs.get(clientId) == null) {
throw new RuntimeException(String.format("Can't find a ConnectionDescriptor for client <%s> in cache <%s>", clientId, m_clientIDs));
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/license-eplv10-aslv20.html
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
576 lines (508 sloc)
3 additions
and 2 deletions.
+3
−2
bundle/pom.xml
5
bundle/pom.xml
Show comments
View file
Edit file
Delete file
@@ -212,12 +212,13 @@
<!-- Pax Runner Maven plugin -->
<groupId>org.ops4j</groupId>
<artifactId>maven-pax-plugin</artifactId>
<version>1.4</version>
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Added Apache 2.0 license
Loading branch information
andsel
committed
Oct 4, 2013
1 parent
f4162c2
commit af8c0e3b9a186faf144f51218b934188af8b1120
Unified
Split
<body lang="EN-US">
<h2>About Moquette MQT broker</h2>
<p>June 11, 2014</p>
<h3>License</h3>
<p>The Eclipse Foundation makes available all content in this plug-in (&quot;Moquette MQTT&quot;). Unless otherwise
indicated below, the Content is provided to you under the terms and conditions of the
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
<p>If you did not receive this Content directly from the Eclipse Foundation, the Content is
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
apply to your use of any object code in the Content. Check the Redistributor's license that was
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
indicated below, the terms and conditions of the EPL still apply to any source code in the Content
and such source code may be obtained at <a href="http://www.eclipse.org/">http://www.eclipse.org</a>.</p>
</body>
}
}
public String getWillTopic() {
public String getWillTopic() {
return msg.payload().willTopic();
return msg.payload().willTopic();
}
}
public byte[] getWillMessage() {
public byte[] getWillMessage() {
return msg.payload().willMessage().getBytes();
return msg.payload().willMessage().getBytes(StandardCharsets.UTF_8);
}
}
}
}
if (storedMessage.getClientID() == null) {
throw new IllegalArgumentException( "Message to be persisted must have a not null client ID");
throw new IllegalArgumentException("Message to be persisted must have a not null client ID");
}
m_retainedStore.put(topic, storedMessage);
}
3
broker/src/main/java/io/moquette/persistence/MemorySessionStore.java
Show comments
View file
Edit file
Delete file
@@ -33,7 +33,7 @@
private static final Logger LOG = LoggerFactory.getLogger(MemorySessionStore.class);
1 parent
f4162c2
commit af8c0e3b9a186faf144f51218b934188af8b1120
Unified
Split
Showing
1 changed file
with
205 additions
and 0 deletions.
+205
−0
license.txt
205
license.txt
Show comments
LOG.warn("Forcing shutdown of worker event loop...");
m_workerGroup.shutdownGracefully(0L, 0L, TimeUnit.MILLISECONDS);
}
if (!m_bossGroup.isTerminated()) {
LOG.warn("Forcing shutdown of boss event loop...");
m_bossGroup.shutdownGracefully(0L, 0L, TimeUnit.MILLISECONDS);
}
LOG.info("Collecting message metrics...");
MessageMetrics metrics = m_metricsCollector.computeMetrics();
metrics.messagesWrote());
LOG.info("Collecting bytes metrics...");
BytesMetrics bytesMetrics = m_bytesMetricsCollector.computeMetrics();
bytesMetrics.wroteBytes());
}
private ChannelHandler createSslHandler(SSLContext sslContext, boolean needsClientAuth) {
SSLEngine sslEngine = sslContext.createSSLEngine();
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
/**
*/
public interface IMatchingCondition {
boolean match(String key);
}
Copy lines
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.server.ServerChannel;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/InitEvent.java
1. Definitions.
"License" shall mean the terms and conditions for use, reproduction,
and distribution as defined by Sections 1 through 9 of this document.
"Licensor" shall mean the copyright owner or entity authorized by
the copyright owner that is granting the License.
"Legal Entity" shall mean the union of the acting entity and all
other entities that control, are controlled by, or are under common
control with that entity. For the purposes of this definition,
"control" means (i) the power, direct or indirect, to cause the
direction or management of such entity, whether by contract or
otherwise, or (ii) ownership of fifty percent (50%) or more of the
outstanding shares, or (iii) beneficial ownership of such entity.
"You" (or "Your") shall mean an individual or Legal Entity
exercising permissions granted by this License.
"Source" form shall mean the preferred form for making modifications,
including but not limited to software source code, documentation
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IPersistentSubscriptionStore.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IStorageService.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/DebugUtils.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/FileAuthenticator.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/HawtDBStorageService.java
+15
−0
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/mvnw
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
executable file
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/mvnw.cmd
Go to file
Go to file
T
Go to line
L
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/pom.xml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
218 lines (197 sloc)
7.31 KB
Raw
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMatchingCondition.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMessaging.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IPersistentSubscriptionStore.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IStorageService.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/DebugUtils.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/FileAuthenticator.java
1 parent
64e332f
commit f4162c286815c9dc9fd8cd59bfaa723f1432ca72
Unified
Split
Showing
1 changed file
with
1 addition
and 1 deletion.
}
// m_clientIDs.get(clientId).getSession().write(pubMessage);
disruptorPublish(new OutputMessagingEvent(m_clientIDs.get(clientId).getSession(), pubMessage));
}
private void sendPubRec(String clientID, int messageID) {
PubRecMessage pubRecMessage = new PubRecMessage();
pubRecMessage.setMessageID(messageID);
// m_clientIDs.get(clientID).getSession().write(pubRecMessage);
disruptorPublish(new OutputMessagingEvent(m_clientIDs.get(clientID).getSession(), pubRecMessage));
}
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
29.3 KB
Raw
Blame
<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40"><head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="ProgId" content="Word.Document">
<meta name="Generator" content="Microsoft Word 9">
<meta name="Originator" content="Microsoft Word 9">
<link rel="File-List" href="http://www.eclipse.org/legal/Eclipse%20EPL%202003_11_10%20Final_files/filelist.xml">
<title>Eclipse Public License - Version 1.0 / Apache License - Version 2.0</title>
<!--[if gte mso 9]><xml>
<o:DocumentProperties>
<o:Revision>2</o:Revision>
<o:TotalTime>3</o:TotalTime>
<version>1.5</version>
<configuration>
<!-- Pax Runner version -->
<runner>1.4.0</runner>
<runner>1.8.5</runner>
<!-- OSGi framework type (equinox, felix, knopflerfish) -->
<framework>equinox</framework>
<!--<framework>felix</framework>-->
<provision>
<!-- <param> - -log=debug</param>
<param> - -workingDirectory=target/runner</param> -->
Toggle all file notes
0 comments
on commit 0bbe719
Please
sign in to comment.
Showing
1 changed file
with
205 additions
and 0 deletions.
+205
−0
license.txt
205
license.txt
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,205 @@
Copyright 2012-2013 (c) Andrea Selva
</html>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
2
broker/src/main/java/io/moquette/persistence/MemoryMessagesStore.java
Show comments
View file
Edit file
Delete file
@@ -41,7 +41,7 @@ public void initStore() {
public void storeRetained(Topic topic, StoredMessage storedMessage) {
public void storeRetained(Topic topic, StoredMessage storedMessage) {
if (storedMessage.getClientID() == null) {
if (storedMessage.getClientID() == null) {
throw new IllegalArgumentException( "Message to be persisted must have a not null client ID");
throw new IllegalArgumentException("Message to be persisted must have a not null client ID");
}
class Session {
static class Session {
final String clientID;
final Map<Topic, Subscription> subscriptions = new ConcurrentHashMap<>();
boolean cleanSession;
@@ -170,7 +170,6 @@ public Subscription reload(Subscription subcription) {
return subscriptions.get(subcription.getTopicFilter());
}
@Override
public StoredMessage inFlightAck(String clientID, int messageID) {
return getSession(clientID).outboundFlightMessages.remove(messageID);
10
broker/src/main/java/io/moquette/server/ConnectionDescriptor.java
Show comments
View file
View file
Edit file
Delete file
@@ -0,0 +1,205 @@
Copyright 2012-2013 (c) Andrea Selva
Apache License
Version 2.0, January 2004
http://www.apache.org/licenses/
TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION
1. Definitions.
"License" shall mean the terms and conditions for use, reproduction,
and distribution as defined by Sections 1 through 9 of this document.
"Licensor" shall mean the copyright owner or entity authorized by
the copyright owner that is granting the License.
"Legal Entity" shall mean the union of the acting entity and all
sslEngine.setUseClientMode(false);
if (needsClientAuth) {
sslEngine.setNeedClientAuth(true);
}
return new SslHandler(sslEngine);
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
source, and configuration files.
"Object" form shall mean any form resulting from mechanical
transformation or translation of a Source form, including but
not limited to compiled object code, generated documentation,
and conversions to other media types.
"Work" shall mean the work of authorship, whether in Source or
Object form, made available under the License, as indicated by a
copyright notice that is included in or attached to the work
(an example is provided in the Appendix below).
"Derivative Works" shall mean any work, whether in Source or Object
form, that is based on (or derived from) the Work and for which the
editorial revisions, annotations, elaborations, or other modifications
represent, as a whole, an original work of authorship. For the purposes
of this License, Derivative Works shall not include works that remain
separable from, or merely link (or bind by name) to the interfaces of,
the Work and Derivative Works thereof.
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/MemoryStorageService.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ProtocolProcessor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/SimpleMessaging.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ValueEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/DisconnectEvent.java
+15
310 lines (277 sloc)
9.83 KB
Raw
Blame
#!/bin/sh
# ----------------------------------------------------------------------------
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements. See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership. The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
Copy path
Cannot retrieve contributors at this time
182 lines (147 sloc)
6.45 KB
Raw
Blame
@REM ----------------------------------------------------------------------------
@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements. See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership. The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License. You may obtain a copy of the License at
Blame
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<!--<netty.version>4.1.12.Final</netty.version>-->
<source.version>1.8</source.version>
<target.version>1.8</target.version>
<bintray.repo>andsel/maven</bintray.repo>
<bintray.parent.package>io.moquette.moquette-parent</bintray.parent.package>
</properties>
<groupId>io.moquette</groupId>
<artifactId>moquette-parent</artifactId>
<packaging>pom</packaging>
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/HawtDBStorageService.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/MemoryStorageService.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ProtocolProcessor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/SimpleMessaging.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ValueEvent.java
+1
−1
pom.xml
2
pom.xml
Show comments
View file
Edit file
Delete file
@@ -3,7 +3,7 @@
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>
<properties>
<moquette-version>0.3-SNAPSHOT</moquette-version>
<moquette-version>0.3</moquette-version>
private void sendPubAck(PubAckEvent evt) {
LOG.trace("sendPubAck invoked");
String clientId = evt.getClientID();
PubAckMessage pubAckMessage = new PubAckMessage();
pubAckMessage.setMessageID(evt.getMessageId());
try {
if (m_clientIDs == null) {
throw new RuntimeException("Internal bad error, found m_clientIDs to null while it should be initialized, somewhere it's overwritten!!");
}
LOG.debug("clientIDs are {}", m_clientIDs);
if (m_clientIDs.get(clientId) == null) {
throw new RuntimeException(String.format("Can't find a ConnectionDEwcriptor for client %s in cache %s", clientId, m_clientIDs));
}
// LOG.debug("Session for clientId " + clientId + " is " + m_clientIDs.get(clientId).getSession());
// m_clientIDs.get(clientId).getSession().write(pubAckMessage);
disruptorPublish(new OutputMessagingEvent(m_clientIDs.get(clientId).getSession(), pubAckMessage));
<o:Created>2004-03-05T23:03:00Z</o:Created>
<o:LastSaved>2004-03-05T23:03:00Z</o:LastSaved>
<o:Pages>4</o:Pages>
<o:Words>1626</o:Words>
<o:Characters>9270</o:Characters>
<o:Lines>77</o:Lines>
<o:Paragraphs>18</o:Paragraphs>
<o:CharactersWithSpaces>11384</o:CharactersWithSpaces>
<o:Version>9.4402</o:Version>
</o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
<w:WordDocument>
<w:TrackRevisions/>
</w:WordDocument>
</xml><![endif]-->
<style>
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Apache License
Version 2.0, January 2004
http://www.apache.org/licenses/
TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION
1. Definitions.
"License" shall mean the terms and conditions for use, reproduction,
and distribution as defined by Sections 1 through 9 of this document.
"Licensor" shall mean the copyright owner or entity authorized by
the copyright owner that is granting the License.
"Legal Entity" shall mean the union of the acting entity and all
other entities that control, are controlled by, or are under common
control with that entity. For the purposes of this definition,
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
}
m_retainedStore.put(topic, storedMessage);
m_retainedStore.put(topic, storedMessage);
}
}
3
broker/src/main/java/io/moquette/persistence/MemorySessionStore.java
Show comments
View file
Edit file
Delete file
@@ -33,7 +33,7 @@
private static final Logger LOG = LoggerFactory.getLogger(MemorySessionStore.class);
private static final Logger LOG = LoggerFactory.getLogger(MemorySessionStore.class);
class Session {
Edit file
Delete file
@@ -29,6 +29,10 @@
import io.moquette.server.netty.metrics.MessageMetricsHandler;
import io.netty.channel.Channel;
import static io.netty.channel.ChannelFutureListener.CLOSE;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
import static io.netty.channel.ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE;
/**
* Value object to maintain the information of single connection, like ClientID, Channel, and clean
* session flag.
@@ -62,7 +66,7 @@ public ConnectionDescriptor(String clientID, Channel session, boolean cleanSessi
}
public void writeAndFlush(Object payload) {
other entities that control, are controlled by, or are under common
control with that entity. For the purposes of this definition,
"control" means (i) the power, direct or indirect, to cause the
direction or management of such entity, whether by contract or
otherwise, or (ii) ownership of fifty percent (50%) or more of the
outstanding shares, or (iii) beneficial ownership of such entity.
"You" (or "Your") shall mean an individual or Legal Entity
exercising permissions granted by this License.
"Source" form shall mean the preferred form for making modifications,
including but not limited to software source code, documentation
source, and configuration files.
"Object" form shall mean any form resulting from mechanical
transformation or translation of a Source form, including but
not limited to compiled object code, generated documentation,
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import java.util.Properties;
15
...er/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/LostConnectionEvent.java
Show comments
View file
Edit file
Delete file
"Contribution" shall mean any work of authorship, including
the original version of the Work and any modifications or additions
to that Work or Derivative Works thereof, that is intentionally
submitted to Licensor for inclusion in the Work by the copyright owner
or by an individual or Legal Entity authorized to submit on behalf of
the copyright owner. For the purposes of this definition, "submitted"
means any form of electronic, verbal, or written communication sent
to the Licensor or its representatives, including but not limited to
communication on electronic mailing lists, source code control systems,
and issue tracking systems that are managed by, or on behalf of, the
Licensor for the purpose of discussing and improving the Work, but
excluding communication that is conspicuously marked or otherwise
designated in writing by the copyright owner as "Not a Contribution."
"Contributor" shall mean Licensor and any individual or Legal Entity
on behalf of whom a Contribution has been received by Licensor and
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/InitEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/LostConnectionEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/MessagingEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/OutputMessagingEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/ProtocolEvent.java
+15
−0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied. See the License for the
# specific language governing permissions and limitations
# under the License.
# ----------------------------------------------------------------------------
# ----------------------------------------------------------------------------
# Maven Start Up Batch script
#
# Required ENV vars:
# ------------------
@REM
@REM http://www.apache.org/licenses/LICENSE-2.0
@REM
@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied. See the License for the
@REM specific language governing permissions and limitations
@REM under the License.
@REM ----------------------------------------------------------------------------
@REM ----------------------------------------------------------------------------
@REM Maven Start Up Batch script
@REM
@REM Required ENV vars:
@REM JAVA_HOME - location of a JDK home dir
<version>0.14-SNAPSHOT</version>
<name>Moquette MQTT</name>
<description>Moquette lightweight MQTT Broker</description>
<inceptionYear>2011</inceptionYear>
<url>http://moquette.io</url>
<licenses>
<license>
<name>The Apache License, Version 2.0</name>
<url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
</license>
<license>
<name>Eclipse Public License - Version 1.0</name>
<url>http://www.eclipse.org/org/documents/epl-v10.php</url>
</license>
</licenses>
<developers>
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/DisconnectEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/InitEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/LostConnectionEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/MessagingEvent.java
+15
<mina-version>2.0.7</mina-version>
</properties>
Toggle all file notes
0 comments
on commit f4162c2
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
}catch(Throwable t) {
LOG.error(null, t);
}
}
/**
* Second phase of a publish QoS2 protocol, sent by publisher to the broker. Search the stored message and publish
* to all interested subscribers.
* */
void processPubRel(String clientID, int messageID) {
String publishKey = String.format("%s%d", clientID, messageID);
PublishEvent evt = m_storageService.retrieveQoS2Message(publishKey);
final String topic = evt.getTopic();
final AbstractMessage.QOSType qos = evt.getQos();
publish2Subscribers(topic, qos, evt.getMessage(), evt.isRetain(), evt.getMessageID());
m_storageService.removeQoS2Message(publishKey);
<!--
/* Font Definitions */
@font-face
{font-family:Tahoma;
panose-1:2 11 6 4 3 5 4 4 2 4;
mso-font-charset:0;
mso-generic-font-family:swiss;
mso-font-pitch:variable;
mso-font-signature:553679495 -2147483648 8 0 66047 0;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
{mso-style-parent:"";
margin:0in;
margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-size:12.0pt;
font-family:"Times New Roman";
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
"control" means (i) the power, direct or indirect, to cause the
direction or management of such entity, whether by contract or
otherwise, or (ii) ownership of fifty percent (50%) or more of the
outstanding shares, or (iii) beneficial ownership of such entity.
"You" (or "Your") shall mean an individual or Legal Entity
exercising permissions granted by this License.
"Source" form shall mean the preferred form for making modifications,
including but not limited to software source code, documentation
source, and configuration files.
"Object" form shall mean any form resulting from mechanical
transformation or translation of a Source form, including but
not limited to compiled object code, generated documentation,
and conversions to other media types.
"Work" shall mean the work of authorship, whether in Source or
Object form, made available under the License, as indicated by a
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
static class Session {
final String clientID;
final String clientID;
final Map<Topic, Subscription> subscriptions = new ConcurrentHashMap<>();
final Map<Topic, Subscription> subscriptions = new ConcurrentHashMap<>();
boolean cleanSession;
boolean cleanSession;
@@ -170,7 +170,6 @@ public Subscription reload(Subscription subcription) {
return subscriptions.get(subcription.getTopicFilter());
return subscriptions.get(subcription.getTopicFilter());
}
}
@Override
@Override
public StoredMessage inFlightAck(String clientID, int messageID) {
this.channel.writeAndFlush(payload);
this.channel.writeAndFlush(payload).addListener(FIRE_EXCEPTION_ON_FAILURE);
}
public void setupAutoFlusher(int flushIntervalMs) {
@@ -88,7 +92,7 @@ public boolean close() {
if (!success) {
return false;
}
this.channel.close();
this.channel.close().addListener(CLOSE_ON_FAILURE);
return true;
}
@@ -100,7 +104,7 @@ public void abort() {
LOG.info("Closing connection descriptor. MqttClientId = {}.", clientID);
and conversions to other media types.
"Work" shall mean the work of authorship, whether in Source or
Object form, made available under the License, as indicated by a
copyright notice that is included in or attached to the work
(an example is provided in the Appendix below).
"Derivative Works" shall mean any work, whether in Source or Object
form, that is based on (or derived from) the Work and for which the
editorial revisions, annotations, elaborations, or other modifications
represent, as a whole, an original work of authorship. For the purposes
of this License, Derivative Works shall not include works that remain
separable from, or merely link (or bind by name) to the interfaces of,
the Work and Derivative Works thereof.
"Contribution" shall mean any work of authorship, including
the original version of the Work and any modifications or additions
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Learn more
Accept
Reject
Save preferences
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
subsequently incorporated within the Work.
2. Grant of Copyright License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
copyright license to reproduce, prepare Derivative Works of,
publicly display, publicly perform, sublicense, and distribute the
Work and such Derivative Works in Source or Object form.
3. Grant of Patent License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
(except as stated in this section) patent license to make, have made,
use, offer to sell, sell, import, and otherwise transfer the Work,
where such license applies only to those patent claims licensable
by such Contributor that are necessarily infringed by their
Contribution(s) alone or by combination of their Contribution(s)
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PubAckEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PublishEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/RepublishEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/StopEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/SubscribeEvent.java
+15
# JAVA_HOME - location of a JDK home dir
#
# Optional ENV vars
# -----------------
# M2_HOME - location of maven2's installed home dir
# MAVEN_OPTS - parameters passed to the Java VM when running Maven
# e.g. to debug Maven itself, use
# set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000
# MAVEN_SKIP_RC - flag to disable loading of mavenrc files
# ----------------------------------------------------------------------------
if [ -z "$MAVEN_SKIP_RC" ] ; then
if [ -f /etc/mavenrc ] ; then
. /etc/mavenrc
@REM
@REM Optional ENV vars
@REM M2_HOME - location of maven2's installed home dir
@REM MAVEN_BATCH_ECHO - set to 'on' to enable the echoing of the batch commands
@REM MAVEN_BATCH_PAUSE - set to 'on' to wait for a keystroke before ending
@REM MAVEN_OPTS - parameters passed to the Java VM when running Maven
@REM e.g. to debug Maven itself, use
@REM set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000
@REM MAVEN_SKIP_RC - flag to disable loading of mavenrc files
@REM ----------------------------------------------------------------------------
@REM Begin all REM lines with '@' in case MAVEN_BATCH_ECHO is 'on'
@echo off
@REM set title of command window
title %0
@REM enable echoing by setting MAVEN_BATCH_ECHO to 'on'
<developer>
<id>andsel</id>
<name>Andrea Selva</name>
<roles>
<role>architect</role>
<role>developer</role>
<role>founder</role>
</roles>
<timezone>+1</timezone>
</developer>
</developers>
<scm>
<connection>scm:git:git@github.com:moquette-io/moquette.git</connection>
<developerConnection>scm:git:git@github.com:moquette-io/moquette.git</developerConnection>
<url>git@github.com:moquette-io/moquette.git</url>
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/OutputMessagingEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/ProtocolEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PubAckEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PublishEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/RepublishEvent.java
+15
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
if (evt.isRetain()) {
m_storageService.storeRetained(topic, evt.getMessage(), qos);
}
sendPubComp(clientID, messageID);
}
private void sendPubComp(String clientID, int messageID) {
PubCompMessage pubCompMessage = new PubCompMessage();
pubCompMessage.setMessageID(messageID);
// m_clientIDs.get(clientID).getSession().write(pubCompMessage);
disruptorPublish(new OutputMessagingEvent(m_clientIDs.get(clientID).getSession(), pubCompMessage));
}
void processPubRec(String clientID, int messageID) {
//once received a PUBREC reply with a PUBREL(messageID)
PubRelMessage pubRelMessage = new PubRelMessage();
mso-fareast-font-family:"Times New Roman";}
p
{margin-right:0in;
mso-margin-top-alt:auto;
mso-margin-bottom-alt:auto;
margin-left:0in;
mso-pagination:widow-orphan;
font-size:12.0pt;
font-family:"Times New Roman";
mso-fareast-font-family:"Times New Roman";}
p.BalloonText, li.BalloonText, div.BalloonText
{mso-style-name:"Balloon Text";
margin:0in;
margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-size:8.0pt;
Reject
Save preferences
copyright notice that is included in or attached to the work
(an example is provided in the Appendix below).
"Derivative Works" shall mean any work, whether in Source or Object
form, that is based on (or derived from) the Work and for which the
editorial revisions, annotations, elaborations, or other modifications
represent, as a whole, an original work of authorship. For the purposes
of this License, Derivative Works shall not include works that remain
separable from, or merely link (or bind by name) to the interfaces of,
the Work and Derivative Works thereof.
"Contribution" shall mean any work of authorship, including
public StoredMessage inFlightAck(String clientID, int messageID) {
return getSession(clientID).outboundFlightMessages.remove(messageID);
return getSession(clientID).outboundFlightMessages.remove(messageID);
10
broker/src/main/java/io/moquette/server/ConnectionDescriptor.java
Show comments
View file
Edit file
Delete file
@@ -29,6 +29,10 @@
import io.moquette.server.netty.metrics.MessageMetricsHandler;
import io.moquette.server.netty.metrics.MessageMetricsHandler;
import io.netty.channel.Channel;
import io.netty.channel.Channel;
// try {
// this.channel.disconnect().sync();
this.channel.close(); // .sync();
this.channel.close().addListener(CLOSE_ON_FAILURE); // .sync();
// } catch (InterruptedException e) {
// e.printStackTrace();
// }
4
broker/src/main/java/io/moquette/server/config/ClasspathResourceLoader.java
Show comments
View file
Edit file
Delete file
@@ -19,6 +19,8 @@
import java.io.InputStream;
import java.io.InputStreamReader;
to that Work or Derivative Works thereof, that is intentionally
submitted to Licensor for inclusion in the Work by the copyright owner
or by an individual or Legal Entity authorized to submit on behalf of
the copyright owner. For the purposes of this definition, "submitted"
means any form of electronic, verbal, or written communication sent
to the Licensor or its representatives, including but not limited to
communication on electronic mailing lists, source code control systems,
and issue tracking systems that are managed by, or on behalf of, the
Licensor for the purpose of discussing and improving the Work, but
excluding communication that is conspicuously marked or otherwise
designated in writing by the copyright owner as "Not a Contribution."
"Contributor" shall mean Licensor and any individual or Legal Entity
on behalf of whom a Contribution has been received by Licensor and
subsequently incorporated within the Work.
Accept
Reject
Save preferences
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/MessagingEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
with the Work to which such Contribution(s) was submitted. If You
institute patent litigation against any entity (including a
cross-claim or counterclaim in a lawsuit) alleging that the Work
or a Contribution incorporated within the Work constitutes direct
or contributory patent infringement, then any patent licenses
granted to You under this License for that Work shall terminate
as of the date such litigation is filed.
4. Redistribution. You may reproduce and distribute copies of the
Work or Derivative Works thereof in any medium, with or without
modifications, and in Source or Object form, provided that You
meet the following conditions:
(a) You must give any other recipients of the Work or
Derivative Works a copy of this License; and
(b) You must cause any modified files to carry prominent notices
stating that You changed the files; and
(c) You must retain, in the Source form of any Derivative Works
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/storage/StoredPublishEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/Subscription.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/SubscriptionsStore.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/Token.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/TreeNode.java
fi
if [ -f "$HOME/.mavenrc" ] ; then
. "$HOME/.mavenrc"
fi
fi
# OS specific support. $var _must_ be set to either true or false.
cygwin=false;
darwin=false;
mingw=false
case "`uname`" in
CYGWIN*) cygwin=true ;;
MINGW*) mingw=true;;
Darwin*) darwin=true
# Use /usr/libexec/java_home if available, otherwise fall back to /Library/Java/Home
@if "%MAVEN_BATCH_ECHO%" == "on" echo %MAVEN_BATCH_ECHO%
@REM set %HOME% to equivalent of $HOME
if "%HOME%" == "" (set "HOME=%HOMEDRIVE%%HOMEPATH%")
@REM Execute a user defined script before this one
if not "%MAVEN_SKIP_RC%" == "" goto skipRcPre
@REM check for pre script, once with legacy .bat ending and once with .cmd ending
if exist "%HOME%\mavenrc_pre.bat" call "%HOME%\mavenrc_pre.bat"
if exist "%HOME%\mavenrc_pre.cmd" call "%HOME%\mavenrc_pre.cmd"
:skipRcPre
@setlocal
set ERROR_CODE=0
</scm>
<modules>
<module>broker</module>
<module>distribution</module>
<module>embedding_moquette</module>
</modules>
<dependencies>
<dependency>
<groupId>junit</groupId>
<artifactId>junit</artifactId>
<version>4.8.2</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.slf4j</groupId>
<artifactId>slf4j-log4j12</artifactId>
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/StopEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/SubscribeEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/storage/StoredPublishEvent.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/Subscription.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/SubscriptionsStore.java
+15
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
pubRelMessage.setMessageID(messageID);
pubRelMessage.setQos(AbstractMessage.QOSType.LEAST_ONE);
// m_clientIDs.get(clientID).getSession().write(pubRelMessage);
disruptorPublish(new OutputMessagingEvent(m_clientIDs.get(clientID).getSession(), pubRelMessage));
}
void processPubComp(String clientID, int messageID) {
//once received the PUBCOMP then remove the message from the temp memory
String publishKey = String.format("%s%d", clientID, messageID);
m_storageService.cleanInFlight(publishKey);
}
void processDisconnect(ServerChannel session, String clientID, boolean cleanSession) throws InterruptedException {
if (cleanSession) {
//cleanup topic subscriptions
processRemoveAllSubscriptions(clientID);
}
font-family:Tahoma;
mso-fareast-font-family:"Times New Roman";}
@page Section1
{size:8.5in 11.0in;
margin:1.0in 1.25in 1.0in 1.25in;
mso-header-margin:.5in;
mso-footer-margin:.5in;
mso-paper-source:0;}
div.Section1
{page:Section1;}
-->
</style>
</head><body style="" lang="EN-US">
<div class="Section1">
<p style="text-align: center;" align="center"><b>Eclipse Public License - v 1.0</b>
</p>
the original version of the Work and any modifications or additions
to that Work or Derivative Works thereof, that is intentionally
submitted to Licensor for inclusion in the Work by the copyright owner
or by an individual or Legal Entity authorized to submit on behalf of
the copyright owner. For the purposes of this definition, "submitted"
means any form of electronic, verbal, or written communication sent
to the Licensor or its representatives, including but not limited to
communication on electronic mailing lists, source code control systems,
and issue tracking systems that are managed by, or on behalf of, the
Licensor for the purpose of discussing and improving the Work, but
excluding communication that is conspicuously marked or otherwise
designated in writing by the copyright owner as "Not a Contribution."
"Contributor" shall mean Licensor and any individual or Legal Entity
on behalf of whom a Contribution has been received by Licensor and
subsequently incorporated within the Work.
import static io.netty.channel.ChannelFutureListener.CLOSE;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
import static io.netty.channel.ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE;
/**
/**
* Value object to maintain the information of single connection, like ClientID, Channel, and clean
* Value object to maintain the information of single connection, like ClientID, Channel, and clean
* session flag.
* session flag.
@@ -62,7 +66,7 @@ public ConnectionDescriptor(String clientID, Channel session, boolean cleanSessi
}
}
public void writeAndFlush(Object payload) {
public void writeAndFlush(Object payload) {
this.channel.writeAndFlush(payload);
import java.io.Reader;
import java.nio.charset.StandardCharsets;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
@@ -51,7 +53,7 @@ public Reader loadDefaultResource() {
public Reader loadResource(String relativePath) {
LOG.info("Loading resource. RelativePath = {}.", relativePath);
InputStream is = this.classLoader.getResourceAsStream(relativePath);
return is != null ? new InputStreamReader(is) : null;
return is != null ? new InputStreamReader(is, StandardCharsets.UTF_8) : null;
}
@Override
13
broker/src/main/java/io/moquette/server/config/ConfigurationParser.java
Show comments
2. Grant of Copyright License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
copyright license to reproduce, prepare Derivative Works of,
publicly display, publicly perform, sublicense, and distribute the
Work and such Derivative Works in Source or Object form.
3. Grant of Patent License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
(except as stated in this section) patent license to make, have made,
use, offer to sell, sell, import, and otherwise transfer the Work,
where such license applies only to those patent claims licensable
by such Contributor that are necessarily infringed by their
Contribution(s) alone or by combination of their Contribution(s)
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
15
that You distribute, all copyright, patent, trademark, and
attribution notices from the Source form of the Work,
excluding those notices that do not pertain to any part of
the Derivative Works; and
(d) If the Work includes a "NOTICE" text file as part of its
distribution, then any Derivative Works that You distribute must
include a readable copy of the attribution notices contained
within such NOTICE file, excluding those notices that do not
pertain to any part of the Derivative Works, in at least one
of the following places: within a NOTICE text file distributed
as part of the Derivative Works; within the Source form or
documentation, if provided along with the Derivative Works; or,
within a display generated by the Derivative Works, if and
wherever such third-party notices normally appear. The contents
of the NOTICE file are for informational purposes only and
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ConfigurationParser.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ConnectionDescriptor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/Constants.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/IAuthenticator.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/Server.java
# See https://developer.apple.com/library/mac/qa/qa1170/_index.html
if [ -z "$JAVA_HOME" ]; then
if [ -x "/usr/libexec/java_home" ]; then
export JAVA_HOME="`/usr/libexec/java_home`"
else
export JAVA_HOME="/Library/Java/Home"
fi
fi
;;
esac
if [ -z "$JAVA_HOME" ] ; then
if [ -r /etc/gentoo-release ] ; then
JAVA_HOME=`java-config --jre-home`
fi
fi
if [ -z "$M2_HOME" ] ; then
@REM To isolate internal variables from possible post scripts, we use another setlocal
@setlocal
@REM ==== START VALIDATION ====
if not "%JAVA_HOME%" == "" goto OkJHome
echo.
echo Error: JAVA_HOME not found in your environment. >&2
echo Please set the JAVA_HOME variable in your environment to match the >&2
echo location of your Java installation. >&2
echo.
goto error
:OkJHome
if exist "%JAVA_HOME%\bin\java.exe" goto init
<version>1.7.5</version>
<scope>test</scope>
</dependency>
<!-- needs extra dependencies: objenesis & hamcrest -->
<dependency>
<groupId>org.mockito</groupId>
<artifactId>mockito-core</artifactId>
<version>1.9.0</version>
<scope>test</scope>
</dependency>
<dependency>
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/Token.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/TreeNode.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ConfigurationParser.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ConnectionDescriptor.java
+15
−0
// m_notifier.disconnect(evt.getSession());
m_clientIDs.remove(clientID);
session.close(true);
//de-activate the subscriptions for this ClientID
// String clientID = (String) evt.getSession().getAttribute(Constants.ATTR_CLIENTID);
subscriptions.deactivate(clientID);
}
void proccessConnectionLost(String clientID) {
//If already removed a disconnect message was already processed for this clientID
if (m_clientIDs.remove(clientID) != null) {
//de-activate the subscriptions for this ClientID
subscriptions.deactivate(clientID);
LOG.info("Lost connection with client <{}>", clientID);
}
}
<p><span style="font-size: 10pt;">THE ACCOMPANYING PROGRAM IS PROVIDED UNDER
THE TERMS OF THIS ECLIPSE PUBLIC LICENSE ("AGREEMENT"). ANY USE,
REPRODUCTION OR DISTRIBUTION OF THE PROGRAM CONSTITUTES RECIPIENT'S ACCEPTANCE
OF THIS AGREEMENT.</span> </p>
<p><b><span style="font-size: 10pt;">1. DEFINITIONS</span></b> </p>
<p><span style="font-size: 10pt;">"Contribution" means:</span> </p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">a)
in the case of the initial Contributor, the initial code and documentation
distributed under this Agreement, and<br clear="left">
b) in the case of each subsequent Contributor:</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">i)
changes to the Program, and</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">ii)
additions to the Program;</span></p>
2. Grant of Copyright License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
copyright license to reproduce, prepare Derivative Works of,
publicly display, publicly perform, sublicense, and distribute the
Work and such Derivative Works in Source or Object form.
3. Grant of Patent License. Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
(except as stated in this section) patent license to make, have made,
use, offer to sell, sell, import, and otherwise transfer the Work,
where such license applies only to those patent claims licensable
by such Contributor that are necessarily infringed by their
Contribution(s) alone or by combination of their Contribution(s)
this.channel.writeAndFlush(payload).addListener(FIRE_EXCEPTION_ON_FAILURE);
}
}
public void setupAutoFlusher(int flushIntervalMs) {
public void setupAutoFlusher(int flushIntervalMs) {
@@ -88,7 +92,7 @@ public boolean close() {
if (!success) {
if (!success) {
return false;
return false;
}
}
this.channel.close();
this.channel.close().addListener(CLOSE_ON_FAILURE);
return true;
View file
Edit file
Delete file
@@ -24,6 +24,8 @@
import java.io.FileReader;
import java.io.IOException;
import java.io.Reader;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.text.ParseException;
import java.util.Properties;
@@ -55,15 +57,10 @@ void parse(File file) throws ParseException {
return;
}
try {
FileReader reader = new FileReader(file);
with the Work to which such Contribution(s) was submitted. If You
institute patent litigation against any entity (including a
cross-claim or counterclaim in a lawsuit) alleging that the Work
or a Contribution incorporated within the Work constitutes direct
or contributory patent infringement, then any patent licenses
granted to You under this License for that Work shall terminate
as of the date such litigation is filed.
4. Redistribution. You may reproduce and distribute copies of the
Work or Derivative Works thereof in any medium, with or without
modifications, and in Source or Object form, provided that You
meet the following conditions:
(a) You must give any other recipients of the Work or
Derivative Works a copy of this License; and
(b) You must cause any modified files to carry prominent notices
stating that You changed the files; and
...r/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/OutputMessagingEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
do not modify the License. You may add Your own attribution
notices within Derivative Works that You distribute, alongside
or as an addendum to the NOTICE text from the Work, provided
that such additional attribution notices cannot be construed
as modifying the License.
You may add Your own copyright statement to Your modifications and
may provide additional or different license terms and conditions
for use, reproduction, or distribution of Your modifications, or
for any such Derivative Works as a whole, provided Your use,
reproduction, and distribution of the Work otherwise complies with
the conditions stated in this License.
5. Submission of Contributions. Unless You explicitly state otherwise,
any Contribution intentionally submitted for inclusion in the Work
by You to the Licensor shall be under the terms and conditions of
this License, without any additional terms or conditions.
Notwithstanding the above, nothing herein shall supersede or modify
the terms of any separate license agreement you may have executed
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ServerAcceptor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ServerChannel.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/MoquetteIdleTimoutHandler.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/NettyAcceptor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/NettyChannel.java
+15
## resolve links - $0 may be a link to maven's home
PRG="$0"
# need this for relative symlinks
while [ -h "$PRG" ] ; do
ls=`ls -ld "$PRG"`
link=`expr "$ls" : '.*-> \(.*\)$'`
if expr "$link" : '/.*' > /dev/null; then
PRG="$link"
else
PRG="`dirname "$PRG"`/$link"
fi
done
saveddir=`pwd`
M2_HOME=`dirname "$PRG"`/..
# make it fully qualified
M2_HOME=`cd "$M2_HOME" && pwd`
echo.
echo Error: JAVA_HOME is set to an invalid directory. >&2
echo JAVA_HOME = "%JAVA_HOME%" >&2
echo Please set the JAVA_HOME variable in your environment to match the >&2
echo location of your Java installation. >&2
echo.
goto error
@REM ==== END VALIDATION ====
:init
@REM Find the project base dir, i.e. the directory that contains the folder ".mvn".
@REM Fallback to current working directory if not found.
set MAVEN_PROJECTBASEDIR=%MAVEN_BASEDIR%
IF NOT "%MAVEN_PROJECTBASEDIR%"=="" goto endDetectBaseDir
set EXEC_DIR=%CD%
set WDIR=%EXEC_DIR%
:findBaseDir
<groupId>org.assertj</groupId>
<artifactId>assertj-core</artifactId>
<version>2.6.0</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.awaitility</groupId>
<artifactId>awaitility</artifactId>
<version>3.0.0</version>
<scope>test</scope>
</dependency>
</dependencies>
<reporting>
<plugins>
<plugin>
broker/src/main/java/org/dna/mqtt/moquette/server/Constants.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/IAuthenticator.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/Server.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ServerAcceptor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/ServerChannel.java
+15
/**
* Remove the clientID from topic subscription, if not previously subscribed,
* doesn't reply any error
*/
void processUnsubscribe(ServerChannel session, String clientID, List<String> topics, int messageID) {
for (String topic : topics) {
subscriptions.removeSubscription(topic, clientID);
}
//ack the client
UnsubAckMessage ackMessage = new UnsubAckMessage();
ackMessage.setMessageID(messageID);
LOG.info("replying with UnsubAck to MSG ID {}", messageID);
session.write(ackMessage);
}
void processSubscribe(ServerChannel session, SubscribeMessage msg, String clientID, boolean cleanSession) {
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">where
such changes and/or additions to the Program originate from and are distributed
by that particular Contributor. A Contribution 'originates' from a Contributor
if it was added to the Program by such Contributor itself or anyone acting on
such Contributor's behalf. Contributions do not include additions to the
Program which: (i) are separate modules of software distributed in conjunction
with the Program under their own license agreement, and (ii) are not derivative
works of the Program. </span></p>
<p><span style="font-size: 10pt;">"Contributor" means any person or
entity that distributes the Program.</span> </p>
<p><span style="font-size: 10pt;">"Licensed Patents " mean patent
claims licensable by a Contributor which are necessarily infringed by the use
or sale of its Contribution alone or when combined with the Program. </span></p>
<p><span style="font-size: 10pt;">"Program" means the Contributions
distributed in accordance with this Agreement.</span> </p>
<p><span style="font-size: 10pt;">"Recipient" means anyone who
with the Work to which such Contribution(s) was submitted. If You
institute patent litigation against any entity (including a
cross-claim or counterclaim in a lawsuit) alleging that the Work
or a Contribution incorporated within the Work constitutes direct
or contributory patent infringement, then any patent licenses
granted to You under this License for that Work shall terminate
as of the date such litigation is filed.
4. Redistribution. You may reproduce and distribute copies of the
Work or Derivative Works thereof in any medium, with or without
modifications, and in Source or Object form, provided that You
meet the following conditions:
(a) You must give any other recipients of the Work or
Derivative Works a copy of this License; and
(b) You must cause any modified files to carry prominent notices
stating that You changed the files; and
(c) You must retain, in the Source form of any Derivative Works
return true;
}
}
@@ -100,7 +104,7 @@ public void abort() {
LOG.info("Closing connection descriptor. MqttClientId = {}.", clientID);
LOG.info("Closing connection descriptor. MqttClientId = {}.", clientID);
// try {
// try {
// this.channel.disconnect().sync();
// this.channel.disconnect().sync();
this.channel.close(); // .sync();
this.channel.close().addListener(CLOSE_ON_FAILURE); // .sync();
// } catch (InterruptedException e) {
// } catch (InterruptedException e) {
// e.printStackTrace();
Reader reader = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8);
parse(reader);
} catch (FileNotFoundException fex) {
LOG.warn(
String.format(
"parsing not existing file %s, so fallback on default configuration!",
file.getAbsolutePath()),
fex);
return;
} catch (IOException fex) {
LOG.warn("parsing not existing file {}, fallback on default configuration!", file.getAbsolutePath(), fex);
}
}
(c) You must retain, in the Source form of any Derivative Works
that You distribute, all copyright, patent, trademark, and
attribution notices from the Source form of the Work,
excluding those notices that do not pertain to any part of
the Derivative Works; and
(d) If the Work includes a "NOTICE" text file as part of its
distribution, then any Derivative Works that You distribute must
include a readable copy of the attribution notices contained
within such NOTICE file, excluding those notices that do not
pertain to any part of the Derivative Works, in at least one
of the following places: within a NOTICE text file distributed
as part of the Derivative Works; within the Source form or
documentation, if provided along with the Derivative Works; or,
within a display generated by the Derivative Works, if and
wherever such third-party notices normally appear. The contents
of the NOTICE file are for informational purposes only and
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/ProtocolEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
with Licensor regarding such Contributions.
6. Trademarks. This License does not grant permission to use the trade
names, trademarks, service marks, or product names of the Licensor,
except as required for reasonable and customary use in describing the
origin of the Work and reproducing the content of the NOTICE file.
7. Disclaimer of Warranty. Unless required by applicable law or
agreed to in writing, Licensor provides the Work (and each
Contributor provides its Contributions) on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied, including, without limitation, any warranties or conditions
of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
PARTICULAR PURPOSE. You are solely responsible for determining the
appropriateness of using or redistributing the Work and assume any
risks associated with Your exercise of permissions under this License.
8. Limitation of Liability. In no event and under no legal theory,
whether in tort (including negligence), contract, or otherwise,
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/NettyMQTTHandler.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/BytesMetrics.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/BytesMetricsCollector.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/BytesMetricsHandler.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/MessageMetrics.java
+15
cd "$saveddir"
# echo Using m2 at $M2_HOME
fi
# For Cygwin, ensure paths are in UNIX format before anything is touched
if $cygwin ; then
[ -n "$M2_HOME" ] &&
M2_HOME=`cygpath --unix "$M2_HOME"`
[ -n "$JAVA_HOME" ] &&
JAVA_HOME=`cygpath --unix "$JAVA_HOME"`
[ -n "$CLASSPATH" ] &&
CLASSPATH=`cygpath --path --unix "$CLASSPATH"`
fi
# For Mingw, ensure paths are in UNIX format before anything is touched
if $mingw ; then
IF EXIST "%WDIR%"\.mvn goto baseDirFound
cd ..
IF "%WDIR%"=="%CD%" goto baseDirNotFound
set WDIR=%CD%
goto findBaseDir
:baseDirFound
set MAVEN_PROJECTBASEDIR=%WDIR%
cd "%EXEC_DIR%"
goto endDetectBaseDir
:baseDirNotFound
set MAVEN_PROJECTBASEDIR=%EXEC_DIR%
cd "%EXEC_DIR%"
:endDetectBaseDir
IF NOT EXIST "%MAVEN_PROJECTBASEDIR%\.mvn\jvm.config" goto endReadAdditionalConfig
@setlocal EnableExtensions EnableDelayedExpansion
for /F "usebackq delims=" %%a in ("%MAVEN_PROJECTBASEDIR%\.mvn\jvm.config") do set JVM_CONFIG_MAVEN_PROPS=!JVM_CONFIG_MAVEN_PROPS! %%a
<groupId>org.codehaus.mojo</groupId>
<artifactId>cobertura-maven-plugin</artifactId>
<version>2.6</version>
</plugin>
</plugins>
</reporting>
<build>
<plugins>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-compiler-plugin</artifactId>
<configuration>
</configuration>
</plugin>
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/MoquetteIdleTimoutHandler.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/NettyAcceptor.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/NettyChannel.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/NettyMQTTHandler.java
+15
−0
for (SubscribeMessage.Couple req : msg.subscriptions()) {
AbstractMessage.QOSType qos = AbstractMessage.QOSType.values()[req.getQos()];
Subscription newSubscription = new Subscription(clientID, req.getTopic(), qos, cleanSession);
subscribeSingleTopic(newSubscription, req.getTopic());
}
//ack the client
SubAckMessage ackMessage = new SubAckMessage();
ackMessage.setMessageID(msg.getMessageID());
//reply with requested qos
for(SubscribeMessage.Couple req : msg.subscriptions()) {
AbstractMessage.QOSType qos = AbstractMessage.QOSType.values()[req.getQos()];
ackMessage.addType(qos);
}
LOG.debug("replying with SubAck to MSG ID {}", msg.getMessageID());
session.write(ackMessage);
}
receives the Program under this Agreement, including all Contributors.</span> </p>
<p><b><span style="font-size: 10pt;">2. GRANT OF RIGHTS</span></b> </p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">a)
Subject to the terms of this Agreement, each Contributor hereby grants Recipient
a non-exclusive, worldwide, royalty-free copyright license to<span style="color: red;"> </span>reproduce, prepare derivative works of, publicly
display, publicly perform, distribute and sublicense the Contribution of such
Contributor, if any, and such derivative works, in source code and object code
form.</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">b)
Subject to the terms of this Agreement, each Contributor hereby grants
Recipient a non-exclusive, worldwide,<span style="color: green;"> </span>royalty-free
patent license under Licensed Patents to make, use, sell, offer to sell, import
and otherwise transfer the Contribution of such Contributor, if any, in source
code and object code form. This patent license shall apply to the combination
of the Contribution and the Program if, at the time the Contribution is added
by the Contributor, such addition of the Contribution causes such combination
that You distribute, all copyright, patent, trademark, and
attribution notices from the Source form of the Work,
excluding those notices that do not pertain to any part of
the Derivative Works; and
(d) If the Work includes a "NOTICE" text file as part of its
distribution, then any Derivative Works that You distribute must
include a readable copy of the attribution notices contained
within such NOTICE file, excluding those notices that do not
pertain to any part of the Derivative Works, in at least one
of the following places: within a NOTICE text file distributed
as part of the Derivative Works; within the Source form or
documentation, if provided along with the Derivative Works; or,
within a display generated by the Derivative Works, if and
wherever such third-party notices normally appear. The contents
of the NOTICE file are for informational purposes only and
// e.printStackTrace();
// }
// }
4
broker/src/main/java/io/moquette/server/config/ClasspathResourceLoader.java
Show comments
View file
Edit file
Delete file
@@ -19,6 +19,8 @@
import java.io.InputStream;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.InputStreamReader;
import java.io.Reader;
import java.io.Reader;
9
broker/src/main/java/io/moquette/server/config/FileResourceLoader.java
Show comments
View file
Edit file
Delete file
@@ -19,10 +19,15 @@
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.Reader;
import java.nio.file.Files;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
do not modify the License. You may add Your own attribution
notices within Derivative Works that You distribute, alongside
or as an addendum to the NOTICE text from the Work, provided
that such additional attribution notices cannot be construed
as modifying the License.
You may add Your own copyright statement to Your modifications and
may provide additional or different license terms and conditions
for use, reproduction, or distribution of Your modifications, or
for any such Derivative Works as a whole, provided Your use,
reproduction, and distribution of the Work otherwise complies with
the conditions stated in this License.
5. Submission of Contributions. Unless You explicitly state otherwise,
any Contribution intentionally submitted for inclusion in the Work
by You to the Licensor shall be under the terms and conditions of
this License, without any additional terms or conditions.
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
unless required by applicable law (such as deliberate and grossly
negligent acts) or agreed to in writing, shall any Contributor be
liable to You for damages, including any direct, indirect, special,
incidental, or consequential damages of any character arising as a
result of this License or out of the use or inability to use the
Work (including but not limited to damages for loss of goodwill,
other commercial damages or losses), even if such Contributor
has been advised of the possibility of such damages.
9. Accepting Warranty or Additional Liability. While redistributing
the Work or Derivative Works thereof, You may choose to offer,
and charge a fee for, acceptance of support, warranty, indemnity,
or other liability obligations and/or rights consistent with this
License. However, in accepting such obligations, You may act only
on Your own behalf and on Your sole responsibility, not on behalf
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/MessageMetricsCollector.java
+15
−1
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/MessageMetricsHandler.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/FileAuthenticatorTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/HawtDBStorageServiceTest.java
+15
−0
[ -n "$M2_HOME" ] &&
M2_HOME="`(cd "$M2_HOME"; pwd)`"
[ -n "$JAVA_HOME" ] &&
JAVA_HOME="`(cd "$JAVA_HOME"; pwd)`"
fi
if [ -z "$JAVA_HOME" ]; then
javaExecutable="`which javac`"
if [ -n "$javaExecutable" ] && ! [ "`expr \"$javaExecutable\" : '\([^ ]*\)'`" = "no" ]; then
# readlink(1) is not available as standard on Solaris 10.
readLink=`which readlink`
if [ ! `expr "$readLink" : '\([^ ]*\)'` = "no" ]; then
if $darwin ; then
javaHome="`dirname \"$javaExecutable\"`"
javaExecutable="`cd \"$javaHome\" && pwd -P`/javac"
else
javaExecutable="`readlink -f \"$javaExecutable\"`"
@endlocal & set JVM_CONFIG_MAVEN_PROPS=%JVM_CONFIG_MAVEN_PROPS%
:endReadAdditionalConfig
SET MAVEN_JAVA_EXE="%JAVA_HOME%\bin\java.exe"
set WRAPPER_JAR="%MAVEN_PROJECTBASEDIR%\.mvn\wrapper\maven-wrapper.jar"
set WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain
set DOWNLOAD_URL="https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar"
FOR /F "tokens=1,2 delims==" %%A IN ("%MAVEN_PROJECTBASEDIR%\.mvn\wrapper\maven-wrapper.properties") DO (
IF "%%A"=="wrapperUrl" SET DOWNLOAD_URL=%%B
)
@REM Extension to allow automatically downloading the maven-wrapper.jar from Maven-central
@REM This allows using the maven wrapper in projects that prohibit checking in binary data.
if exist %WRAPPER_JAR% (
if "%MVNW_VERBOSE%" == "true" (
echo Found %WRAPPER_JAR%
)
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-checkstyle-plugin</artifactId>
<version>2.17</version>
<configuration>
<configLocation>checkstyle.xml</configLocation>
<!--<suppressionsLocation>checkstyle-suppressions.xml</suppressionsLocation>-->
<!--
<configLocation>/google_checks.xml</configLocation>
-->
<failOnViolation>true</failOnViolation>
<consoleOutput>true</consoleOutput>
</configuration>
<executions>
<execution>
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/BytesMetrics.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/BytesMetricsCollector.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/BytesMetricsHandler.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/MessageMetrics.java
+15
−0
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/MessageMetricsCollector.java
private void subscribeSingleTopic(Subscription newSubscription, final String topic) {
newSubscription.getClientId(), topic,
AbstractMessage.QOSType.formatQoS(newSubscription.getRequestedQos()));
subscriptions.add(newSubscription);
//scans retained messages to be published to the new subscription
Collection<HawtDBStorageService.StoredMessage> messages = m_storageService.searchMatching(new IMatchingCondition() {
public boolean match(String key) {
return SubscriptionsStore.matchTopics(key, topic);
}
});
for (HawtDBStorageService.StoredMessage storedMsg : messages) {
//fire the as retained the message
LOG.debug("send publish message for topic {}", topic);
sendPublish(newSubscription.getClientId(), storedMsg.getTopic(), storedMsg.getQos(), storedMsg.getPayload(), true);
to be covered by the Licensed Patents. The patent license shall not apply to
any other combinations which include the Contribution. No hardware per se is
licensed hereunder. </span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">c)
Recipient understands that although each Contributor grants the licenses to its
Contributions set forth herein, no assurances are provided by any Contributor
that the Program does not infringe the patent or other intellectual property
rights of any other entity. Each Contributor disclaims any liability to Recipient
for claims brought by any other entity based on infringement of intellectual
property rights or otherwise. As a condition to exercising the rights and
licenses granted hereunder, each Recipient hereby assumes sole responsibility
to secure any other intellectual property rights needed, if any. For example,
if a third party patent license is required to allow Recipient to distribute
the Program, it is Recipient's responsibility to acquire that license before
distributing the Program.</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">d)
do not modify the License. You may add Your own attribution
notices within Derivative Works that You distribute, alongside
or as an addendum to the NOTICE text from the Work, provided
that such additional attribution notices cannot be construed
as modifying the License.
You may add Your own copyright statement to Your modifications and
may provide additional or different license terms and conditions
for use, reproduction, or distribution of Your modifications, or
for any such Derivative Works as a whole, provided Your use,
reproduction, and distribution of the Work otherwise complies with
the conditions stated in this License.
5. Submission of Contributions. Unless You explicitly state otherwise,
any Contribution intentionally submitted for inclusion in the Work
by You to the Licensor shall be under the terms and conditions of
import java.nio.charset.StandardCharsets;
import org.slf4j.Logger;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.slf4j.LoggerFactory;
@@ -51,7 +53,7 @@ public Reader loadDefaultResource() {
public Reader loadResource(String relativePath) {
public Reader loadResource(String relativePath) {
LOG.info("Loading resource. RelativePath = {}.", relativePath);
LOG.info("Loading resource. RelativePath = {}.", relativePath);
InputStream is = this.classLoader.getResourceAsStream(relativePath);
InputStream is = this.classLoader.getResourceAsStream(relativePath);
return is != null ? new InputStreamReader(is) : null;
return is != null ? new InputStreamReader(is, StandardCharsets.UTF_8) : null;
}
}
import static java.nio.charset.StandardCharsets.UTF_8;
public class FileResourceLoader implements IResourceLoader {
private static final Logger LOG = LoggerFactory.getLogger(FileResourceLoader.class);
@@ -68,8 +73,8 @@ public Reader loadResource(File f) {
throw new ResourceIsDirectoryException("File \"" + f + "\" is a directory!");
}
try {
return new FileReader(f);
} catch (FileNotFoundException e) {
return Files.newBufferedReader(f.toPath(), UTF_8);
} catch (IOException e) {
LOG.error("The file does not exist. Path = {}.", f.getAbsolutePath());
return null;
}
4
broker/src/main/java/io/moquette/server/netty/MoquetteIdleTimeoutHandler.java
Notwithstanding the above, nothing herein shall supersede or modify
the terms of any separate license agreement you may have executed
with Licensor regarding such Contributions.
6. Trademarks. This License does not grant permission to use the trade
names, trademarks, service marks, or product names of the Licensor,
except as required for reasonable and customary use in describing the
origin of the Work and reproducing the content of the NOTICE file.
7. Disclaimer of Warranty. Unless required by applicable law or
agreed to in writing, Licensor provides the Work (and each
Contributor provides its Contributions) on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied, including, without limitation, any warranties or conditions
of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
Sign in to GitHub · GitHub
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.Utils;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PubAckEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
of any other Contributor, and only if You agree to indemnify,
defend, and hold each Contributor harmless for any liability
incurred by, or claims asserted against, such Contributor by reason
of your accepting any such warranty or additional liability.
END OF TERMS AND CONDITIONS
APPENDIX: How to apply the Apache License to your work.
To apply the Apache License to your work, attach the following
boilerplate notice, with the fields enclosed by brackets "[]"
replaced with your own identifying information. (Don't include
the brackets!) The text should be enclosed in the appropriate
comment syntax for the file format. We also recommend that a
file or class name and description of purpose be included on the
same "printed page" as the copyright notice for easier
identification within third-party archives.
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/MockAuthenticator.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/ProtocolProcessorTest.java
+15
−0
.../src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/SubscriptionsStoreTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ConfigurationParserTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/MQTTWebSocket.java
+15
fi
javaHome="`dirname \"$javaExecutable\"`"
javaHome=`expr "$javaHome" : '\(.*\)/bin'`
JAVA_HOME="$javaHome"
export JAVA_HOME
fi
fi
fi
if [ -z "$JAVACMD" ] ; then
if [ -n "$JAVA_HOME" ] ; then
if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
# IBM's JDK on AIX uses strange locations for the executables
JAVACMD="$JAVA_HOME/jre/sh/java"
else
JAVACMD="$JAVA_HOME/bin/java"
fi
) else (
if not "%MVNW_REPOURL%" == "" (
SET DOWNLOAD_URL="%MVNW_REPOURL%/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar"
)
if "%MVNW_VERBOSE%" == "true" (
echo Couldn't find %WRAPPER_JAR%, downloading it ...
echo Downloading from: %DOWNLOAD_URL%
)
powershell -Command "&{"^
"$webclient = new-object System.Net.WebClient;"^
"if (-not ([string]::IsNullOrEmpty('%MVNW_USERNAME%') -and [string]::IsNullOrEmpty('%MVNW_PASSWORD%'))) {"^
"$webclient.Credentials = new-object System.Net.NetworkCredential('%MVNW_USERNAME%', '%MVNW_PASSWORD%');"^
"}"^
"[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; $webclient.DownloadFile('%DOWNLOAD_URL%', '%WRAPPER_JAR%')"^
"}"
<phase>validate</phase>
<goals>
<goal>check</goal>
</goals>
</execution>
</executions>
</plugin>
</plugins>
</build>
<profiles>
<profile>
<id>release-sign-artifacts</id>
<build>
<plugins>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-source-plugin</artifactId>
+15
−1
broker/src/main/java/org/dna/mqtt/moquette/server/netty/metrics/MessageMetricsHandler.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/FileAuthenticatorTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/HawtDBStorageServiceTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/MockAuthenticator.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/ProtocolProcessorTest.java
+15
}
}
private void disruptorPublish(OutputMessagingEvent msgEvent) {
LOG.debug("disruptorPublish publishing event on output {}", msgEvent);
long sequence = m_ringBuffer.next();
ValueEvent event = m_ringBuffer.get(sequence);
event.setEvent(msgEvent);
m_ringBuffer.publish(sequence);
}
public void onEvent(ValueEvent t, long l, boolean bln) throws Exception {
MessagingEvent evt = t.getEvent();
//It's always of type OutputMessagingEvent
OutputMessagingEvent outEvent = (OutputMessagingEvent) evt;
outEvent.getChannel().write(outEvent.getMessage());
Each Contributor represents that to its knowledge it has sufficient copyright
rights in its Contribution, if any, to grant the copyright license set forth in
this Agreement. </span></p>
<p><b><span style="font-size: 10pt;">3. REQUIREMENTS</span></b> </p>
<p><span style="font-size: 10pt;">A Contributor may choose to distribute the
Program in object code form under its own license agreement, provided that:</span>
</p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">a)
it complies with the terms and conditions of this Agreement; and</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">b)
this License, without any additional terms or conditions.
Notwithstanding the above, nothing herein shall supersede or modify
the terms of any separate license agreement you may have executed
with Licensor regarding such Contributions.
6. Trademarks. This License does not grant permission to use the trade
names, trademarks, service marks, or product names of the Licensor,
except as required for reasonable and customary use in describing the
origin of the Work and reproducing the content of the NOTICE file.
7. Disclaimer of Warranty. Unless required by applicable law or
agreed to in writing, Licensor provides the Work (and each
Contributor provides its Contributions) on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied, including, without limitation, any warranties or conditions
of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
PARTICULAR PURPOSE. You are solely responsible for determining the
appropriateness of using or redistributing the Work and assume any
@Override
@Override
13
broker/src/main/java/io/moquette/server/config/ConfigurationParser.java
Show comments
View file
Edit file
Delete file
@@ -24,6 +24,8 @@
import java.io.FileReader;
import java.io.FileReader;
import java.io.IOException;
import java.io.IOException;
import java.io.Reader;
import java.io.Reader;
import java.nio.charset.StandardCharsets;
Show comments
View file
Edit file
Delete file
@@ -24,6 +24,8 @@
import io.netty.handler.timeout.IdleState;
import io.netty.handler.timeout.IdleStateEvent;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
@Sharable
class MoquetteIdleTimeoutHandler extends ChannelDuplexHandler {
@@ -37,7 +39,7 @@ public void userEventTriggered(ChannelHandlerContext ctx, Object evt) throws Exc
LOG.info("Firing channel inactive event. MqttClientId = {}.", NettyUtils.clientID(ctx.channel()));
// fire a channelInactive to trigger publish of Will
ctx.fireChannelInactive();
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
PARTICULAR PURPOSE. You are solely responsible for determining the
appropriateness of using or redistributing the Work and assume any
risks associated with Your exercise of permissions under this License.
8. Limitation of Liability. In no event and under no legal theory,
whether in tort (including negligence), contract, or otherwise,
unless required by applicable law (such as deliberate and grossly
negligent acts) or agreed to in writing, shall any Contributor be
liable to You for damages, including any direct, indirect, special,
incidental, or consequential damages of any character arising as a
result of this License or out of the use or inability to use the
Work (including but not limited to damages for loss of goodwill,
other commercial damages or losses), even if such Contributor
has been advised of the possibility of such damages.
9. Accepting Warranty or Additional Liability. While redistributing
the Work or Derivative Works thereof, You may choose to offer,
Sign in to GitHub · GitHub
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PublishEvent.java
Show comments
Copyright [yyyy] [name of copyright owner]
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
−1
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationFuseTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationPahoTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationQoSValidationTest.java
+15
−3
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationSSLTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationWebSocketTest.java
+15
−0
else
JAVACMD="`which java`"
fi
fi
if [ ! -x "$JAVACMD" ] ; then
echo "Error: JAVA_HOME is not defined correctly." >&2
echo " We cannot execute $JAVACMD" >&2
exit 1
fi
if [ -z "$JAVA_HOME" ] ; then
echo "Warning: JAVA_HOME environment variable is not set."
fi
CLASSWORLDS_LAUNCHER=org.codehaus.plexus.classworlds.launcher.Launcher
# traverses directory structure from process work directory to filesystem root
if "%MVNW_VERBOSE%" == "true" (
echo Finished downloading %WRAPPER_JAR%
)
)
@REM End of extension
@REM Provide a "standardized" way to retrieve the CLI args that will
@REM work with both Windows and non-Windows executions.
set MAVEN_CMD_LINE_ARGS=%*
%MAVEN_JAVA_EXE% %JVM_CONFIG_MAVEN_PROPS% %MAVEN_OPTS% %MAVEN_DEBUG_OPTS% -classpath %WRAPPER_JAR% "-Dmaven.multiModuleProjectDirectory=%MAVEN_PROJECTBASEDIR%" %WRAPPER_LAUNCHER% %MAVEN_CONFIG% %*
if ERRORLEVEL 1 goto error
<executions>
<execution>
<id>attach-sources</id>
<goals>
<goal>jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-javadoc-plugin</artifactId>
<executions>
<execution>
−0
.../src/test/java/org/dna/mqtt/moquette/messaging/spi/impl/subscriptions/SubscriptionsStoreTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ConfigurationParserTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/MQTTWebSocket.java
+15
−1
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationFuseTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationPahoTest.java
+15
−0
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
its license agreement:</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">i)
effectively disclaims on behalf of all Contributors all warranties and
conditions, express and implied, including warranties or conditions of title
and non-infringement, and implied warranties or conditions of merchantability
and fitness for a particular purpose; </span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">ii)
effectively excludes on behalf of all Contributors all liability for damages,
including direct, indirect, special, incidental and consequential damages, such
as lost profits; </span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">iii)
states that any provisions which differ from this Agreement are offered by that
Contributor alone and not by any other party; and</span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">iv)
states that source code for the Program is available from such Contributor, and
informs licensees how to obtain it in a reasonable manner on or through a
risks associated with Your exercise of permissions under this License.
8. Limitation of Liability. In no event and under no legal theory,
whether in tort (including negligence), contract, or otherwise,
unless required by applicable law (such as deliberate and grossly
negligent acts) or agreed to in writing, shall any Contributor be
liable to You for damages, including any direct, indirect, special,
incidental, or consequential damages of any character arising as a
result of this License or out of the use or inability to use the
Work (including but not limited to damages for loss of goodwill,
other commercial damages or losses), even if such Contributor
has been advised of the possibility of such damages.
9. Accepting Warranty or Additional Liability. While redistributing
the Work or Derivative Works thereof, You may choose to offer,
and charge a fee for, acceptance of support, warranty, indemnity,
or other liability obligations and/or rights consistent with this
import java.nio.file.Files;
import java.text.ParseException;
import java.text.ParseException;
import java.util.Properties;
import java.util.Properties;
@@ -55,15 +57,10 @@ void parse(File file) throws ParseException {
return;
return;
}
}
try {
try {
FileReader reader = new FileReader(file);
Reader reader = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8);
parse(reader);
}
} else {
if (LOG.isDebugEnabled()) {
8
broker/src/main/java/io/moquette/server/netty/NettyAcceptor.java
Show comments
View file
Edit file
Delete file
@@ -44,6 +44,7 @@
import io.netty.handler.ssl.SslHandler;
import io.netty.handler.timeout.IdleStateHandler;
import io.netty.util.concurrent.Future;
import io.netty.util.concurrent.GenericFutureListener;
import org.slf4j.Logger;
and charge a fee for, acceptance of support, warranty, indemnity,
or other liability obligations and/or rights consistent with this
License. However, in accepting such obligations, You may act only
on Your own behalf and on Your sole responsibility, not on behalf
of any other Contributor, and only if You agree to indemnify,
defend, and hold each Contributor harmless for any liability
incurred by, or claims asserted against, such Contributor by reason
of your accepting any such warranty or additional liability.
END OF TERMS AND CONDITIONS
APPENDIX: How to apply the Apache License to your work.
To apply the Apache License to your work, attach the following
boilerplate notice, with the fields enclosed by brackets "[]"
replaced with your own identifying information. (Don't include
the brackets!) The text should be enclosed in the appropriate
comment syntax for the file format. We also recommend that a
file or class name and description of purpose be included on the
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
broker/src/test/java/org/dna/mqtt/moquette/server/ServerLowlevelMessagesIntegrationTests.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerRestartIntegrationTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/TestCallback.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/testclient/Client.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/testclient/ClientNettyMQTTHandler.java
# first directory with .mvn subdirectory is considered project base directory
find_maven_basedir() {
if [ -z "$1" ]
then
echo "Path not specified to find_maven_basedir"
return 1
fi
basedir="$1"
wdir="$1"
while [ "$wdir" != '/' ] ; do
if [ -d "$wdir"/.mvn ] ; then
basedir=$wdir
break
fi
# workaround for JBEAP-8937 (on Solaris 10/Sparc)
wdir=`cd "$wdir/.."; pwd`
goto end
:error
set ERROR_CODE=1
:end
@endlocal & set ERROR_CODE=%ERROR_CODE%
if not "%MAVEN_SKIP_RC%" == "" goto skipRcPost
@REM check for post script, once with legacy .bat ending and once with .cmd ending
if exist "%HOME%\mavenrc_post.bat" call "%HOME%\mavenrc_post.bat"
if exist "%HOME%\mavenrc_post.cmd" call "%HOME%\mavenrc_post.cmd"
:skipRcPost
@REM pause the script if MAVEN_BATCH_PAUSE is set to 'on'
if "%MAVEN_BATCH_PAUSE%" == "on" pause
if "%MAVEN_TERMINATE_CMD%" == "on" exit %ERROR_CODE%
exit /B %ERROR_CODE%
Copy lines
Copy permalink
<id>attach-javadocs</id>
<goals>
<goal>jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-gpg-plugin</artifactId>
<executions>
<execution>
<id>sign-artifacts</id>
<phase>package</phase>
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationQoSValidationTest.java
+15
−3
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationSSLTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerIntegrationWebSocketTest.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerLowlevelMessagesIntegrationTests.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/ServerRestartIntegrationTest.java
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
medium customarily used for software exchange.<span style="color: blue;"> </span></span></p>
<p><span style="font-size: 10pt;">When the Program is made available in source
code form:</span> </p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">a)
it must be made available under this Agreement; and </span></p>
<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt;">b) a
copy of this Agreement must be included with each copy of the Program. </span></p>
<p><span style="font-size: 10pt;">Contributors may not remove or alter any
copyright notices contained within the Program. </span></p>
<p><span style="font-size: 10pt;">Each Contributor must identify itself as the
originator of its Contribution, if any, in a manner that reasonably allows
subsequent Recipients to identify the originator of the Contribution. </span></p>
<p><b><span style="font-size: 10pt;">4. COMMERCIAL DISTRIBUTION</span></b> </p>
<p><span style="font-size: 10pt;">Commercial distributors of software may
License. However, in accepting such obligations, You may act only
on Your own behalf and on Your sole responsibility, not on behalf
of any other Contributor, and only if You agree to indemnify,
defend, and hold each Contributor harmless for any liability
incurred by, or claims asserted against, such Contributor by reason
of your accepting any such warranty or additional liability.
END OF TERMS AND CONDITIONS
APPENDIX: How to apply the Apache License to your work.
To apply the Apache License to your work, attach the following
boilerplate notice, with the fields enclosed by brackets "[]"
replaced with your own identifying information. (Don't include
the brackets!) The text should be enclosed in the appropriate
comment syntax for the file format. We also recommend that a
file or class name and description of purpose be included on the
same "printed page" as the copyright notice for easier
parse(reader);
} catch (FileNotFoundException fex) {
} catch (IOException fex) {
LOG.warn(
LOG.warn("parsing not existing file {}, fallback on default configuration!", file.getAbsolutePath(), fex);
String.format(
"parsing not existing file %s, so fallback on default configuration!",
file.getAbsolutePath()),
fex);
return;
}
}
}
}
9
broker/src/main/java/io/moquette/server/config/FileResourceLoader.java
import org.slf4j.LoggerFactory;
import javax.net.ssl.SSLContext;
@@ -53,6 +54,7 @@
import java.util.Optional;
import java.util.concurrent.TimeUnit;
import static io.moquette.BrokerConstants.*;
import static io.netty.channel.ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE;
public class NettyAcceptor implements ServerAcceptor {
@@ -85,7 +87,7 @@ protected void encode(ChannelHandlerContext chc, ByteBuf bb, List<Object> out) t
}
}
abstract class PipelineInitializer {
abstract static class PipelineInitializer {
abstract void init(ChannelPipeline pipeline) throws Exception;
}
same "printed page" as the copyright notice for easier
identification within third-party archives.
Copyright [yyyy] [name of copyright owner]
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
Toggle all file notes
0 comments
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Save preferences
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage.QOSType;
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 666cc29
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
+15
−0
bundle/src/main/java/org/dna/mqtt/moquette/bundle/Activator.java
+576
−0
license-eplv10-aslv20.html
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/ConnAckEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/ConnectDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/ConnectEncoder.java
fi
# end of workaround
done
}
# concatenates all lines of a file
concat_lines() {
if [ -f "$1" ]; then
echo "$(tr -s '\n' ' ' < "$1")"
fi
}
BASE_DIR=`find_maven_basedir "$(pwd)"`
if [ -z "$BASE_DIR" ]; then
exit 1;
fi
##########################################################################################
# Extension to allow automatically downloading the maven-wrapper.jar from Maven-central
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
<goals>
<goal>sign</goal>
</goals>
</execution>
</executions>
</plugin>
</plugins>
</build>
</profile>
</profiles>
<repositories>
<repository>
<id>Maven repo</id>
<url>https://repo1.maven.org/maven2/</url>
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/server/TestCallback.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/testclient/Client.java
+15
−0
broker/src/test/java/org/dna/mqtt/moquette/testclient/ClientNettyMQTTHandler.java
+15
−0
bundle/src/main/java/org/dna/mqtt/moquette/bundle/Activator.java
+576
−0
license-eplv10-aslv20.html
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
accept certain responsibilities with respect to end users, business partners
and the like. While this license is intended to facilitate the commercial use
of the Program, the Contributor who includes the Program in a commercial
product offering should do so in a manner which does not create potential
liability for other Contributors. Therefore, if a Contributor includes the
Program in a commercial product offering, such Contributor ("Commercial
Contributor") hereby agrees to defend and indemnify every other
Contributor ("Indemnified Contributor") against any losses, damages and
costs (collectively "Losses") arising from claims, lawsuits and other
legal actions brought by a third party against the Indemnified Contributor to
moquette/.editorconfig at master · moquette-io/moquette · GitHub
identification within third-party archives.
Copyright [yyyy] [name of copyright owner]
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
Toggle all file notes
Show comments
View file
Edit file
Delete file
@@ -19,10 +19,15 @@
import java.io.File;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileReader;
import java.io.IOException;
import java.io.Reader;
@@ -197,7 +199,7 @@ public void initChannel(SocketChannel ch) throws Exception {
// Bind and start to accept incoming connections.
ChannelFuture f = b.bind(host, port);
f.sync();
f.sync().addListener(FIRE_EXCEPTION_ON_FAILURE);
} catch (InterruptedException ex) {
LOG.error("An interruptedException was caught while initializing server. Protocol={}", protocol, ex);
}
@@ -349,6 +351,8 @@ void init(ChannelPipeline pipeline) throws Exception {
});
}
@SuppressWarnings("FutureReturnValueIgnored")
@Override
public void close() {
LOG.info("Closing Netty acceptor...");
on commit af8c0e3
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Reject
Save preferences
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Reject
Save preferences
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DemuxDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DemuxEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DisconnectDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DisconnectEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/MQTTDecoder.java
+15
moquette/.travis.yml at master · moquette-io/moquette · GitHub
moquette/ChangeLog.txt at master · moquette-io/moquette · GitHub
# This allows using the maven wrapper in projects that prohibit checking in binary data.
##########################################################################################
if [ -r "$BASE_DIR/.mvn/wrapper/maven-wrapper.jar" ]; then
if [ "$MVNW_VERBOSE" = true ]; then
echo "Found .mvn/wrapper/maven-wrapper.jar"
fi
else
if [ "$MVNW_VERBOSE" = true ]; then
echo "Couldn't find .mvn/wrapper/maven-wrapper.jar, downloading it ..."
fi
if [ -n "$MVNW_REPOURL" ]; then
jarUrl="$MVNW_REPOURL/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar"
else
jarUrl="https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar"
fi
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
</repository>
<repository>
<id>Paho Releases</id>
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
</repository>
<repository>
<id>sonatype-snapshots</id>
<snapshots>
<enabled>true</enabled>
</snapshots>
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/ConnAckEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/ConnectDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/ConnectEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DemuxDecoder.java
the extent caused by the acts or omissions of such Commercial Contributor in
connection with its distribution of the Program in a commercial product
offering. The obligations in this section do not apply to any claims or Losses
relating to any actual or alleged intellectual property infringement. In order
to qualify, an Indemnified Contributor must: a) promptly notify the Commercial
Contributor in writing of such claim, and b) allow the Commercial Contributor
to control, and cooperate with the Commercial Contributor in, the defense and
any related settlement negotiations. The Indemnified Contributor may participate
in any such claim at its own expense.</span> </p>
<p><span style="font-size: 10pt;">For example, a Contributor might include the
Program in a commercial product offering, Product X. That Contributor is then a
Commercial Contributor. If that Commercial Contributor then makes performance
claims, or offers warranties related to Product X, those performance claims and
warranties are such Commercial Contributor's responsibility alone. Under this
section, the Commercial Contributor would have to defend claims against the
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
0 comments
on commit af8c0e3
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
import java.io.Reader;
import java.nio.file.Files;
import org.slf4j.Logger;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.slf4j.LoggerFactory;
import static java.nio.charset.StandardCharsets.UTF_8;
public class FileResourceLoader implements IResourceLoader {
public class FileResourceLoader implements IResourceLoader {
private static final Logger LOG = LoggerFactory.getLogger(FileResourceLoader.class);
private static final Logger LOG = LoggerFactory.getLogger(FileResourceLoader.class);
@@ -68,8 +73,8 @@ public Reader loadResource(File f) {
throw new ResourceIsDirectoryException("File \"" + f + "\" is a directory!");
throw new ResourceIsDirectoryException("File \"" + f + "\" is a directory!");
}
if (m_workerGroup == null || m_bossGroup == null) {
14
broker/src/main/java/io/moquette/server/netty/NettyMQTTHandler.java
Show comments
View file
Edit file
Delete file
@@ -24,6 +24,8 @@
import io.netty.util.ReferenceCountUtil;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
import static io.netty.handler.codec.mqtt.MqttQoS.AT_MOST_ONCE;
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
enable the usage of Netty OpenSSL provider implementation · moquette-io/moquette@d50a291 · GitHub
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/MQTTEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/MessageIDDecoder.java
+15
−1
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingReqDecoder.java
+15
−1
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingReqEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingRespDecoder.java
+15
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
while IFS="=" read key value; do
case "$key" in (wrapperUrl) jarUrl="$value"; break ;;
esac
done < "$BASE_DIR/.mvn/wrapper/maven-wrapper.properties"
if [ "$MVNW_VERBOSE" = true ]; then
echo "Downloading from: $jarUrl"
fi
wrapperJarPath="$BASE_DIR/.mvn/wrapper/maven-wrapper.jar"
if $cygwin; then
wrapperJarPath=`cygpath --path --windows "$wrapperJarPath"`
fi
if command -v wget > /dev/null; then
if [ "$MVNW_VERBOSE" = true ]; then
echo "Found wget ... using wget"
fi
if [ -z "$MVNW_USERNAME" ] || [ -z "$MVNW_PASSWORD" ]; then
Learn more
Accept
Reject
Save preferences
<url>https://oss.sonatype.org/content/repositories/snapshots</url>
</repository>
</repositories>
<distributionManagement>
<repository>
<id>bintray</id>
</repository>
</distributionManagement>
</project>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DemuxEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DisconnectDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/DisconnectEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/MQTTDecoder.java
+15
−0
switch to gradle · moquette-io/moquette@e8b105f · GitHub
other Contributors related to those performance claims and warranties, and if a
court requires any other Contributor to pay any damages as a result, the
Commercial Contributor must pay those damages.</span> </p>
<p><b><span style="font-size: 10pt;">5. NO WARRANTY</span></b> </p>
<p><span style="font-size: 10pt;">EXCEPT AS EXPRESSLY SET FORTH IN THIS
AGREEMENT, THE PROGRAM IS PROVIDED ON AN "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED INCLUDING,
WITHOUT LIMITATION, ANY WARRANTIES OR CONDITIONS OF TITLE, NON-INFRINGEMENT,
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. Each Recipient is solely
responsible for determining the appropriateness of using and distributing the
Program and assumes all risks associated with its exercise of rights under this
Agreement , including but not limited to the risks and costs of program errors,
compliance with applicable laws, damage to or loss of data, programs or
equipment, and unavailability or interruption of operations. </span></p>
<p><b><span style="font-size: 10pt;">6. DISCLAIMER OF LIABILITY</span></b> </p>
<p><span style="font-size: 10pt;">EXCEPT AS EXPRESSLY SET FORTH IN THIS
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
}
try {
try {
return new FileReader(f);
return Files.newBufferedReader(f.toPath(), UTF_8);
} catch (FileNotFoundException e) {
} catch (IOException e) {
LOG.error("The file does not exist. Path = {}.", f.getAbsolutePath());
LOG.error("The file does not exist. Path = {}.", f.getAbsolutePath());
return null;
return null;
}
}
4
broker/src/main/java/io/moquette/server/netty/MoquetteIdleTimeoutHandler.java
Show comments
@Sharable
@@ -78,16 +80,16 @@ public void channelRead(ChannelHandlerContext ctx, Object message) {
false,
0);
MqttMessage pingResp = new MqttMessage(pingHeader);
ctx.writeAndFlush(pingResp);
ctx.writeAndFlush(pingResp).addListener(CLOSE_ON_FAILURE);
break;
default:
LOG.error("Unkonwn MessageType:{}", messageType);
break;
}
} catch (Throwable ex) {
LOG.error("Exception was caught while processing MQTT message, " + ex.getCause(), ex);
LOG.error("Exception was caught while processing MQTT message, {}", ex.getCause(), ex);
ctx.fireExceptionCaught(ex);
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingRespEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubAckDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubAckEncoder.java
+15
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
wget "$jarUrl" -O "$wrapperJarPath"
else
wget --http-user=$MVNW_USERNAME --http-password=$MVNW_PASSWORD "$jarUrl" -O "$wrapperJarPath"
fi
elif command -v curl > /dev/null; then
if [ "$MVNW_VERBOSE" = true ]; then
echo "Found curl ... using curl"
fi
if [ -z "$MVNW_USERNAME" ] || [ -z "$MVNW_PASSWORD" ]; then
curl -o "$wrapperJarPath" "$jarUrl" -f
else
curl --user $MVNW_USERNAME:$MVNW_PASSWORD -o "$wrapperJarPath" "$jarUrl" -f
fi
else
if [ "$MVNW_VERBOSE" = true ]; then
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/MQTTEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/MessageIDDecoder.java
+15
−1
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingReqDecoder.java
+15
−1
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingReqEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingRespDecoder.java
+15
−0
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
AGREEMENT, NEITHER RECIPIENT NOR ANY CONTRIBUTORS SHALL HAVE ANY LIABILITY FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING WITHOUT LIMITATION LOST PROFITS), HOWEVER CAUSED AND ON ANY THEORY
OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OR DISTRIBUTION OF
THE PROGRAM OR THE EXERCISE OF ANY RIGHTS GRANTED HEREUNDER, EVEN IF ADVISED OF
THE POSSIBILITY OF SUCH DAMAGES.</span> </p>
<p><b><span style="font-size: 10pt;">7. GENERAL</span></b> </p>
<p><span style="font-size: 10pt;">If any provision of this Agreement is invalid
or unenforceable under applicable law, it shall not affect the validity or
enforceability of the remainder of the terms of this Agreement, and without
further action by the parties hereto, such provision shall be reformed to the
minimum extent necessary to make such provision valid and enforceable.</span> </p>
<p><span style="font-size: 10pt;">If Recipient institutes patent litigation
Added implementation of retained store in H2 · moquette-io/moquette@2138513 · GitHub
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Removed gradle script files · moquette-io/moquette@4c6bae1 · GitHub
View file
Edit file
Delete file
@@ -24,6 +24,8 @@
import io.netty.handler.timeout.IdleState;
import io.netty.handler.timeout.IdleState;
import io.netty.handler.timeout.IdleStateEvent;
import io.netty.handler.timeout.IdleStateEvent;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
@Sharable
@Sharable
class MoquetteIdleTimeoutHandler extends ChannelDuplexHandler {
class MoquetteIdleTimeoutHandler extends ChannelDuplexHandler {
@@ -37,7 +39,7 @@ public void userEventTriggered(ChannelHandlerContext ctx, Object evt) throws Exc
Bumped dev cycle 0.13 · moquette-io/moquette@db4349b · GitHub
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
} finally {
ReferenceCountUtil.release(msg);
}
@@ -97,17 +99,17 @@ public void channelRead(ChannelHandlerContext ctx, Object message) {
public void channelInactive(ChannelHandlerContext ctx) throws Exception {
String clientID = NettyUtils.clientID(ctx.channel());
if (clientID != null && !clientID.isEmpty()) {
LOG.info("Notifying connection lost event. MqttClientId = {}.", clientID);
LOG.info("Notifying connection lost event. MqttClientId = {}", clientID);
m_processor.processConnectionLost(clientID, ctx.channel());
}
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
}
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubCompDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubCompEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRecDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRecEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRelDecoder.java
+15
−0
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
echo "Falling back to using Java to download"
fi
javaClass="$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.java"
# For Cygwin, switch paths to Windows format before running javac
if $cygwin; then
javaClass=`cygpath --path --windows "$javaClass"`
fi
if [ -e "$javaClass" ]; then
if [ ! -e "$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class" ]; then
if [ "$MVNW_VERBOSE" = true ]; then
echo " - Compiling MavenWrapperDownloader.java ..."
fi
# Compiling the Java class
("$JAVA_HOME/bin/javac" "$javaClass")
fi
if [ -e "$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class" ]; then
# Running the downloader
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PingRespEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubAckDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubAckEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubCompDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubCompEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRecDecoder.java
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
against any entity (including a cross-claim or counterclaim in a lawsuit)
alleging that the Program itself (excluding combinations of the Program with
other software or hardware) infringes such Recipient's patent(s), then such
Recipient's rights granted under Section 2(b) shall terminate as of the date
such litigation is filed. </span></p>
<p><span style="font-size: 10pt;">All Recipient's rights under this Agreement
shall terminate if it fails to comply with any of the material terms or
conditions of this Agreement and does not cure such failure in a reasonable
period of time after becoming aware of such noncompliance. If all Recipient's
rights under this Agreement terminate, Recipient agrees to cease use and
distribution of the Program as soon as reasonably practicable. However,
Recipient's obligations under this Agreement and any licenses granted by
Recipient relating to the Program shall continue and survive. </span></p>
<p><span style="font-size: 10pt;">Everyone is permitted to copy and distribute
copies of this Agreement, but in order to avoid inconsistency the Agreement is
copyrighted and may only be modified in the following manner. The Agreement
Steward reserves the right to publish new versions (including revisions) of
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
LOG.info("Firing channel inactive event. MqttClientId = {}.", NettyUtils.clientID(ctx.channel()));
LOG.info("Firing channel inactive event. MqttClientId = {}.", NettyUtils.clientID(ctx.channel()));
// fire a channelInactive to trigger publish of Will
// fire a channelInactive to trigger publish of Will
ctx.fireChannelInactive();
ctx.fireChannelInactive();
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
}
}
} else {
} else {
if (LOG.isDebugEnabled()) {
if (LOG.isDebugEnabled()) {
8
broker/src/main/java/io/moquette/server/netty/NettyAcceptor.java
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
@Override
public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {
LOG.error("An unexpected exception was caught while processing MQTT message. Closing Netty channel. CId={}, " +
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
}
@Override
4
broker/src/main/java/io/moquette/server/netty/metrics/BytesMetricsHandler.java
Show comments
View file
Edit file
Delete file
@@ -24,6 +24,8 @@
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRelEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PublishDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PublishEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubAckDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubAckEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubscribeDecoder.java
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
if [ "$MVNW_VERBOSE" = true ]; then
echo " - Running MavenWrapperDownloader.java ..."
fi
("$JAVA_HOME/bin/java" -cp .mvn/wrapper MavenWrapperDownloader "$MAVEN_PROJECTBASEDIR")
fi
fi
fi
fi
##########################################################################################
# End of extension
##########################################################################################
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRecEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRelDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PubRelEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PublishDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/PublishEncoder.java
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
this Agreement from time to time. No one other than the Agreement Steward has
the right to modify this Agreement. The Eclipse Foundation is the initial
Agreement Steward. The Eclipse Foundation may assign the responsibility to
serve as the Agreement Steward to a suitable separate entity. Each new version
of the Agreement will be given a distinguishing version number. The Program
(including Contributions) may always be distributed subject to the version of
the Agreement under which it was received. In addition, after a new version of
the Agreement is published, Contributor may elect to distribute the Program
(including its Contributions) under the new version. Except as expressly stated
in Sections 2(a) and 2(b) above, Recipient receives no rights or licenses to
the intellectual property of any Contributor under this Agreement, whether
expressly, by implication, estoppel or otherwise. All rights in the Program not
expressly granted under this Agreement are reserved.</span> </p>
<p><span style="font-size: 10pt;">This Agreement is governed by the laws of the
State of New York and the intellectual property laws of the United States of
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Updates Netty to 4.1.53 to have MQTT5 support by andsel · Pull Request #546 · moquette-io/moquette · GitHub
Updates Netty to 4.1.53 to have MQTT5 support (#546) · moquette-io/moquette@89a4ada · GitHub
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Show comments
View file
Edit file
Delete file
@@ -44,6 +44,7 @@
import io.netty.handler.ssl.SslHandler;
import io.netty.handler.ssl.SslHandler;
import io.netty.handler.timeout.IdleStateHandler;
import io.netty.handler.timeout.IdleStateHandler;
import io.netty.util.concurrent.Future;
import io.netty.util.concurrent.Future;
import io.netty.util.concurrent.GenericFutureListener;
import org.slf4j.Logger;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.slf4j.LoggerFactory;
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
import io.netty.util.Attribute;
import io.netty.util.AttributeKey;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
public class BytesMetricsHandler extends ChannelDuplexHandler {
private static final AttributeKey<BytesMetrics> ATTR_KEY_METRICS = AttributeKey.valueOf("BytesMetrics");
@@ -53,7 +55,7 @@ public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
BytesMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
metrics.incrementWrote(((ByteBuf) msg).writableBytes());
ctx.write(msg, promise);
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
@Override
3
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubscribeEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubAckDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubAckEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeEncoder.java
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
if [ "$MVNW_VERBOSE" = true ]; then
echo $MAVEN_PROJECTBASEDIR
fi
MAVEN_OPTS="$(concat_lines "$MAVEN_PROJECTBASEDIR/.mvn/jvm.config") $MAVEN_OPTS"
# For Cygwin, switch paths to Windows format before running java
if $cygwin; then
[ -n "$M2_HOME" ] &&
M2_HOME=`cygpath --path --windows "$M2_HOME"`
[ -n "$JAVA_HOME" ] &&
JAVA_HOME=`cygpath --path --windows "$JAVA_HOME"`
[ -n "$CLASSPATH" ] &&
CLASSPATH=`cygpath --path --windows "$CLASSPATH"`
[ -n "$MAVEN_PROJECTBASEDIR" ] &&
MAVEN_PROJECTBASEDIR=`cygpath --path --windows "$MAVEN_PROJECTBASEDIR"`
fi
# Provide a "standardized" way to retrieve the CLI args that will
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubAckDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubAckEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubscribeDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/SubscribeEncoder.java
+15
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
America. No party to this Agreement will bring a legal action under this
Agreement more than one year after the cause of action arose. Each party waives
its rights to a jury trial in any resulting litigation.</span> </p>
<p class="MsoNormal"><!--[if !supportEmptyParas]-->&nbsp;<!--[endif]--><o:p></o:p></p>
</div>
<div class="Section2">
<p style="text-align: center;" align="center"><b>Apache License</b></br>
Version 2.0, January 2004<br/>
http://www.apache.org/licenses/<br/>
</p>
<p><span style="font-size: 10pt;">TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION</spam></p>
<p><b><span style="font-size: 10pt;">1. Definitions.</span></b> </p>
<p><span style="font-size: 10pt;">
"License" shall mean the terms and conditions for use, reproduction,
and distribution as defined by Sections 1 through 9 of this document.</span></p>
<p><span style="font-size: 10pt;">
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
moquette/.editorconfig
Go to file
Go to file
T
Go to line
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
import javax.net.ssl.SSLContext;
import javax.net.ssl.SSLContext;
@@ -53,6 +54,7 @@
import java.util.Optional;
import java.util.Optional;
import java.util.concurrent.TimeUnit;
import java.util.concurrent.TimeUnit;
import static io.moquette.BrokerConstants.*;
import static io.moquette.BrokerConstants.*;
import static io.netty.channel.ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE;
public class NettyAcceptor implements ServerAcceptor {
public class NettyAcceptor implements ServerAcceptor {
@@ -85,7 +87,7 @@ protected void encode(ChannelHandlerContext chc, ByteBuf bb, List<Object> out) t
}
}
}
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
broker/src/main/java/io/moquette/server/netty/metrics/MQTTMessageLogger.java
Show comments
View file
Edit file
Delete file
@@ -28,6 +28,7 @@
import java.util.List;
import static io.moquette.spi.impl.Utils.messageId;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
/**
*
@@ -100,6 +101,6 @@ public void channelInactive(ChannelHandlerContext ctx) throws Exception {
@Override
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
logMQTTMessage(ctx, msg, "C<-B");
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/Utils.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnAckDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnAckEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnectDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnectEncoderTest.java
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
# work with both Windows and non-Windows executions.
MAVEN_CMD_LINE_ARGS="$MAVEN_CONFIG $@"
export MAVEN_CMD_LINE_ARGS
WRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain
exec "$JAVACMD" \
$MAVEN_OPTS \
-classpath "$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar" \
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubAckDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubAckEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeDecoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeEncoder.java
+15
−0
netty_parser/src/main/java/org/dna/mqtt/moquette/parser/netty/Utils.java
+15
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
"Licensor" shall mean the copyright owner or entity authorized by
the copyright owner that is granting the License.</span></p>
<p><span style="font-size: 10pt;">
"Legal Entity" shall mean the union of the acting entity and all
other entities that control, are controlled by, or are under common
control with that entity. For the purposes of this definition,
"control" means (i) the power, direct or indirect, to cause the
direction or management of such entity, whether by contract or
otherwise, or (ii) ownership of fifty percent (50%) or more of the
outstanding shares, or (iii) beneficial ownership of such entity.</span></p>
<p><span style="font-size: 10pt;">
"You" (or "Your") shall mean an individual or Legal Entity
exercising permissions granted by this License.</span></p>
<p><span style="font-size: 10pt;">
"Source" form shall mean the preferred form for making modifications,
including but not limited to software source code, documentation
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
L
Copy path
Cannot retrieve contributors at this time
16 lines (13 sloc)
299 Bytes
Raw
Blame
# EditorConfig is awesome: http://EditorConfig.org
# top-most EditorConfig file
root = true
# Unix-style newlines with a newline ending every file
Reintroduce maven project files by andsel · Pull Request #542 · moquette-io/moquette · GitHub
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
}
abstract class PipelineInitializer {
abstract static class PipelineInitializer {
abstract void init(ChannelPipeline pipeline) throws Exception;
abstract void init(ChannelPipeline pipeline) throws Exception;
}
}
@@ -197,7 +199,7 @@ public void initChannel(SocketChannel ch) throws Exception {
// Bind and start to accept incoming connections.
// Bind and start to accept incoming connections.
ChannelFuture f = b.bind(host, port);
ChannelFuture f = b.bind(host, port);
f.sync();
f.sync().addListener(FIRE_EXCEPTION_ON_FAILURE);
} catch (InterruptedException ex) {
} catch (InterruptedException ex) {
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
ctx.write(msg, promise);
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
}
4
broker/src/main/java/io/moquette/server/netty/metrics/MessageMetricsHandler.java
Show comments
View file
Edit file
Delete file
@@ -23,6 +23,8 @@
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
enable the usage of Netty OpenSSL provider implementation
Signed-off-by: Maik Scheibler <maik.scheibler@kiwigrid.com>
Loading branch information
mscheibler
committed
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PubAckDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PubAckEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PublishDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PublishEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubAckDecoderTest.java
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
master
moquette/.travis.yml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
6 lines (5 sloc)
master
moquette/ChangeLog.txt
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
103 lines (93 sloc)
6.14 KB
Raw
Blame
Version 0.12:
Fixed issue #415
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnAckDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnAckEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnectDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/ConnectEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PubAckDecoderTest.java
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
switch to gradle
gradle files added
gradle: plugins added
build: files added
.travis.yml: gradle cache stored
distribution: tar and zip file stuff added
broker/build.gradle: osgi plugin added
build: bintray upload added
pom: files removed
source, and configuration files.</span></p>
<p><span style="font-size: 10pt;">
"Object" form shall mean any form resulting from mechanical
transformation or translation of a Source form, including but
not limited to compiled object code, generated documentation,
and conversions to other media types.</span></p>
<p><span style="font-size: 10pt;">
"Work" shall mean the work of authorship, whether in Source or
Object form, made available under the License, as indicated by a
copyright notice that is included in or attached to the work
(an example is provided in the Appendix below).</span></p>
<p><span style="font-size: 10pt;">
"Derivative Works" shall mean any work, whether in Source or Object
form, that is based on (or derived from) the Work and for which the
editorial revisions, annotations, elaborations, or other modifications
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
[*]
end_of_line = lf
insert_final_newline = true
charset = utf-8
indent_style = space
indent_size = 4
max_line_length=120
[*.gradle]
indent_size = 2
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
LOG.error("An interruptedException was caught while initializing server. Protocol={}", protocol, ex);
LOG.error("An interruptedException was caught while initializing server. Protocol={}", protocol, ex);
}
}
@@ -349,6 +351,8 @@ void init(ChannelPipeline pipeline) throws Exception {
});
});
}
}
@SuppressWarnings("FutureReturnValueIgnored")
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
import io.netty.util.Attribute;
import io.netty.util.AttributeKey;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
public class MessageMetricsHandler extends ChannelDuplexHandler {
private static final AttributeKey<MessageMetrics> ATTR_KEY_METRICS = AttributeKey.valueOf("MessageMetrics");
@@ -52,7 +54,7 @@ public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
MessageMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
metrics.incrementWrote(1);
Jun 22, 2018
1 parent
0fae292
commit d50a291366f1b5a16011266dbf770c020d241eee
Unified
Split
Showing
8 changed files
with
241 additions
and 96 deletions.
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubAckEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubscribeDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubscribeEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/TestUtils.java
+15
65 Bytes
Raw
Blame
language: java
jdk:
- openjdk12
#script:
# - ./mvnw verify
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
Dropped Hazelcast because at the moment Moquette is not designed to be clusterizable
Rewritten completly the broker to introduce the concept of MqttConnection
Dropped suppoert for MapDB and keeped only H2 MvStore for persistence
Version 0.10:
Netty epoll system added
Separated in memory and MapDB storage implementations
Cleanly separated inflight part (inbound and outbound)
Version 0.9:
Moved canRead check to topic from publish phase to subscribe (#144)
Added javadoc and src jars creations for JCenter/Maven central
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PubAckEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PublishDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/PublishEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubAckDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubAckEncoderTest.java
+15
distribution: assembly.xml removed
gradle: test ouput added to sub builds
.editorconfig: gradle files added
build: wrapper task added
osgi: added to h2_ and mapdb_storage
gradle: files cleaned
build.gradle: jars used for tar/zip
Loading branch information
Andreas Mager
authored and AndreasMager
committed
Aug 24, 2017
1 parent
7c4f902
commit e8b105fa90a032cda9794511e0c1db1b932987e6
Unified
represent, as a whole, an original work of authorship. For the purposes
of this License, Derivative Works shall not include works that remain
separable from, or merely link (or bind by name) to the interfaces of,
the Work and Derivative Works thereof.</span></p>
<p><span style="font-size: 10pt;">
"Contribution" shall mean any work of authorship, including
the original version of the Work and any modifications or additions
to that Work or Derivative Works thereof, that is intentionally
submitted to Licensor for inclusion in the Work by the copyright owner
or by an individual or Legal Entity authorized to submit on behalf of
the copyright owner. For the purposes of this definition, "submitted"
means any form of electronic, verbal, or written communication sent
to the Licensor or its representatives, including but not limited to
communication on electronic mailing lists, source code control systems,
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Removed gradle script files
Loading branch information
andsel
committed
Nov 2, 2020
@Override
public void close() {
public void close() {
LOG.info("Closing Netty acceptor...");
LOG.info("Closing Netty acceptor...");
if (m_workerGroup == null || m_bossGroup == null) {
if (m_workerGroup == null || m_bossGroup == null) {
14
broker/src/main/java/io/moquette/server/netty/NettyMQTTHandler.java
Show comments
View file
Edit file
Delete file
@@ -24,6 +24,8 @@
import io.netty.util.ReferenceCountUtil;
import io.netty.util.ReferenceCountUtil;
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Bumped dev cycle 0.13
ctx.write(msg, promise);
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
@Override
16
broker/src/main/java/io/moquette/spi/DurableSession.java
Show comments
View file
Edit file
Delete file
@@ -22,9 +22,7 @@
import java.util.Collection;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;
import java.util.concurrent.ConcurrentHashMap;
+1
−0
.gitignore
+1
−0
broker/build.gradle
+9
−0
broker/src/main/java/io/moquette/BrokerConstants.java
+116
−59
broker/src/main/java/io/moquette/server/DefaultMoquetteSslContextCreator.java
+50
−34
broker/src/main/java/io/moquette/server/netty/NettyAcceptor.java
+2
−1
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeDecoderTest.java
+15
−1
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/UtilsTest.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/commons/Constants.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/MQTTException.java
+15
−4
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Added persisting of clean session flag for already existing client session (fix issue #145)
Moved the message logic management fo FSM, to better control the concurrency.
Changed default config to use in memory store and not default moquette.mapdb
Version 0.8:
Introduced authenticator and authorizator implementations.
Fixed bug, doesn't close the channel when connect doesn't contains a valid proto name, issue #65
Fixed bug, does not check for zero length topic (filters) in PUBLISH, SUBSCRIBE, and UNSUBSCRIBE, issue #67
Fixed issue #69
Fixed bug #68, UNSUBSCRIBE has to fail on bad topicFilter names
Fixed bug #81, on stop of moquette broker it doesn't shutdown due to no shutdown of ringbuffer used on the back of ProtocolProcessor
Moved config to be not only filesystem based, but also classpath and memory (fix issue #73)
Switched from commit persistence on every change to time based to fix delay in handling many msgs/sec (fix issue #79)
Changed willMessage and password in CONNECT message from String to byte[] (fix issue #94 and #95)
Fixed ugly empty session storage, avoid fake NullObject empty subscription subscription
Added check to avoid creation of LostConnectionEvents for not yet completed connects (fix issue #88)
Removed LMAX ringbuffer to use multi threading with persistent (copy on write) data structures
Sign in to GitHub · GitHub
Issues · moquette-io/moquette · GitHub
Updates Netty to 4.1.53 to have MQTT5 support by andsel · Pull Request #546 · moquette-io/moquette · GitHub
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubscribeDecoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/SubscribeEncoderTest.java
+15
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/TestUtils.java
+15
−1
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeDecoderTest.java
+15
−1
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/UnsubscribeEncoderTest.java
+15
Updates Netty to 4.1.53 to have MQTT5 support · moquette-io/moquette@c504891 · GitHub
Split
Showing
31 changed files
with
699 additions
and 1,316 deletions.
+3
−0
.editorconfig
+3
−1
.gitignore
+10
−0
and issue tracking systems that are managed by, or on behalf of, the
Licensor for the purpose of discussing and improving the Work, but
excluding communication that is conspicuously marked or otherwise
designated in writing by the copyright owner as "Not a Contribution."</span></p>
<p><span style="font-size: 10pt;">
"Contributor" shall mean Licensor and any individual or Legal Entity
on behalf of whom a Contribution has been received by Licensor and
subsequently incorporated within the Work.</span></p>
<p><b><span style="font-size: 10pt;">2. Grant of Copyright License.</span></b> </p>
<p><span style="font-size: 10pt;">
Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
copyright license to reproduce, prepare Derivative Works of,
publicly display, publicly perform, sublicense, and distribute the
Loading status checks…
Added implementation of retained store in H2
Loading branch information
andsel
committed
Nov 28, 2018
1 parent
80daadf
commit 213851335a4f22fc30796911d5bebcd1d26fb7c7
Unified
Split
Showing
9 changed files
with
132 additions
and 20 deletions.
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
moquette/build.gradle at 17f2c9390a7e80b887087186f3272c4814ac4846 · moquette-io/moquette · GitHub
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
1 parent
17f2c93
commit 4c6bae18620d9f1651cb9dde0cee0162c6ca25c6
Unified
Split
Showing
4 changed files
with
0 additions
and 221 deletions.
+0
Updates Netty to 4.1.53 to have MQTT5 support by andsel · Pull Request #546 · moquette-io/moquette · GitHub
import org.slf4j.Logger;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.slf4j.LoggerFactory;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
import static io.netty.handler.codec.mqtt.MqttQoS.AT_MOST_ONCE;
import static io.netty.handler.codec.mqtt.MqttQoS.AT_MOST_ONCE;
@Sharable
@Sharable
@@ -78,16 +80,16 @@ public void channelRead(ChannelHandlerContext ctx, Object message) {
false,
false,
0);
0);
MqttMessage pingResp = new MqttMessage(pingHeader);
MqttMessage pingResp = new MqttMessage(pingHeader);
Loading branch information
andsel
committed
Mar 17, 2019
1 parent
f3faee6
commit db4349ba669ee4a216b6104382e4cf320f5a7864
Unified
Split
Showing
5 changed files
with
6 additions
and 6 deletions.
+1
public class DurableSession extends ClientSession {
@@ -51,20 +49,6 @@ void waitingAck(int messageID, IMessagesStore.StoredMessage msg) {
}
}
class InboundFlightZone {
final Map<Integer, IMessagesStore.StoredMessage> inboundFlightMessages = new ConcurrentHashMap<>();
IMessagesStore.StoredMessage lookup(int messageID) {
return inboundFlightMessages.get(messageID);
}
void waitingRel(int messageID, IMessagesStore.StoredMessage msg) {
inboundFlightMessages.put(messageID, msg);
}
}
private static final Logger LOG = LoggerFactory.getLogger(DurableSession.class);
private final ISessionsStore sessionsStore;
−2
broker/src/main/java/io/moquette/spi/security/ISslContextCreator.java
+60
−0
broker/src/test/java/io/moquette/server/ServerIntegrationOpenSSLTest.java
+2
−1
broker/src/test/java/io/moquette/server/ServerLowlevelMessagesIntegrationTests.java
1
.gitignore
Show comments
View file
Edit file
Delete file
@@ -25,6 +25,7 @@ broker/runner
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/Utils.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/AbstractMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/ConnAckMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/ConnectMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/DisconnectMessage.java
+15
−0
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Fixed bug that on connection stolen dropped also the new connection (fix issue #108)
Refactored the storage part to be more rational and use ClientSession concept
Added config property 'autosave_interval' (issue #97)
Removed leaking ref to parent's node (issue #119 and #126)
Added internal publish once the broker is embedded (issue #113)
Removed client active/not active state from persistence (issue #118)
Avoid deletion of client descriptor in case of multiple clients with same clientID (issues #116 and #124)
Removed a queue per client of inFlightIds (never cleaned) in favor of single atomic generator
Version 0.7:
Fix issue #38, added aligned to MQTT 3.1.1
Refactored big event switch to @Annotation dispatcher
Switched from HawtDB to MapDB
Fixed bug that didn't update client subscription on persistent store so that on server restart there where ghost subscriptions.
Fixed Issue #11, multiple republish of persisted QoS1/2 messages on clients reconnections.
Refactored the publish logic for QoS 1 2 to try to be more readable
Added packetIdentifier storage and generation
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
−0
netty_parser/src/test/java/org/dna/mqtt/moquette/parser/netty/UtilsTest.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/commons/Constants.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/MQTTException.java
+15
−4
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/Utils.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/AbstractMessage.java
+15
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
.travis.yml
+3
−2
README.md
+51
−0
broker/build.gradle
+0
−282
broker/pom.xml
+89
−0
build.gradle
+63
−0
distribution/build.gradle
Work and such Derivative Works in Source or Object form.</span></p>
<p><b><span style="font-size: 10pt;">3. Grant of Patent License.</span></b><p>
<p><span style="font-size: 10pt;">
Subject to the terms and conditions of
this License, each Contributor hereby grants to You a perpetual,
worldwide, non-exclusive, no-charge, royalty-free, irrevocable
(except as stated in this section) patent license to make, have made,
use, offer to sell, sell, import, and otherwise transfer the Work,
where such license applies only to those patent claims licensable
by such Contributor that are necessarily infringed by their
Contribution(s) alone or by combination of their Contribution(s)
with the Work to which such Contribution(s) was submitted. If You
institute patent litigation against any entity (including a
cross-claim or counterclaim in a lawsuit) alleging that the Work
or a Contribution incorporated within the Work constitutes direct
or contributory patent infringement, then any patent licenses
+2
−0
ChangeLog.txt
+3
−1
broker/src/main/java/io/moquette/broker/IRetainedRepository.java
+21
−5
broker/src/main/java/io/moquette/broker/MemoryRetainedRepository.java
+12
−9
broker/src/main/java/io/moquette/broker/PostOffice.java
+24
−0
broker/src/main/java/io/moquette/broker/RetainedMessage.java
+4
Updates Netty to 4.1.53 to have MQTT5 support · moquette-io/moquette@b81b4c9 · GitHub
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Updates Netty to 4.1.53 to have MQTT5 support (#546)
Loading branch information
andsel
committed
Nov 3, 2020
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Updates Netty to 4.1.53 to have MQTT5 support by andsel · Pull Request #546 · moquette-io/moquette · GitHub
−39
broker/build.gradle
+0
−117
build.gradle
+0
−60
distribution/build.gradle
+0
−5
embedding_moquette/build.gradle
39
broker/build.gradle
Show comments
View file
Edit file
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
ctx.writeAndFlush(pingResp);
ctx.writeAndFlush(pingResp).addListener(CLOSE_ON_FAILURE);
break;
break;
default:
default:
LOG.error("Unkonwn MessageType:{}", messageType);
LOG.error("Unkonwn MessageType:{}", messageType);
break;
break;
−1
broker/src/main/java/io/moquette/broker/Server.java
+2
−2
build.gradle
+1
−1
distribution/src/main/scripts/moquette.bat
+1
−1
distribution/src/main/scripts/moquette.sh
+1
16
broker/src/main/java/io/moquette/spi/ISubscriptionsStore.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,19 @@
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
.settings/
.project
.classpath
/*/bin/
*.swp
*.class
1
broker/build.gradle
Show comments
View file
Edit file
Delete file
@@ -34,4 +34,5 @@ dependencies {
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/MessageIDMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PingReqMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PingRespMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubAckMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubCompMessage.java
+15
Fixed issue #16, bad packetId for will messages with qos > 0
Added store path variable "persistent_store" to configuration file (picked from Steven Warwick fork)
Removed OSGi bundle, developer time burner
Fixed github issue #30, returning error on mapdb file not deleted that corrupt reiterated builds
Added handling of allow_anonymous clients (as in mosquitto issue #34)
Modified the password_file format to use password stored in sha256 and not plain text
Added ACL file for topic read|write operations.
Removed cause of leakage of Netty Sessions (fix issue #39)
Cleaned Netty's stuff reference from Events used in Disruptor (fix issue #40)
Bad assignment of PacketID during publish to subscribed QoS0 topics (fix issue #38)
Fixed duplicated subscription with different QoS same client and topic (fix issue #49)
Fixed UNSUBSCRIBE that missed to remove the subscription from the persistent store (fix issue #50)
Fixed issue on multiple publish for overlapping subscription by the same client (fix issue #52).
Moved the authorization check before dropping an already connected client with same clientID (fix issue #44).
Fixed subscription tree that was unable to update clean session flag on subs with same client, topic and qos (fix issue #55)
Fixed overwriting of published qos in forward publish loop (fix issue #56)
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/ConnAckMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/ConnectMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/DisconnectMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/MessageIDMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PingReqMessage.java
moquette/build.gradle at 17f2c9390a7e80b887087186f3272c4814ac4846 · moquette-io/moquette · GitHub
moquette/build.gradle at 17f2c9390a7e80b887087186f3272c4814ac4846 · moquette-io/moquette · GitHub
moquette/build.gradle at 17f2c9390a7e80b887087186f3272c4814ac4846 · moquette-io/moquette · GitHub
Removed gradle script files · moquette-io/moquette@4c6bae1 · GitHub
Removed gradle script files · moquette-io/moquette@4c6bae1 · GitHub
Sign in to GitHub · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
+0
−80
distribution/pom.xml
+0
−57
distribution/src/main/assembly/assembly.xml
+5
−0
embedding_moquette/build.gradle
+0
−37
embedding_moquette/pom.xml
+9
−0
gradle/java.gradle
+19
granted to You under this License for that Work shall terminate
as of the date such litigation is filed.
</span></p>
<p><b><span style="font-size: 10pt;">
4. Redistribution.
</span></b></p>
<p><span style="font-size: 10pt;">You may reproduce and distribute copies of the
Work or Derivative Works thereof in any medium, with or without
modifications, and in Source or Object form, provided that You
meet the following conditions:</span><p>
<ul>
<li><span style="font-size: 10pt;">
(a) You must give any other recipients of the Work or
Derivative Works a copy of this License; and</span><p>
</li>
<li><span style="font-size: 10pt;">
(b) You must cause any modified files to carry prominent notices
−1
broker/src/main/java/io/moquette/broker/Server.java
+5
−0
broker/src/main/java/io/moquette/persistence/H2Builder.java
+55
−0
broker/src/main/java/io/moquette/persistence/H2RetainedRepository.java
+6
−4
broker/src/test/java/io/moquette/broker/PostOfficePublishTest.java
2
ChangeLog.txt
Show comments
View file
Edit file
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Updates Netty to 4.1.53 to have MQTT5 support
#546
Merged
andsel
merged 1 commit into
master
from
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
1 parent
4c6bae1
commit 89a4ada5a1cb218bde7cab0fd3317ef1f21daf51
Unified
Split
Showing
3 changed files
with
12 additions
and 10 deletions.
+5
−3
broker/pom.xml
+1
−6
distribution/src/main/assembly/assembly.xml
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
117
build.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
60
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
}
}
} catch (Throwable ex) {
} catch (Throwable ex) {
LOG.error("Exception was caught while processing MQTT message, " + ex.getCause(), ex);
LOG.error("Exception was caught while processing MQTT message, {}", ex.getCause(), ex);
ctx.fireExceptionCaught(ex);
ctx.fireExceptionCaught(ex);
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
} finally {
} finally {
ReferenceCountUtil.release(msg);
ReferenceCountUtil.release(msg);
}
}
−1
tools_scripts/integration/brokerEmbeddedTest.groovy
2
broker/src/main/java/io/moquette/broker/Server.java
Show comments
View file
Edit file
Delete file
@@ -55,7 +55,7 @@
public static void main(String[] args) throws IOException {
final Server server = new Server();
server.startServer();
System.out.println("Server started, version 0.12.1");
System.out.println("Server started, version 0.13-SNAPSHOT");
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread(server::stopServer));
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.spi;
import io.moquette.spi.impl.subscriptions.Subscription;
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 033a428
testCompile group: 'com.h2database', name: 'h2', version:'1.4.191'
testRuntime group: 'io.netty', name: 'netty-tcnative', version: '2.0.10.Final', classifier: 'linux-x86_64'
}
9
broker/src/main/java/io/moquette/BrokerConstants.java
Show comments
View file
Edit file
Delete file
@@ -32,8 +32,17 @@
+ DEFAULT_MOQUETTE_STORE_MAP_DB_FILENAME;
public static final String WEB_SOCKET_PORT_PROPERTY_NAME = "websocket_port";
public static final String WSS_PORT_PROPERTY_NAME = "secure_websocket_port";
/**
* Defines the SSL implementation to use, default to "JDK".
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubRecMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubRelMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PublishMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/SubAckMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/SubscribeMessage.java
+15
−0
Version 0.6:
Fix issue #42, bad password file path composition
Fix issue #43, missed topic case (finance/+ does has to match finance)
Integrated WebSocket support (issue #37)
Integrated SSL support (issue #41)
Fixed issue #40, check Logging inside the Felix OSGi
Fixed issue #46, implement correct behaviour for Will stuff
Splitted stores to persist messages and sessions into different interfaces
Renamed some methods in sessions store
Moved logging conf and slf4j-log4j deps out of broker to let it use the container's log configuration
Version 0.5:
Fix issue 20 (no flush of message on PINGREQ)
Fix issue 21 (bad channel timeout handler)
Created a self contained distribution package (issue 22)
Fix issue 28, OSGi-fied the broker
Fixed issue #31 missed to insert the hawtdb jars
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PingRespMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubAckMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubCompMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubRecMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PubRelMessage.java
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
−0
gradle/lint.gradle
+62
−0
gradle/test.gradle
BIN
gradle/wrapper/gradle-wrapper.jar
+6
−0
gradle/wrapper/gradle-wrapper.properties
+164
−0
gradlew
+90
−0
gradlew.bat
stating that You changed the files; and</span><p>
</li>
</li><span style="font-size: 10pt;">
(c) You must retain, in the Source form of any Derivative Works
that You distribute, all copyright, patent, trademark, and
attribution notices from the Source form of the Work,
excluding those notices that do not pertain to any part of
the Derivative Works; and</span><p>
</li>
<li><span style="font-size: 10pt;">
(d) If the Work includes a "NOTICE" text file as part of its
distribution, then any Derivative Works that You distribute must
include a readable copy of the attribution notices contained
within such NOTICE file, excluding those notices that do not
pertain to any part of the Derivative Works, in at least one
of the following places: within a NOTICE text file distributed
as part of the Derivative Works; within the Source form or
Delete file
@@ -1,6 +1,8 @@
Version 0.12:
Fixed issue #415
Dropped Hazelcast because at the moment Moquette is not designed to be clusterizable
Rewritten completly the broker to introduce the concept of MqttConnection
Dropped suppoert for MapDB and keeped only H2 MvStore for persistence
Version 0.10:
Netty epoll system added
4
broker/src/main/java/io/moquette/broker/IRetainedRepository.java
Show comments
View file
Edit file
Delete file
Sign in to GitHub · GitHub
moquette/PostOfficePublishTest.java at 213851335a4f22fc30796911d5bebcd1d26fb7c7 · moquette-io/moquette · GitHub
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
fix/update_netty_version
Nov 3, 2020
Merged
Updates Netty to 4.1.53 to have MQTT5 support
#546
andsel
merged 1 commit into
master
from
fix/update_netty_version
Nov 3, 2020
Conversation
0
Commits
1
Checks
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
+6
−1
pom.xml
8
broker/pom.xml
Show comments
View file
Edit file
Delete file
@@ -15,7 +15,9 @@
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<bintray.package>io.moquette.moquette-broker</bintray.package>
<netty.version>4.1.22.Final</netty.version>
<netty.version>4.1.53.Final</netty.version>
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
distribution/build.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
5
embedding_moquette/build.gradle
Show comments
View file
Edit file
Delete file
Load diff
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
@@ -97,17 +99,17 @@ public void channelRead(ChannelHandlerContext ctx, Object message) {
public void channelInactive(ChannelHandlerContext ctx) throws Exception {
public void channelInactive(ChannelHandlerContext ctx) throws Exception {
String clientID = NettyUtils.clientID(ctx.channel());
String clientID = NettyUtils.clientID(ctx.channel());
if (clientID != null && !clientID.isEmpty()) {
if (clientID != null && !clientID.isEmpty()) {
LOG.info("Notifying connection lost event. MqttClientId = {}.", clientID);
LOG.info("Notifying connection lost event. MqttClientId = {}", clientID);
m_processor.processConnectionLost(clientID, ctx.channel());
m_processor.processConnectionLost(clientID, ctx.channel());
}
}
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
}
4
build.gradle
Show comments
View file
Edit file
Delete file
@@ -3,7 +3,7 @@ allprojects {
apply plugin: 'maven-publish'
group = 'io.moquette'
version = '0.12.1'
version = '0.13-SNAPSHOT'
}
buildscript {
@@ -92,7 +92,7 @@ subprojects {
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
* @see io.netty.handler.ssl.SslProvider#name()
*/
public static final String SSL_PROVIDER = "ssl_provider";
public static final String SSL_PORT_PROPERTY_NAME = "ssl_port";
public static final String JKS_PATH_PROPERTY_NAME = "jks_path";
/** @see java.security.KeyStore#getInstance(String) for allowed types, default to "jks" */
public static final String KEY_STORE_TYPE = "key_store_type";
public static final String KEY_STORE_PASSWORD_PROPERTY_NAME = "key_store_password";
public static final String KEY_MANAGER_PASSWORD_PROPERTY_NAME = "key_manager_password";
public static final String ALLOW_ANONYMOUS_PROPERTY_NAME = "allow_anonymous";
175
broker/src/main/java/io/moquette/server/DefaultMoquetteSslContextCreator.java
Show comments
View file
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/UnsubAckMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/UnsubscribeMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/ZeroLengthMessage.java
28
about.html
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,28 @@
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
Added a separate mvn module to host the OSGi bundle declaration
Fixed issue #30
Added password file for identity management on connect (Fix #23)
Version 0.4:
Dropped support for MINA
Fix Issue 15 (bad re-activation of client's subscriptions after a recconection)
Fix Issue 16 (bad re-publish of stored messages after a client reconnection)
Fixed a bug in unsubscribe due to missed clientID check
Fixed Issue 18 (descriptor of a disconnected (not active) client)
Bug fix for override subscriptions to the same /topic but with different QoS (latest wins)
Added test to check the downgrading of QoS of messages sent to registered subscribers (fixed a bug of double delivery of QoS2 messages)
Version 0.3:
Added Netty IO connectors
Dropped tests based on Fuse source client lib moving to Paho java client
Version 0.2:
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/PublishMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/SubAckMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/SubscribeMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/UnsubAckMessage.java
+15
−0
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
+23
−0
h2_storage/build.gradle
+0
−129
h2_storage/pom.xml
+23
−0
mapdb_storage/build.gradle
+0
−129
mapdb_storage/pom.xml
+1
−1
osgi_test/README.md
+22
documentation, if provided along with the Derivative Works; or,
within a display generated by the Derivative Works, if and
wherever such third-party notices normally appear. The contents
of the NOTICE file are for informational purposes only and
do not modify the License. You may add Your own attribution
notices within Derivative Works that You distribute, alongside
or as an addendum to the NOTICE text from the Work, provided
that such additional attribution notices cannot be construed
as modifying the License.</span><p>
</li>
</ul>
</span></p>
<p><span style="font-size: 10pt;">
You may add Your own copyright statement to Your modifications and
may provide additional or different license terms and conditions
for use, reproduction, or distribution of Your modifications, or
for any such Derivative Works as a whole, provided Your use,
@@ -18,6 +18,8 @@
import io.moquette.broker.subscriptions.Topic;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import java.util.List;
public interface IRetainedRepository {
void cleanRetained(Topic topic);
@@ -26,5 +28,5 @@
boolean isEmpty();
MqttPublishMessage retainedOnTopic(String topic);
List<RetainedMessage> retainedOnTopic(String topic);
}
26
broker/src/main/java/io/moquette/broker/MemoryRetainedRepository.java
Show comments
View file
Edit file
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
0
Files changed
Conversation
Copy link
Quote reply
Collaborator
andsel
commented
Nov 2, 2020
No description provided.
Updates Netty to 4.1.53 to have MQTT5 support
Loading status checks…
c504891
andsel
force-pushed the
fix/update_netty_version
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<paho.version>1.2.1</paho.version>
<h2.version>1.4.199</h2.version>
</properties>
@@ -160,7 +162,7 @@
<dependency>
<groupId>org.eclipse.paho</groupId>
<artifactId>org.eclipse.paho.client.mqttv3</artifactId>
<version>1.2.0</version>
<scope>test</scope>
</dependency>
@@ -182,7 +184,7 @@
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-tcnative</artifactId>
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
This file was deleted.
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 4c6bae1
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
}
}
@Override
@Override
public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {
public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {
LOG.error("An unexpected exception was caught while processing MQTT message. Closing Netty channel. CId={}, " +
LOG.error("An unexpected exception was caught while processing MQTT message. Closing Netty channel. CId={}, " +
ctx.close();
ctx.close().addListener(CLOSE_ON_FAILURE);
}
}
@Override
@Override
4
broker/src/main/java/io/moquette/server/netty/metrics/BytesMetricsHandler.java
from components.java
groupId "$project.group"
version '0.12.1'
version '0.13-SNAPSHOT'
}
}
}
2
distribution/src/main/scripts/moquette.bat
Show comments
View file
Edit file
Delete file
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " |_| "
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Edit file
Delete file
@@ -16,19 +16,34 @@
package io.moquette.server;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
import java.security.GeneralSecurityException;
import java.security.KeyManagementException;
import java.security.KeyStore;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>About</title>
</head>
<body lang="EN-US">
<h2>About Moquette MQT broker</h2>
<p>June 11, 2014</p>
<h3>License</h3>
<p>The Eclipse Foundation makes available all content in this plug-in (&quot;Moquette MQTT&quot;). Unless otherwise
indicated below, the Content is provided to you under the terms and conditions of the
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
<p>If you did not receive this Content directly from the Eclipse Foundation, the Content is
Fixed issues (10, 11, 12, 13)
Fixed interdependency bug in test
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/UnsubscribeMessage.java
+15
−0
parser_commons/src/main/java/org/dna/mqtt/moquette/proto/messages/ZeroLengthMessage.java
28
about.html
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,28 @@
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
−0
osgi_test/build.gradle
+0
−183
osgi_test/pom.xml
+28
−38
osgi_test/src/test/java/io/moquette/test/osgi/MoquetteOsgiTest.java
+9
−0
perf/build.gradle
+0
−142
perf/pom.xml
+0
−235
reproduction, and distribution of the Work otherwise complies with
the conditions stated in this License.
</span></p>
<p><b><span style="font-size: 10pt;">
5. Submission of Contributions.
</span></b></p>
<p><span style="font-size: 10pt;">Unless You explicitly state otherwise,
any Contribution intentionally submitted for inclusion in the Work
by You to the Licensor shall be under the terms and conditions of
this License, without any additional terms or conditions.
Notwithstanding the above, nothing herein shall supersede or modify
the terms of any separate license agreement you may have executed
with Licensor regarding such Contributions.
</span></p>
<p><b><span style="font-size: 10pt;">
Delete file
@@ -16,8 +16,12 @@
package io.moquette.broker;
import io.moquette.broker.subscriptions.Topic;
import io.netty.buffer.ByteBuf;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.ConcurrentMap;
@@ -26,16 +30,20 @@
* */
final class MemoryRetainedRepository implements IRetainedRepository {
private final ConcurrentMap<String, MqttPublishMessage> storage = new ConcurrentHashMap<>();
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
branch
from
b81b4c9
to
c504891
Nov 2, 2020
andsel
added
the
dependencies
label
Nov 2, 2020
Hide details
View details
andsel
merged commit 89a4ada
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
<version>2.0.10.Final</version>
<classifier>linux-x86_64</classifier>
<scope>test</scope>
</dependency>
7
distribution/src/main/assembly/assembly.xml
Show comments
View file
Edit file
Delete file
@@ -37,11 +37,6 @@
<outputDirectory>config/</outputDirectory>
</file>
<file>
<source>src/main/resources/hazelcast.xml</source>
Sign in
to your account
Jump to bottom
Reintroduce maven project files
#542
Merged
andsel
merged 1 commit into
master
from
reintroduce_maven_project_files
Nov 2, 2020
Merged
Reintroduce maven project files
#542
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Show comments
View file
Edit file
Delete file
@@ -24,6 +24,8 @@
import io.netty.util.Attribute;
import io.netty.util.Attribute;
import io.netty.util.AttributeKey;
import io.netty.util.AttributeKey;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
public class BytesMetricsHandler extends ChannelDuplexHandler {
public class BytesMetricsHandler extends ChannelDuplexHandler {
private static final AttributeKey<BytesMetrics> ATTR_KEY_METRICS = AttributeKey.valueOf("BytesMetrics");
private static final AttributeKey<BytesMetrics> ATTR_KEY_METRICS = AttributeKey.valueOf("BytesMetrics");
echo " "
echo " version: 0.12.1 "
echo " version: 0.13-SNAPSHOT "
set "CURRENT_DIR=%cd%"
if not "%MOQUETTE_HOME%" == "" goto gotHome
2
distribution/src/main/scripts/moquette.sh
Show comments
View file
Edit file
Delete file
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " |_| "
echo " "
echo " version: 0.12.1 "
Reject
Save preferences
import java.security.PrivateKey;
import java.security.cert.Certificate;
import java.security.cert.X509Certificate;
import java.util.Collections;
import java.util.Objects;
import io.moquette.BrokerConstants;
import io.moquette.server.config.IConfig;
import io.moquette.spi.security.ISslContextCreator;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import io.netty.handler.ssl.ClientAuth;
import io.netty.handler.ssl.SslContext;
import io.netty.handler.ssl.SslContextBuilder;
import io.netty.handler.ssl.SslProvider;
import javax.net.ssl.KeyManagerFactory;
import javax.net.ssl.SSLContext;
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
apply to your use of any object code in the Content. Check the Redistributor's license that was
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
indicated below, the terms and conditions of the EPL still apply to any source code in the Content
and such source code may be obtained at <a href="http://www.eclipse.org/">http://www.eclipse.org</a>.</p>
</body>
</html>
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
New issue
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>About</title>
</head>
<body lang="EN-US">
<h2>About Moquette MQT broker</h2>
<p>June 11, 2014</p>
<h3>License</h3>
<p>The Eclipse Foundation makes available all content in this plug-in (&quot;Moquette MQTT&quot;). Unless otherwise
indicated below, the Content is provided to you under the terms and conditions of the
Eclipse Public License Version 1.0 (&quot;EPL&quot;). A copy of the EPL is available
at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.
For purposes of the EPL, &quot;Program&quot; will mean the Content.</p>
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Updates Netty to 4.1.53 to have MQTT5 support
Loading branch information
andsel
committed
Nov 2, 2020
1 parent
4c6bae1
commit c504891c0227a7baa8b9209bafb6dd2284ffc06e
Unified
pom.xml
+16
−0
settings.gradle
3
.editorconfig
Show comments
View file
Edit file
Delete file
@@ -11,3 +11,6 @@ charset = utf-8
indent_style = space
indent_size = 4
max_line_length=120
[*.gradle]
indent_size = 2
6. Trademarks.
</span></b></p>
<p><span style="font-size: 10pt;">This License does not grant permission to use the trade
names, trademarks, service marks, or product names of the Licensor,
except as required for reasonable and customary use in describing the
origin of the Work and reproducing the content of the NOTICE file.
</span></p>
<p><b><span style="font-size: 10pt;">
7. Disclaimer of Warranty.
</span></b></p>
<p><span style="font-size: 10pt;">Unless required by applicable law or
agreed to in writing, Licensor provides the Work (and each
Contributor provides its Contributions) on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied, including, without limitation, any warranties or conditions
private final ConcurrentMap<Topic, RetainedMessage> storage = new ConcurrentHashMap<>();
@Override
public void cleanRetained(Topic topic) {
storage.remove(topic.toString());
storage.remove(topic);
}
@Override
public void retain(Topic topic, MqttPublishMessage msg) {
storage.put(topic.toString(), msg);
final ByteBuf payload = msg.content();
byte[] rawPayload = new byte[payload.readableBytes()];
payload.getBytes(0, rawPayload);
final RetainedMessage toStore = new RetainedMessage(msg.fixedHeader().qosLevel(), rawPayload);
storage.put(topic, toStore);
}
@Override
Save preferences
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
into
master
Nov 3, 2020
0 of 2 checks passed
0 of 2 checks passed
continuous-integration/travis-ci/pr
The Travis CI build failed
Details
continuous-integration/travis-ci/push
The Travis CI build is in progress
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
17f2c9390a
moquette/embedding_moquette/build.gradle
Go to file
Go to file
<outputDirectory>config/</outputDirectory>
</file>
<file>
<source>src/main/resources/README.txt</source>
</file>
@@ -54,4 +49,4 @@
<useProjectArtifact>true</useProjectArtifact> <!-- avoid inclusion of the artifact itself -->
</dependencySet>
</dependencySets>
</assembly>
</assembly>
7
pom.xml
andsel
merged 1 commit into
master
from
reintroduce_maven_project_files
Nov 2, 2020
Conversation
0
Commits
1
Checks
0
Files changed
Conversation
Copy link
Quote reply
Collaborator
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
@@ -53,7 +55,7 @@ public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
BytesMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
BytesMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
metrics.incrementWrote(((ByteBuf) msg).writableBytes());
metrics.incrementWrote(((ByteBuf) msg).writableBytes());
ctx.write(msg, promise);
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
}
@Override
@Override
3
broker/src/main/java/io/moquette/server/netty/metrics/MQTTMessageLogger.java
echo " version: 0..13-SNAPSHOT "
cd "$(dirname "$0")"
2
tools_scripts/integration/brokerEmbeddedTest.groovy
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@Grab(group='io.moquette', module='moquette-broker', version='0.12.1')
@Grab(group='io.moquette', module='moquette-broker', version='0.13-SNAPSHOT')
import io.moquette.server.Server
Toggle all file notes
import javax.net.ssl.TrustManager;
import javax.net.ssl.TrustManagerFactory;
import java.io.*;
import java.net.URL;
import java.security.*;
import java.security.cert.CertificateException;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
/**
* Moquette server implementation to load SSL certificate from local filesystem path configured in
@@ -38,77 +53,120 @@
private static final Logger LOG = LoggerFactory.getLogger(DefaultMoquetteSslContextCreator.class);
private IConfig props;
private final IConfig props;
DefaultMoquetteSslContextCreator(IConfig props) {
this.props = props;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMatchingCondition.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Updates Netty to 4.1.53 to have MQTT5 support
#546
Merged
andsel
merged 1 commit into
master
<p>If you did not receive this Content directly from the Eclipse Foundation, the Content is
being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may
apply to your use of any object code in the Content. Check the Redistributor's license that was
provided with the Content. If no such license exists, contact the Redistributor. Unless otherwise
indicated below, the terms and conditions of the EPL still apply to any source code in the Content
and such source code may be obtained at <a href="http://www.eclipse.org/">http://www.eclipse.org</a>.</p>
</body>
</html>
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMatchingCondition.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Split
Showing
3 changed files
with
12 additions
and 10 deletions.
+5
−3
broker/pom.xml
+1
−6
distribution/src/main/assembly/assembly.xml
+6
−1
pom.xml
8
4
.gitignore
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,5 @@
/build
*/build/
/target/
/parser/target/
/benchmarking/target/
@@ -31,7 +33,6 @@ broker/runner
.mtj.tmp/
# Package Files #
*.jar
of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
PARTICULAR PURPOSE. You are solely responsible for determining the
appropriateness of using or redistributing the Work and assume any
risks associated with Your exercise of permissions under this License.
</span></p>
<p><b><span style="font-size: 10pt;">
8. Limitation of Liability.
</span></b></p>
<p><span style="font-size: 10pt;">In no event and under no legal theory,
whether in tort (including negligence), contract, or otherwise,
unless required by applicable law (such as deliberate and grossly
negligent acts) or agreed to in writing, shall any Contributor be
liable to You for damages, including any direct, indirect, special,
incidental, or consequential damages of any character arising as a
result of this License or out of the use or inability to use the
@@ -44,7 +52,15 @@ public boolean isEmpty() {
}
@Override
public MqttPublishMessage retainedOnTopic(String topic) {
return storage.get(topic);
public List<RetainedMessage> retainedOnTopic(String topic) {
final Topic searchTopic = new Topic(topic);
final List<RetainedMessage> matchingMessages = new ArrayList<>();
for (Map.Entry<Topic, RetainedMessage> entry : storage.entrySet()) {
final Topic scanTopic = entry.getKey();
if (searchTopic.match(scanTopic)) {
matchingMessages.add(entry.getValue());
}
}
return matchingMessages;
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Updates Netty to 4.1.53 to have MQTT5 support
Loading branch information
andsel
committed
Nov 2, 2020
1 parent
4c6bae1
commit b81b4c950cad678c28b567e06c11397d271c6202
Details
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
dependencies
Projects
None yet
Milestone
No milestone
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
5 lines (4 sloc)
97 Bytes
Raw
Blame
description = 'Moquette - Embedded test'
dependencies {
compile project(':moquette-broker')
}
Copy lines
Copy permalink
View git blame
Show comments
View file
Edit file
Delete file
@@ -3,7 +3,7 @@
<modelVersion>4.0.0</modelVersion>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<netty.version>4.1.12.Final</netty.version>
<!--<netty.version>4.1.12.Final</netty.version>-->
<source.version>1.8</source.version>
<target.version>1.8</target.version>
<bintray.repo>andsel/maven</bintray.repo>
@@ -190,6 +190,11 @@
</profiles>
andsel
commented
Oct 30, 2020
•
edited
This PR removes gradle related files and reintroduce pom.xml files.
Updates travis.yml
Reintroduce maven build, with wrapper, removed gradle.
Loading status checks…
7f91798
andsel
force-pushed the
reintroduce_maven_project_files
branch
from
1d20eaf
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
to your account
Jump to bottom
Updates Netty to 4.1.53 to have MQTT5 support
#546
Merged
andsel
merged 1 commit into
master
from
fix/update_netty_version
Nov 3, 2020
Merged
Updates Netty to 4.1.53 to have MQTT5 support
#546
andsel
merged 1 commit into
Show comments
View file
Edit file
Delete file
@@ -28,6 +28,7 @@
import java.util.List;
import java.util.List;
import static io.moquette.spi.impl.Utils.messageId;
import static io.moquette.spi.impl.Utils.messageId;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
/**
/**
*
*
@@ -100,6 +101,6 @@ public void channelInactive(ChannelHandlerContext ctx) throws Exception {
0 comments
on commit db4349b
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
this.props = Objects.requireNonNull(props);
}
@Override
public SSLContext initSSLContext() {
public SslContext initSSLContext() {
LOG.info("Checking SSL configuration properties...");
final String keyPassword = props.getProperty(BrokerConstants.KEY_MANAGER_PASSWORD_PROPERTY_NAME);
if (keyPassword == null || keyPassword.isEmpty()) {
LOG.warn("The key manager password is null or empty. The SSL context won't be initialized.");
return null;
}
try {
SslProvider sslProvider = getSSLProvider();
KeyStore ks = loadKeyStore();
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
/**
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMessaging.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
3 Closed
1 Open
3 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
from
fix/update_netty_version
Nov 3, 2020
+12
−10
Conversation
0
Commits
1
Checks
0
Files changed
3
Updates Netty to 4.1.53 to have MQTT5 support
c504891
Select commit
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
17f2c9390a
moquette/distribution/build.gradle
Go to file
Go to file
T
Go to line
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
17f2c9390a
moquette/build.gradle
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
17f2c9390a
moquette/broker/build.gradle
Go to file
Go to file
T
Go to line
L
Copy path
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Removed gradle script files
Loading branch information
andsel
committed
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Removed gradle script files
Loading branch information
andsel
committed
Nov 2, 2020
broker/pom.xml
Show comments
View file
Edit file
Delete file
@@ -15,7 +15,9 @@
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<bintray.package>io.moquette.moquette-broker</bintray.package>
<netty.version>4.1.22.Final</netty.version>
<netty.version>4.1.53.Final</netty.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<paho.version>1.2.1</paho.version>
<h2.version>1.4.199</h2.version>
</properties>
@@ -160,7 +162,7 @@
*.war
*.ear
@@ -43,3 +44,4 @@ broker/nb-configuration.xml
broker/nbactions-Server.xml
maven-metadata.xml
/.gradle/
10
.travis.yml
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,13 @@
language: java
Work (including but not limited to damages for loss of goodwill,
other commercial damages or losses), even if such Contributor
has been advised of the possibility of such damages.
</span></p>
<p><b><span style="font-size: 10pt;">
9. Accepting Warranty or Additional Liability.
</span></b></p>
<p><span style="font-size: 10pt;">While redistributing
the Work or Derivative Works thereof, You may choose to offer,
and charge a fee for, acceptance of support, warranty, indemnity,
or other liability obligations and/or rights consistent with this
License. However, in accepting such obligations, You may act only
on Your own behalf and on Your sole responsibility, not on behalf
of any other Contributor, and only if You agree to indemnify,
defend, and hold each Contributor harmless for any liability
}
}
21
broker/src/main/java/io/moquette/broker/PostOffice.java
Show comments
View file
Edit file
Delete file
@@ -21,6 +21,7 @@
import io.moquette.broker.subscriptions.Topic;
import io.moquette.broker.security.IAuthorizatorPolicy;
import io.netty.buffer.ByteBuf;
import io.netty.buffer.Unpooled;
import io.netty.handler.codec.mqtt.*;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Unified
Split
Showing
2 changed files
with
11 additions
and 4 deletions.
+5
−3
broker/pom.xml
+6
−1
pom.xml
8
broker/pom.xml
Show comments
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
<repositories>
<repository>
<id>Maven repo</id>
<url>https://repo1.maven.org/maven2/</url>
</repository>
<repository>
<id>Paho Releases</id>
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
Toggle all file notes
0 comments
on commit 89a4ada
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
to
7f91798
Nov 2, 2020
andsel
added this to the 0.14 milestone
Nov 2, 2020
Hide details
View details
andsel
merged commit 17f2c93
into
master
Nov 2, 2020
2 checks passed
2 checks passed
continuous-integration/travis-ci/pr
The Travis CI build passed
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Updates Netty to 4.1.53 to have MQTT5 support
#546
Merged
andsel
merged 1 commit into
master
from
fix/update_netty_version
Nov 3, 2020
+12
master
from
fix/update_netty_version
Nov 3, 2020
+12
−10
Conversation
0
Commits
1
Checks
0
Files changed
3
Commits on Nov 2, 2020
@Override
@Override
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
logMQTTMessage(ctx, msg, "C<-B");
logMQTTMessage(ctx, msg, "C<-B");
ctx.write(msg, promise);
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
}
}
}
4
broker/src/main/java/io/moquette/server/netty/metrics/MessageMetricsHandler.java
Show comments
View file
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
SslContextBuilder contextBuilder;
switch (sslProvider) {
case JDK:
contextBuilder = builderWithJdkProvider(ks, keyPassword);
break;
case OPENSSL:
case OPENSSL_REFCNT:
contextBuilder = builderWithOpenSSLProvider(ks, keyPassword);
break;
default:
LOG.error("unsupported SSL provider {}", sslProvider);
return null;
}
// if client authentification is enabled a trustmanager needs to be added to the ServerContext
String sNeedsClientAuth = props.getProperty(BrokerConstants.NEED_CLIENT_AUTH, "false");
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Bump junit from 4.8.2 to 4.13.1
c504891
Updates Netty to 4.1.53 to have MQTT5 support
andsel Nov 2, 2020
Merged
Updates Netty to 4.1.53 to have MQTT5 support
#546
Updates Netty to 4.1.53 to have MQTT5 support
c504891
Select commit
c504891
Updates Netty to 4.1.53 to have MQTT5 support
andsel Nov 2, 2020
Waiting for checks information...
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
package org.dna.mqtt.moquette.messaging.spi;
/**
/**
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IMessaging.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
L
Copy path
Cannot retrieve contributors at this time
60 lines (46 sloc)
1.31 KB
Raw
Blame
apply plugin: 'application'
// adds task shadowJar - Create a combined JAR of project and runtime dependencies
description = 'Moquette - distribution'
apply plugin: 'com.github.johnrengelman.shadow'
mainClassName = "io.moquette.integration.Server"
dependencies {
compile project(':moquette-broker')
compile group: 'org.slf4j', name: 'slf4j-log4j12', version:'1.7.5'
}
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
117 lines (100 sloc)
3.1 KB
Raw
Blame
allprojects {
apply plugin: 'maven'
apply plugin: 'maven-publish'
group = 'io.moquette'
version = '0.13-SNAPSHOT'
Cannot retrieve contributors at this time
39 lines (28 sloc)
2.06 KB
Raw
Blame
description = 'Moquette - broker'
dependencies {
compile group: 'io.netty', name: 'netty-common', version: nettyVersion
compile group: 'io.netty', name: 'netty-buffer', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport', version: nettyVersion
compile group: 'io.netty', name: 'netty-handler', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-http', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-mqtt', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport-native-epoll', version: nettyVersion, classifier: 'linux-x86_64'
Nov 2, 2020
1 parent
17f2c93
commit 4c6bae18620d9f1651cb9dde0cee0162c6ca25c6
Unified
Split
Showing
4 changed files
with
0 additions
and 221 deletions.
+0
−39
broker/build.gradle
+0
−117
1 parent
17f2c93
commit 4c6bae18620d9f1651cb9dde0cee0162c6ca25c6
Unified
Split
Showing
4 changed files
with
0 additions
and 221 deletions.
+0
−39
broker/build.gradle
+0
−117
build.gradle
+0
<dependency>
<groupId>org.eclipse.paho</groupId>
<artifactId>org.eclipse.paho.client.mqttv3</artifactId>
<version>1.2.0</version>
<scope>test</scope>
</dependency>
@@ -182,7 +184,7 @@
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-tcnative</artifactId>
<version>2.0.10.Final</version>
<classifier>linux-x86_64</classifier>
<scope>test</scope>
</dependency>
7
distribution/src/main/assembly/assembly.xml
jdk:
- oraclejdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
directories:
- $HOME/.gradle/caches/
- $HOME/.gradle/wrapper/
script:
- ./gradlew install test
5
README.md
Show comments
View file
Edit file
incurred by, or claims asserted against, such Contributor by reason
of your accepting any such warranty or additional liability.
</span></p>
<p><span style="font-size: 10pt;">
END OF TERMS AND CONDITIONS
</span></p>
<p><span style="font-size: 10pt;">
APPENDIX: How to apply the Apache License to your work.
</span></p>
<p><span style="font-size: 10pt;">
To apply the Apache License to your work, attach the following
boilerplate notice, with the fields enclosed by brackets "[]"
replaced with your own identifying information. (Don't include
the brackets!) The text should be enclosed in the appropriate
comment syntax for the file format. We also recommend that a
file or class name and description of purpose be included on the
same "printed page" as the copyright notice for easier
@@ -99,19 +100,21 @@ private void publishRetainedMessagesForSubscriptions(String clientID, List<Subsc
Session targetSession = this.sessionRegistry.retrieve(clientID);
for (Subscription subscription : newSubscriptions) {
final String topicFilter = subscription.getTopicFilter().toString();
final MqttPublishMessage retainedMsg = retainedRepository.retainedOnTopic(topicFilter);
final List<RetainedMessage> retainedMsgs = retainedRepository.retainedOnTopic(topicFilter);
if (retainedMsg == null) {
if (retainedMsgs.isEmpty()) {
// not found
continue;
}
final MqttQoS retainedQos = retainedMsg.fixedHeader().qosLevel();
MqttQoS qos = lowerQosToTheSubscriptionDesired(subscription, retainedQos);
final ByteBuf origPayload = retainedMsg.payload();
ByteBuf payload = origPayload.retainedDuplicate();
targetSession.sendRetainedPublishOnSessionAtQos(subscription.getTopicFilter(), qos, payload);
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
213851335a
moquette/broker/src/test/java/io/moquette/broker/PostOfficePublishTest.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
View file
Edit file
Delete file
@@ -15,7 +15,9 @@
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<bintray.package>io.moquette.moquette-broker</bintray.package>
<netty.version>4.1.22.Final</netty.version>
<netty.version>4.1.53.Final</netty.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<paho.version>1.2.1</paho.version>
<h2.version>1.4.199</h2.version>
</properties>
@@ -160,7 +162,7 @@
<dependency>
<groupId>org.eclipse.paho</groupId>
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Details
continuous-integration/travis-ci/push
The Travis CI build passed
Details
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
−10
Conversation
0
Commits
1
Checks
0
Files changed
3
Merged
Updates Netty to 4.1.53 to have MQTT5 support
#546
Changes from all commits
Commits
Show all changes
1 commit
Select commit
Updates Netty to 4.1.53 to have MQTT5 support
andsel
committed
Nov 2, 2020
Loading status checks…
c504891
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Edit file
Delete file
@@ -23,6 +23,8 @@
import io.netty.util.Attribute;
import io.netty.util.Attribute;
import io.netty.util.AttributeKey;
import io.netty.util.AttributeKey;
import static io.netty.channel.ChannelFutureListener.CLOSE_ON_FAILURE;
public class MessageMetricsHandler extends ChannelDuplexHandler {
public class MessageMetricsHandler extends ChannelDuplexHandler {
private static final AttributeKey<MessageMetrics> ATTR_KEY_METRICS = AttributeKey.valueOf("MessageMetrics");
private static final AttributeKey<MessageMetrics> ATTR_KEY_METRICS = AttributeKey.valueOf("MessageMetrics");
@@ -52,7 +54,7 @@ public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
public void write(ChannelHandlerContext ctx, Object msg, ChannelPromise promise) throws Exception {
MessageMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
if (Boolean.valueOf(sNeedsClientAuth)) {
addClientAuthentication(ks, contextBuilder);
}
contextBuilder.sslProvider(sslProvider);
SslContext sslContext = contextBuilder.build();
LOG.info("The SSL context has been initialized successfully.");
return sslContext;
} catch (GeneralSecurityException | IOException ex) {
LOG.error("Unable to initialize SSL context.", ex);
return null;
}
}
private KeyStore loadKeyStore() throws IOException, GeneralSecurityException {
final String jksPath = props.getProperty(BrokerConstants.JKS_PATH_PROPERTY_NAME);
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IPersistentSubscriptionStore.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
package org.dna.mqtt.moquette.messaging.spi;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
15
def packageSet = project.copySpec {
from 'src/main/resources/README.txt'
into ('bin') {
from 'src/main/scripts/'
fileMode=0755
}
into ('lib') {
}
into ('lib') {
from configurations.compile
}
into ('config') {
from 'src/main/resources/moquette.conf'
from 'src/main/resources/password_file.conf'
// from 'src/main/resources/acl.conf'
}
buildscript {
repositories {
maven {
url "https://plugins.gradle.org/m2/"
}
}
dependencies {
classpath 'net.ltgt.gradle:gradle-errorprone-plugin:0.0.13'
classpath 'gradle.plugin.com.github.spotbugs:gradlePlugin:1.6.0'
classpath 'com.github.jengelman.gradle.plugins:shadow:5.2.0'
classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7.3'
}
}
subprojects {
compile group: 'com.h2database', name: 'h2-mvstore', version: '1.4.199'
compile group: 'com.zaxxer', name: 'HikariCP', version:'2.4.7'
compile group: 'io.dropwizard.metrics', name: 'metrics-core', version:'3.2.2'
compile group: 'io.dropwizard.metrics', name: 'metrics-jvm', version:'3.2.2'
compile group: 'com.librato.metrics', name: 'metrics-librato', version:'5.1.0'
compile group: 'com.librato.metrics', name: 'librato-java' , version:'2.1.0'
compile group: 'com.bugsnag', name: 'bugsnag', version:'[3.0,4.0)'
compile group: 'commons-codec', name: 'commons-codec', version:'1.10'
compile group: 'org.slf4j', name: 'slf4j-api', version:'1.7.5'
runtime group: 'org.slf4j', name: 'slf4j-log4j12', version:'1.7.5' // only for local tests
testCompile group: 'org.slf4j', name: 'slf4j-log4j12', version:'1.7.5'
testCompile group: 'org.fusesource.mqtt-client', name: 'mqtt-client', version:'1.12'
testCompile group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version:'1.2.0'
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.199'
testRuntime group: 'io.netty', name: 'netty-tcnative', version: '2.0.10.Final', classifier: 'linux-x86_64'
build.gradle
+0
−60
distribution/build.gradle
+0
−5
embedding_moquette/build.gradle
39
broker/build.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
−60
distribution/build.gradle
+0
−5
embedding_moquette/build.gradle
39
broker/build.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
117
Show comments
View file
Edit file
Delete file
@@ -37,11 +37,6 @@
<outputDirectory>config/</outputDirectory>
</file>
<file>
<source>src/main/resources/hazelcast.xml</source>
<outputDirectory>config/</outputDirectory>
</file>
<file>
<source>src/main/resources/README.txt</source>
</file>
Delete file
@@ -64,6 +64,7 @@ Include dependency in your project:
## Build from sources
After a git clone of the repository, cd into the cloned sources and: `mvn clean package`.
In distribution/target directory will be produced the selfcontained tar for the broker with all dependencies and a running script.
After a git clone of the repository, cd into the cloned sources and: `./gradlew clean distribution:distMoquetteTar` or
`./gradlew clean distribution:distMoquetteZip`.
In distribution/build directory will be produced the selfcontained file for the broker with all dependencies and a running script.
51
broker/build.gradle
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,51 @@
identification within third-party archives.
</span></p>
<p><span style="font-size: 10pt;">
Copyright [yyyy] [name of copyright owner]
</span></p>
<p><span style="font-size: 10pt;">
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
</span></p>
<p><span style="font-size: 10pt;">
http://www.apache.org/licenses/LICENSE-2.0
</span></p>
<p><span style="font-size: 10pt;">
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
for (RetainedMessage retainedMsg : retainedMsgs) {
final MqttQoS retainedQos = retainedMsg.qosLevel();
MqttQoS qos = lowerQosToTheSubscriptionDesired(subscription, retainedQos);
// final ByteBuf origPayload = retainedMsg.getPayload();
final ByteBuf payloadBuf = Unpooled.wrappedBuffer(retainedMsg.getPayload());
// ByteBuf payload = origPayload.retainedDuplicate();
targetSession.sendRetainedPublishOnSessionAtQos(subscription.getTopicFilter(), qos, payloadBuf);
}
}
}
24
broker/src/main/java/io/moquette/broker/RetainedMessage.java
Show comments
View file
Edit file
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
415 lines (350 sloc)
18.8 KB
Raw
Blame
<artifactId>org.eclipse.paho.client.mqttv3</artifactId>
<version>1.2.0</version>
<scope>test</scope>
</dependency>
@@ -182,7 +184,7 @@
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-tcnative</artifactId>
<version>2.0.10.Final</version>
<classifier>linux-x86_64</classifier>
<scope>test</scope>
</dependency>
7
pom.xml
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
0.14
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
c504891
Updates Netty to 4.1.53 to have MQTT5 support
andsel Nov 2, 2020
File filter...
Filter file types
.xml
(3)
All 1 file type selected
Filter viewed files
Hide viewed files
Clear filters
Jump to…
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
MessageMetrics metrics = ctx.channel().attr(ATTR_KEY_METRICS).get();
metrics.incrementWrote(1);
metrics.incrementWrote(1);
ctx.write(msg, promise);
ctx.write(msg, promise).addListener(CLOSE_ON_FAILURE);
}
}
@Override
@Override
16
broker/src/main/java/io/moquette/spi/DurableSession.java
Show comments
View file
Edit file
Delete file
@@ -22,9 +22,7 @@
LOG.info("Initializing SSL context. KeystorePath = {}.", jksPath);
if (jksPath == null || jksPath.isEmpty()) {
// key_store_password or key_manager_password are empty
LOG.warn("The keystore path is null or empty. The SSL context won't be initialized.");
return null;
}
// if we have the port also the jks then keyStorePassword and keyManagerPassword
// has to be defined
final String keyStorePassword = props.getProperty(BrokerConstants.KEY_STORE_PASSWORD_PROPERTY_NAME);
final String keyManagerPassword = props.getProperty(BrokerConstants.KEY_MANAGER_PASSWORD_PROPERTY_NAME);
if (keyStorePassword == null || keyStorePassword.isEmpty()) {
// key_store_password or key_manager_password are empty
LOG.warn("The keystore password is null or empty. The SSL context won't be initialized.");
return null;
}
if (keyManagerPassword == null || keyManagerPassword.isEmpty()) {
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
import java.util.List;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IStorageService.java
Show comments
View file
Edit file
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Reject
Save preferences
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IPersistentSubscriptionStore.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
}
into ('config') {
from 'src/main/resources/log4j.properties'
}
}
task distMoquetteTar(type: Tar) {
destinationDir file('build')
extension 'tar'
compression = Compression.GZIP
with packageSet
}
distMoquetteTar.dependsOn jar
task distMoquetteZip(type: Zip) {
destinationDir file('build')
with packageSet
}
distMoquetteZip.dependsOn jar
repositories {
mavenLocal()
}
apply from: new File(rootDir, 'gradle/java.gradle')
// apply from: new File(rootDir, 'gradle/test.gradle')
// apply from: new File(rootDir, 'gradle/lint.gradle')
apply plugin: 'com.jfrog.bintray'
apply plugin: 'eclipse'
ext {
nettyVersion = '4.1.22.Final'
}
task packageTests(type: Jar) {
from sourceSets.test.output
from sourceSets.test.allSource
from sourceSets.test.resources
classifier = 'tests'
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
117
build.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
60
distribution/build.gradle
Show comments
build.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
60
distribution/build.gradle
Show comments
View file
Edit file
Delete file
@@ -54,4 +49,4 @@
<useProjectArtifact>true</useProjectArtifact> <!-- avoid inclusion of the artifact itself -->
</dependencySet>
</dependencySets>
</assembly>
</assembly>
7
pom.xml
Show comments
View file
Edit file
Delete file
@@ -3,7 +3,7 @@
<modelVersion>4.0.0</modelVersion>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
description = 'Moquette - broker'
apply plugin: 'osgi'
apply plugin: 'maven'
dependencies {
compile group: 'io.netty', name: 'netty-common', version: nettyVersion
compile group: 'io.netty', name: 'netty-buffer', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport', version: nettyVersion
compile group: 'io.netty', name: 'netty-handler', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-http', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-mqtt', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport-native-epoll', version: nettyVersion, classifier: 'linux-x86_64'
compile group: 'io.dropwizard.metrics', name: 'metrics-core', version:'3.2.2'
compile group: 'io.dropwizard.metrics', name: 'metrics-jvm', version:'3.2.2'
compile group: 'com.librato.metrics', name: 'metrics-librato', version:'5.1.0'
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</span></p>
</div>
</body></html>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Delete file
@@ -0,0 +1,24 @@
package io.moquette.broker;
import io.netty.handler.codec.mqtt.MqttQoS;
import java.io.Serializable;
public class RetainedMessage implements Serializable{
private final MqttQoS qos;
private final byte[] payload;
public RetainedMessage(MqttQoS qos, byte[] payload) {
this.qos = qos;
this.payload = payload;
}
public MqttQoS qosLevel() {
return qos;
}
public byte[] getPayload() {
/*
* Copyright (c) 2012-2018 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.broker;
import io.moquette.broker.security.PermitAllAuthorizatorPolicy;
Show comments
View file
Edit file
Delete file
@@ -3,7 +3,7 @@
<modelVersion>4.0.0</modelVersion>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<netty.version>4.1.12.Final</netty.version>
<!--<netty.version>4.1.12.Final</netty.version>-->
<source.version>1.8</source.version>
<target.version>1.8</target.version>
<bintray.repo>andsel/maven</bintray.repo>
@@ -190,6 +190,11 @@
Save preferences
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Jump to file
Failed to load files. Retry
Always
Unified
Split
Just for now
Hide whitespace changes
Apply and reload
8
broker/pom.xml
Show comments
View file
Edit file
Delete file
Open in desktop
@@ -15,7 +15,9 @@
<properties>
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
import java.util.Collection;
import java.util.Collection;
import java.util.HashSet;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;
import java.util.Set;
import java.util.concurrent.ConcurrentHashMap;
public class DurableSession extends ClientSession {
public class DurableSession extends ClientSession {
// key_manager_password or key_manager_password are empty
LOG.warn("The key manager password is null or empty. The SSL context won't be initialized.");
return null;
String ksType = props.getProperty(BrokerConstants.KEY_STORE_TYPE, "jks");
final KeyStore keyStore = KeyStore.getInstance(ksType);
LOG.info("Loading keystore. KeystorePath = {}.", jksPath);
try (InputStream jksInputStream = jksDatastore(jksPath)) {
keyStore.load(jksInputStream, keyStorePassword.toCharArray());
}
return keyStore;
}
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
package org.dna.mqtt.moquette.messaging.spi;
import java.util.List;
import java.util.List;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/IStorageService.java
Show comments
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
}
task javadocJar (type: Jar, dependsOn: javadoc) {
classifier = 'javadoc'
from javadoc.destinationDir
}
task sourceJar (type : Jar) {
classifier = 'sources'
from sourceSets.main.allSource
}
// summarize artifacts
artifacts {
archives jar
archives sourceJar
archives javadocJar
archives packageTests
}
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
5
embedding_moquette/build.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
Load diff
This file was deleted.
Oops, something went wrong.
Retry
5
embedding_moquette/build.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
<netty.version>4.1.12.Final</netty.version>
<!--<netty.version>4.1.12.Final</netty.version>-->
<source.version>1.8</source.version>
<target.version>1.8</target.version>
<bintray.repo>andsel/maven</bintray.repo>
@@ -190,6 +190,11 @@
</profiles>
<repositories>
<repository>
<id>Maven repo</id>
<url>https://repo1.maven.org/maven2/</url>
</repository>
<repository>
<id>Paho Releases</id>
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
compile group: 'com.librato.metrics', name: 'librato-java' , version:'2.1.0'
compile group: 'com.bugsnag', name: 'bugsnag', version:'[3.0,4.0)'
compile group: 'commons-codec', name: 'commons-codec', version:'1.10'
// compile group: 'org.hdrhistogram', name: 'HdrHistogram', version:'2.1.4'
compile group: 'com.hazelcast', name: 'hazelcast', version:'3.5.4'
testCompile group: 'org.fusesource.mqtt-client', name: 'mqtt-client', version:'1.12'
testCompile group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version:'1.0.2'
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.191'
}
task createPom () {
}
jar {
manifest {
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
return payload;
}
}
5
broker/src/main/java/io/moquette/broker/Server.java
Show comments
View file
Edit file
Delete file
@@ -162,21 +162,24 @@ public void startServer(IConfig config, List<? extends InterceptHandler> handler
final ISubscriptionsRepository subscriptionsRepository;
final IQueueRepository queueRepository;
final IRetainedRepository retainedRepository;
if (persistencePath != null && !persistencePath.isEmpty()) {
LOG.trace("Configuring H2 subscriptions store to {}", persistencePath);
import io.moquette.broker.subscriptions.CTrieSubscriptionDirectory;
import io.moquette.broker.subscriptions.ISubscriptionsDirectory;
import io.moquette.broker.subscriptions.Subscription;
import io.moquette.broker.subscriptions.Topic;
import io.moquette.persistence.MemorySubscriptionsRepository;
import io.netty.buffer.ByteBuf;
import io.netty.buffer.ByteBufUtil;
import io.netty.buffer.Unpooled;
import io.netty.buffer.UnpooledByteBufAllocator;
import io.netty.channel.Channel;
import io.netty.channel.embedded.EmbeddedChannel;
import io.netty.handler.codec.mqtt.*;
</profiles>
<repositories>
<repository>
<id>Maven repo</id>
<url>https://repo1.maven.org/maven2/</url>
</repository>
<repository>
<id>Paho Releases</id>
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
Toggle all file notes
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<bintray.package>io.moquette.moquette-broker</bintray.package>
<netty.version>4.1.22.Final</netty.version>
<netty.version>4.1.53.Final</netty.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<paho.version>1.2.1</paho.version>
<h2.version>1.4.199</h2.version>
</properties>
@@ -160,7 +162,7 @@
<dependency>
<groupId>org.eclipse.paho</groupId>
<artifactId>org.eclipse.paho.client.mqttv3</artifactId>
<version>1.2.0</version>
<scope>test</scope>
Save preferences
@@ -51,20 +49,6 @@ void waitingAck(int messageID, IMessagesStore.StoredMessage msg) {
}
}
}
}
class InboundFlightZone {
final Map<Integer, IMessagesStore.StoredMessage> inboundFlightMessages = new ConcurrentHashMap<>();
IMessagesStore.StoredMessage lookup(int messageID) {
return inboundFlightMessages.get(messageID);
}
void waitingRel(int messageID, IMessagesStore.StoredMessage msg) {
inboundFlightMessages.put(messageID, msg);
}
}
// if client authentification is enabled a trustmanager needs to be
// added to the ServerContext
String sNeedsClientAuth = props.getProperty(BrokerConstants.NEED_CLIENT_AUTH, "false");
boolean needsClientAuth = Boolean.valueOf(sNeedsClientAuth);
private static SslContextBuilder builderWithJdkProvider(KeyStore ks, String keyPassword)
throws GeneralSecurityException {
LOG.info("Initializing key manager...");
final KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
kmf.init(ks, keyPassword.toCharArray());
LOG.info("Initializing SSL context...");
return SslContextBuilder.forServer(kmf);
}
try {
LOG.info("Loading keystore. KeystorePath = {}.", jksPath);
InputStream jksInputStream = jksDatastore(jksPath);
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
import java.nio.ByteBuffer;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/DebugUtils.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
dependencies {
compile group: 'org.slf4j', name: 'slf4j-api', version:'1.7.5'
testCompile group: 'junit', name: 'junit', version:'4.8.2'
testCompile group: 'org.slf4j', name: 'slf4j-log4j12', version:'1.7.5'
testCompile group: 'org.assertj', name: 'assertj-core', version:'2.6.0'
testCompile group: 'org.mockito', name: 'mockito-core', version:'1.9.0'
testCompile group: 'org.awaitility', name: 'awaitility', version: '3.0.0'
}
test {
systemProperties.put "moquette.path", "build/resources/test/"
systemProperties.put "io.netty.leakDetectionLevel", "paranoid"
testLogging {
exceptionFormat 'full'
events "passed", "skipped", "failed"
}
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Toggle all file notes
0 comments
on commit 4c6bae1
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
on commit 4c6bae1
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
Toggle all file notes
0 comments
on commit c504891
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
instruction 'Bundle-Description', 'Moquette lightweight MQTT Broker'
instruction 'Bundle-License', 'http://www.apache.org/licenses/LICENSE-2.0.txt, http://www.eclipse.org/org/documents/epl-v10.php'
instruction 'Import-Package', '!com.codahale.metrics*, !com.bugsnag*, !com.librato.metrics*, *'
}
from "build/pom.xml"
}
}
jar.dependsOn createPom
282
broker/pom.xml
Show comments
View file
Edit file
Delete file
Load diff
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
h2Builder = new H2Builder(config, scheduler).initStore();
subscriptionsRepository = h2Builder.subscriptionsRepository();
queueRepository = h2Builder.queueRepository();
retainedRepository = h2Builder.retainedRepository();
} else {
LOG.trace("Configuring in-memory subscriptions store");
subscriptionsRepository = new MemorySubscriptionsRepository();
queueRepository = new MemoryQueueRepository();
retainedRepository = new MemoryRetainedRepository();
}
ISubscriptionsDirectory subscriptions = new CTrieSubscriptionDirectory();
import org.junit.Before;
import org.junit.Test;
import java.nio.charset.Charset;
import java.util.*;
import static io.moquette.broker.PostOfficeUnsubscribeTest.CONFIG;
import static io.netty.handler.codec.mqtt.MqttQoS.AT_LEAST_ONCE;
import static io.netty.handler.codec.mqtt.MqttQoS.AT_MOST_ONCE;
import static io.netty.handler.codec.mqtt.MqttQoS.EXACTLY_ONCE;
import static java.util.Collections.singleton;
0 comments
on commit b81b4c9
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
</dependency>
@@ -182,7 +184,7 @@
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-tcnative</artifactId>
<version>2.0.10.Final</version>
<classifier>linux-x86_64</classifier>
<scope>test</scope>
</dependency>
7
distribution/src/main/assembly/assembly.xml
Show comments
View file
Edit file
Delete file
private static final Logger LOG = LoggerFactory.getLogger(DurableSession.class);
private static final Logger LOG = LoggerFactory.getLogger(DurableSession.class);
private final ISessionsStore sessionsStore;
private final ISessionsStore sessionsStore;
16
broker/src/main/java/io/moquette/spi/ISubscriptionsStore.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,19 @@
/*
* Copyright (c) 2012-2017 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
SSLContext serverContext = SSLContext.getInstance("TLS");
final KeyStore ks = KeyStore.getInstance("JKS");
ks.load(jksInputStream, keyStorePassword.toCharArray());
LOG.info("Initializing key manager...");
final KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
kmf.init(ks, keyManagerPassword.toCharArray());
TrustManager[] trustManagers = null;
if (needsClientAuth) {
LOG.warn(
"Client authentication is enabled. "
+ "The keystore will be used as a truststore. KeystorePath = {}.",
jksPath);
// use keystore as truststore, as server needs to trust certificates signed by the
// server certificates
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.nio.ByteBuffer;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/FileAuthenticator.java
Show comments
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi;
package org.dna.mqtt.moquette.messaging.spi;
import java.nio.ByteBuffer;
import java.nio.ByteBuffer;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/DebugUtils.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
}
// Deploy set environment variables and run ./gradlew bintrayUpload
// publication to maven repo
publishing {
publications {
bintrayPublication(MavenPublication) {
from components.java
groupId "$project.group"
version '0.13-SNAPSHOT'
}
}
}
bintray {
user = System.getenv('BINTRAY_USER')
key = System.getenv('BINTRAY_KEY')
pkg {
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
This file was deleted.
Oops, something went wrong.
Retry
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit e8b105f
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
subscriptions.init(subscriptionsRepository);
SessionRegistry sessions = new SessionRegistry(subscriptions, queueRepository);
dispatcher = new PostOffice(subscriptions, authorizatorPolicy, new MemoryRetainedRepository(), sessions,
dispatcher = new PostOffice(subscriptions, authorizatorPolicy, retainedRepository, sessions,
interceptor);
final BrokerConfiguration brokerConfig = new BrokerConfiguration(config);
MQTTConnectionFactory connectionFactory = new MQTTConnectionFactory(brokerConfig, authenticator, sessions,
5
broker/src/main/java/io/moquette/persistence/H2Builder.java
Show comments
View file
Edit file
Delete file
@@ -2,6 +2,7 @@
import io.moquette.BrokerConstants;
import static java.util.Collections.singletonMap;
import static org.junit.Assert.*;
public class PostOfficePublishTest {
private static final String FAKE_CLIENT_ID = "FAKE_123";
private static final String FAKE_CLIENT_ID2 = "FAKE_456";
static final String SUBSCRIBER_ID = "Subscriber";
static final String PUBLISHER_ID = "Publisher";
private static final String TEST_USER = "fakeuser";
private static final String TEST_PWD = "fakepwd";
private static final String NEWS_TOPIC = "/news";
private static final String BAD_FORMATTED_TOPIC = "#MQTTClient";
private MQTTConnection connection;
private EmbeddedChannel channel;
private PostOffice sut;
private ISubscriptionsDirectory subscriptions;
public static final String FAKE_USER_NAME = "UnAuthUser";
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Open in desktop
@@ -37,11 +37,6 @@
<outputDirectory>config/</outputDirectory>
</file>
<file>
<source>src/main/resources/hazelcast.xml</source>
<outputDirectory>config/</outputDirectory>
</file>
<file>
<source>src/main/resources/README.txt</source>
</file>
@@ -54,4 +49,4 @@
<useProjectArtifact>true</useProjectArtifact> <!-- avoid inclusion of the artifact itself -->
</dependencySet>
</dependencySets>
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.spi;
package io.moquette.spi;
import io.moquette.spi.impl.subscriptions.Subscription;
import io.moquette.spi.impl.subscriptions.Subscription;
TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
tmf.init(ks);
trustManagers = tmf.getTrustManagers();
/**
* certificate and key in order to provide it to OpenSSL.
* <p>
* TODO: SNI is currently not supported, we use only the first found private key.
*/
private static SslContextBuilder builderWithOpenSSLProvider(KeyStore ks, String keyPassword)
throws GeneralSecurityException {
for (String alias : Collections.list(ks.aliases())) {
if (ks.entryInstanceOf(alias, KeyStore.PrivateKeyEntry.class)) {
PrivateKey key = (PrivateKey) ks.getKey(alias, keyPassword.toCharArray());
Certificate[] chain = ks.getCertificateChain(alias);
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
userOrg = 'andsel'
licenses = ['Apache-2.0']
publications = ['bintrayPublication']
}
}
}
//task wrapper(type: Wrapper) {
// gradleVersion = '5.6'
//}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
import io.moquette.broker.IQueueRepository;
import io.moquette.broker.IRetainedRepository;
import io.moquette.broker.ISubscriptionsRepository;
import io.moquette.broker.config.IConfig;
import org.h2.mvstore.MVStore;
@@ -57,4 +58,8 @@ public void closeStore() {
public IQueueRepository queueRepository() {
return new H2QueueRepository(mvStore);
}
public IRetainedRepository retainedRepository() {
return new H2RetainedRepository(mvStore);
}
}
Travis CI - Test and Deploy Your Code with Confidence
Hey there!
Looks like you have JavaScript disabled.
The Travis CI webclient needs JavaScript to work properly.
private MqttConnectMessage connectMessage;
private SessionRegistry sessionRegistry;
private MockAuthenticator mockAuthenticator;
static final BrokerConfiguration ALLOW_ANONYMOUS_AND_ZERO_BYTES_CLID =
new BrokerConfiguration(true, true, false);
private MemoryRetainedRepository retainedRepository;
private MemoryQueueRepository queueRepository;
@Before
public void setUp() {
sessionRegistry = initPostOfficeAndSubsystems();
mockAuthenticator = new MockAuthenticator(singleton(FAKE_CLIENT_ID), singletonMap(TEST_USER, TEST_PWD));
connection = createMQTTConnection(ALLOW_ANONYMOUS_AND_ZERO_BYTES_CLID);
connectMessage = ConnectionTestUtils.buildConnect(FAKE_CLIENT_ID);
}
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
</assembly>
</assembly>
7
pom.xml
Show comments
View file
Edit file
Delete file
Open in desktop
@@ -3,7 +3,7 @@
<modelVersion>4.0.0</modelVersion>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<netty.version>4.1.12.Final</netty.version>
<!--<netty.version>4.1.12.Final</netty.version>-->
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 033a428
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
X509Certificate[] certChain = new X509Certificate[chain.length];
System.arraycopy(chain, 0, certChain, 0, chain.length);
return SslContextBuilder.forServer(key, certChain);
}
// init sslContext
LOG.info("Initializing SSL context...");
serverContext.init(kmf.getKeyManagers(), trustManagers, null);
LOG.info("The SSL context has been initialized successfully.");
}
throw new KeyManagementException("the SSL key-store does not contain a private key");
}
return serverContext;
} catch (NoSuchAlgorithmException | UnrecoverableKeyException | CertificateException | KeyStoreException
| KeyManagementException | IOException ex) {
LOG.error(
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.io.BufferedReader;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/HawtDBStorageService.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
Sign in to GitHub · GitHub
0.14 Milestone · GitHub
package org.dna.mqtt.moquette.messaging.spi.impl;
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.nio.ByteBuffer;
import java.nio.ByteBuffer;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/FileAuthenticator.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
Sign in to GitHub · GitHub
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Reintroduce maven project files by andsel · Pull Request #542 · moquette-io/moquette · GitHub
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
55
broker/src/main/java/io/moquette/persistence/H2RetainedRepository.java
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,55 @@
package io.moquette.persistence;
import io.moquette.broker.IRetainedRepository;
import io.moquette.broker.RetainedMessage;
import io.moquette.broker.subscriptions.Topic;
import io.netty.buffer.ByteBuf;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import org.h2.mvstore.MVMap;
Please enable JavaScript to get the best Travis CI experience.
Thank you!
private MQTTConnection createMQTTConnection(BrokerConfiguration config) {
channel = new EmbeddedChannel();
return createMQTTConnection(config, channel);
}
private MQTTConnection createMQTTConnection(BrokerConfiguration config, Channel channel) {
return new MQTTConnection(channel, config, mockAuthenticator, sessionRegistry, sut);
}
private SessionRegistry initPostOfficeAndSubsystems() {
subscriptions = new CTrieSubscriptionDirectory();
ISubscriptionsRepository subscriptionsRepository = new MemorySubscriptionsRepository();
subscriptions.init(subscriptionsRepository);
retainedRepository = new MemoryRetainedRepository();
queueRepository = new MemoryQueueRepository();
SessionRegistry sessionRegistry = new SessionRegistry(subscriptions, queueRepository);
sut = new PostOffice(subscriptions, new PermitAllAuthorizatorPolicy(), retainedRepository, sessionRegistry,
ConnectionTestUtils.NO_OBSERVERS_INTERCEPTOR);
Reintroduce maven build, with wrapper, removed gradle. · moquette-io/moquette@7f91798 · GitHub
<source.version>1.8</source.version>
<target.version>1.8</target.version>
<bintray.repo>andsel/maven</bintray.repo>
@@ -190,6 +190,11 @@
</profiles>
<repositories>
<repository>
<id>Maven repo</id>
<url>https://repo1.maven.org/maven2/</url>
</repository>
<repository>
<id>Paho Releases</id>
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
Toggle all file notes
ProTip!
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
ex.getCause(),
ex.getMessage());
return null;
private static void addClientAuthentication(KeyStore ks, SslContextBuilder contextBuilder)
throws NoSuchAlgorithmException, KeyStoreException {
LOG.warn("Client authentication is enabled. The keystore will be used as a truststore.");
// use keystore as truststore, as server needs to trust certificates signed by the server certificates
TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
tmf.init(ks);
contextBuilder.clientAuth(ClientAuth.REQUIRE);
contextBuilder.trustManager(tmf);
}
private SslProvider getSSLProvider() {
String providerName = props.getProperty(BrokerConstants.SSL_PROVIDER, SslProvider.JDK.name());
try {
return SslProvider.valueOf(providerName);
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Travis CI - Test and Deploy Your Code with Confidence
Hey there!
Looks like you have JavaScript disabled.
The Travis CI webclient needs JavaScript to work properly.
Please enable JavaScript to get the best Travis CI experience.
Thank you!
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.io.BufferedReader;
import java.io.BufferedReader;
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Reintroduce maven project files by andsel · Pull Request #542 · moquette-io/moquette · GitHub
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Removed gradle · moquette-io/moquette@1d20eaf · GitHub
import org.h2.mvstore.MVStore;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
public class H2RetainedRepository implements IRetainedRepository {
private final MVMap<Topic, RetainedMessage> queueMap;
public H2RetainedRepository(MVStore mvStore) {
this.queueMap = mvStore.openMap("retained_store");
}
@Override
public void cleanRetained(Topic topic) {
queueMap.remove(topic);
}
@Override
public void retain(Topic topic, MqttPublishMessage msg) {
return sessionRegistry;
}
@Test
public void testPublishQoS0ToItself() {
connection.processConnect(connectMessage);
ConnectionTestUtils.assertConnectAccepted(channel);
// subscribe
subscribe(AT_MOST_ONCE, NEWS_TOPIC, connection);
// Exercise
final ByteBuf payload = Unpooled.copiedBuffer("Hello world!", Charset.defaultCharset());
sut.receivedPublishQos0(new Topic(NEWS_TOPIC), TEST_USER, FAKE_CLIENT_ID, payload, false,
MqttMessageBuilders.publish()
.payload(payload.retainedDuplicate())
.qos(MqttQoS.AT_MOST_ONCE)
.retained(false)
.topicName(NEWS_TOPIC).build());
Reintroduce maven project files by andsel · Pull Request #542 · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Use n and p to navigate between commits in a pull request.
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
} catch (IllegalArgumentException e) {
LOG.warn("unknown SSL Provider {}, falling back on JDK provider", providerName);
return SslProvider.JDK;
}
}
@@ -124,7 +182,6 @@ private InputStream jksDatastore(String jksPath) throws FileNotFoundException {
LOG.info("Loading external keystore. Url = {}.", jksFile.getAbsolutePath());
return new FileInputStream(jksFile);
}
LOG.warn("The keystore file does not exist. Url = {}.", jksFile.getAbsolutePath());
return null;
throw new FileNotFoundException("The keystore file does not exist. Url = " + jksFile.getAbsolutePath());
}
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.io.File;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/MemoryStorageService.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/HawtDBStorageService.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
moquette/pom.xml at 89a4ada5a1cb218bde7cab0fd3317ef1f21daf51 · moquette-io/moquette · GitHub
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
moquette/assembly.xml at 89a4ada5a1cb218bde7cab0fd3317ef1f21daf51 · moquette-io/moquette · GitHub
moquette/pom.xml at 89a4ada5a1cb218bde7cab0fd3317ef1f21daf51 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
final ByteBuf payload = msg.content();
byte[] rawPayload = new byte[payload.readableBytes()];
payload.getBytes(0, rawPayload);
final RetainedMessage toStore = new RetainedMessage(msg.fixedHeader().qosLevel(), rawPayload);
queueMap.put(topic, toStore);
}
@Override
public boolean isEmpty() {
return queueMap.isEmpty();
}
@Override
public List<RetainedMessage> retainedOnTopic(String topic) {
final Topic searchTopic = new Topic(topic);
final List<RetainedMessage> matchingMessages = new ArrayList<>();
// Verify
ConnectionTestUtils.verifyReceivePublish(channel, NEWS_TOPIC, "Hello world!");
}
@Test
public void testForceClientDisconnection_issue116() {
final MQTTConnection clientXA = connectAs("subscriber");
subscribe(clientXA, NEWS_TOPIC, AT_MOST_ONCE);
final MQTTConnection clientXB = connectAs("publisher");
final ByteBuf anyPayload = Unpooled.copiedBuffer("Hello", Charset.defaultCharset());
sut.receivedPublishQos2(clientXB, MqttMessageBuilders.publish()
.payload(anyPayload)
.qos(MqttQoS.EXACTLY_ONCE)
.retained(false)
.topicName(NEWS_TOPIC).build(), "username");
final MQTTConnection clientYA = connectAs("subscriber");
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
}
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit d50a291
Please
sign in to comment.
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.nio.ByteBuffer;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ProtocolProcessor.java
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Sign in to GitHub · GitHub
moquette/H2RetainedRepository.java at 213851335a4f22fc30796911d5bebcd1d26fb7c7 · moquette-io/moquette · GitHub
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.io.File;
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
moquette/H2Builder.java at 213851335a4f22fc30796911d5bebcd1d26fb7c7 · moquette-io/moquette · GitHub
Accept
Reject
Save preferences
Updates Netty to 4.1.53 to have MQTT5 support (#546) · moquette-io/moquette@89a4ada · GitHub
Updates Netty to 4.1.53 to have MQTT5 support (#546) · moquette-io/moquette@89a4ada · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
for (Map.Entry<Topic, RetainedMessage> entry : queueMap.entrySet()) {
final Topic scanTopic = entry.getKey();
if (searchTopic.match(scanTopic)) {
matchingMessages.add(entry.getValue());
}
}
return matchingMessages;
}
}
10
broker/src/test/java/io/moquette/broker/PostOfficePublishTest.java
Show comments
View file
Edit file
Delete file
@@ -390,7 +390,7 @@ public void cleanRetainedMessageStoreWhenPublishWithRetainedQos0IsReceived() {
subscribe(clientYA, NEWS_TOPIC, AT_MOST_ONCE);
final MQTTConnection clientYB = connectAs("publisher");
final ByteBuf anyPayload2 = Unpooled.copiedBuffer("Hello 2", Charset.defaultCharset());
sut.receivedPublishQos2(clientYB, MqttMessageBuilders.publish()
.payload(anyPayload2)
.qos(MqttQoS.EXACTLY_ONCE)
.retained(true)
.topicName(NEWS_TOPIC).build(), "username");
// Verify
assertFalse("First 'subscriber' channel MUST be closed by the broker", clientXA.channel.isOpen());
ConnectionTestUtils.verifyPublishIsReceived((EmbeddedChannel) clientYA.channel, AT_MOST_ONCE, "Hello 2");
}
private MQTTConnection connectAs(String clientId) {
EmbeddedChannel channel = new EmbeddedChannel();
MQTTConnection connection = createMQTTConnection(CONFIG, channel);
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
import java.io.File;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/MemoryStorageService.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
moquette/Server.java at 213851335a4f22fc30796911d5bebcd1d26fb7c7 · moquette-io/moquette · GitHub
moquette/RetainedMessage.java at 213851335a4f22fc30796911d5bebcd1d26fb7c7 · moquette-io/moquette · GitHub
Sign in to GitHub · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
sut.receivedPublishQos1(connection, new Topic(NEWS_TOPIC), TEST_USER, anyPayload, 1, true,
publishMsg);
assertMessageIsRetained(NEWS_TOPIC);
assertMessageIsRetained(NEWS_TOPIC, anyPayload);
// publish a QoS0 retained message
// Exercise
@@ -406,8 +406,10 @@ public void cleanRetainedMessageStoreWhenPublishWithRetainedQos0IsReceived() {
assertTrue("Retained message for topic /news must be cleared", retainedRepository.isEmpty());
}
private void assertMessageIsRetained(String expectedTopicName) {
MqttPublishMessage msg = retainedRepository.retainedOnTopic(expectedTopicName);
assertEquals(expectedTopicName, msg.variableHeader().topicName());
private void assertMessageIsRetained(String expectedTopicName, ByteBuf expectedPayload) {
List<RetainedMessage> msgs = retainedRepository.retainedOnTopic(expectedTopicName);
connection.processConnect(ConnectionTestUtils.buildConnect(clientId));
ConnectionTestUtils.assertConnectAccepted(channel);
return connection;
}
private void subscribe(MqttQoS topic, String newsTopic, MQTTConnection connection) {
MqttSubscribeMessage subscribe = MqttMessageBuilders.subscribe()
.addSubscription(topic, newsTopic)
.messageId(1)
.build();
sut.subscribeClientToTopics(subscribe, connection.getClientId(), null, this.connection);
MqttSubAckMessage subAck = ((EmbeddedChannel) this.connection.channel).readOutbound();
assertEquals(topic.value(), (int) subAck.payload().grantedQoSLevels().get(0));
}
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.BatchEventProcessor;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/SimpleMessaging.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
moquette/brokerEmbeddedTest.groovy at db4349ba669ee4a216b6104382e4cf320f5a7864 · moquette-io/moquette · GitHub
moquette/moquette.sh at db4349ba669ee4a216b6104382e4cf320f5a7864 · moquette-io/moquette · GitHub
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
moquette/moquette.bat at db4349ba669ee4a216b6104382e4cf320f5a7864 · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
moquette/build.gradle at db4349ba669ee4a216b6104382e4cf320f5a7864 · moquette-io/moquette · GitHub
moquette/Server.java at db4349ba669ee4a216b6104382e4cf320f5a7864 · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
assertEquals(1, msgs.size());
RetainedMessage msg = msgs.get(0);
assertEquals(ByteBufUtil.hexDump(expectedPayload), ByteBufUtil.hexDump(msg.getPayload()));
}
}
Toggle all file notes
0 comments
on commit 2138513
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
protected void subscribe(MQTTConnection connection, String topic, MqttQoS desiredQos) {
EmbeddedChannel channel = (EmbeddedChannel) connection.channel;
MqttSubscribeMessage subscribe = MqttMessageBuilders.subscribe()
.addSubscription(desiredQos, topic)
.messageId(1)
.build();
sut.subscribeClientToTopics(subscribe, connection.getClientId(), null, connection);
MqttSubAckMessage subAck = channel.readOutbound();
assertEquals(desiredQos.value(), (int) subAck.payload().grantedQoSLevels().get(0));
final String clientId = connection.getClientId();
Subscription expectedSubscription = new Subscription(clientId, new Topic(topic), desiredQos);
final Set<Subscription> matchedSubscriptions = subscriptions.matchWithoutQosSharpening(new Topic(topic));
assertEquals(1, matchedSubscriptions.size());
final Subscription onlyMatchedSubscription = matchedSubscriptions.iterator().next();
assertEquals(expectedSubscription, onlyMatchedSubscription);
}
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Learn more
Accept
Reject
Save preferences
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.14
No due date
100% complete
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
package org.dna.mqtt.moquette.messaging.spi.impl;
import java.nio.ByteBuffer;
import java.nio.ByteBuffer;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ProtocolProcessor.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
Travis CI - Test and Deploy Your Code with Confidence
Hey there!
Looks like you have JavaScript disabled.
The Travis CI webclient needs JavaScript to work properly.
Please enable JavaScript to get the best Travis CI experience.
Thank you!
Bumped dev cycle 0.13 · moquette-io/moquette@db4349b · GitHub
Bumped dev cycle 0.13 · moquette-io/moquette@db4349b · GitHub
Fixes #456, update the H2 version · moquette-io/moquette@f3faee6 · GitHub
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Wiki
Security
Insights
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Reintroduce maven project files
#542
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
@Test
public void testPublishToMultipleSubscribers() {
final Set<String> clientIds = new HashSet<>(Arrays.asList(FAKE_CLIENT_ID, FAKE_CLIENT_ID2));
mockAuthenticator = new MockAuthenticator(clientIds, singletonMap(TEST_USER, TEST_PWD));
EmbeddedChannel channel1 = new EmbeddedChannel();
MQTTConnection connection1 = createMQTTConnection(ALLOW_ANONYMOUS_AND_ZERO_BYTES_CLID, channel1);
connection1.processConnect(ConnectionTestUtils.buildConnect(FAKE_CLIENT_ID));
ConnectionTestUtils.assertConnectAccepted(channel1);
EmbeddedChannel channel2 = new EmbeddedChannel();
MQTTConnection connection2 = createMQTTConnection(ALLOW_ANONYMOUS_AND_ZERO_BYTES_CLID, channel2);
connection2.processConnect(ConnectionTestUtils.buildConnect(FAKE_CLIENT_ID2));
ConnectionTestUtils.assertConnectAccepted(channel2);
// subscribe
final MqttQoS qos = AT_MOST_ONCE;
final String newsTopic = NEWS_TOPIC;
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Reintroduce maven build, with wrapper, removed gradle.
Loading branch information
andsel
committed
Nov 2, 2020
1 parent
b69146b
commit 7f9179857196626b1eceaeab6272dea8e4435869
Unified
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.BatchEventProcessor;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ValueEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
0 Open
1 Closed
There are no open issues in this milestone.
Add issues to milestones to help organize your work for a particular release or project.
Create new issue
Or find and add issues with no milestone in this repo.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.BatchEventProcessor;
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Sign in to GitHub · GitHub
moquette/PostOffice.java at 213851335a4f22fc30796911d5bebcd1d26fb7c7 · moquette-io/moquette · GitHub
moquette/MemoryRetainedRepository.java at 213851335a4f22fc30796911d5bebcd1d26fb7c7 · moquette-io/moquette · GitHub
moquette/IRetainedRepository.java at 213851335a4f22fc30796911d5bebcd1d26fb7c7 · moquette-io/moquette · GitHub
moquette/ChangeLog.txt at 213851335a4f22fc30796911d5bebcd1d26fb7c7 · moquette-io/moquette · GitHub
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
Merged
andsel
merged 1 commit into
master
from
reintroduce_maven_project_files
Nov 2, 2020
+1,241
−372
Conversation
0
Security
Insights
Permalink
Browse files
Loading status checks…
Removed gradle
Loading branch information
andsel
committed
Oct 30, 2020
1 parent
3e4ab20
commit 1d20eaf5b969a43795b6baf199d70f275c788a51
Unified
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
subscribe(qos, newsTopic, connection1);
subscribe(qos, newsTopic, connection2);
// Exercise
final ByteBuf payload = Unpooled.copiedBuffer("Hello world!", Charset.defaultCharset());
sut.receivedPublishQos0(new Topic(NEWS_TOPIC), TEST_USER, FAKE_CLIENT_ID, payload, false,
MqttMessageBuilders.publish()
.payload(payload.retainedDuplicate())
.qos(MqttQoS.AT_MOST_ONCE)
.retained(false)
.topicName(NEWS_TOPIC).build());
// Verify
ConnectionTestUtils.verifyReceivePublish(channel1, NEWS_TOPIC, "Hello world!");
ConnectionTestUtils.verifyReceivePublish(channel2, NEWS_TOPIC, "Hello world!");
}
@Test
public void testPublishWithEmptyPayloadClearRetainedStore() {
Projects
Wiki
Security
Insights
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Split
Showing
21 changed files
with
1,241 additions
and 372 deletions.
+117
−0
.mvn/wrapper/MavenWrapperDownloader.java
BIN
.mvn/wrapper/maven-wrapper.jar
+2
−0
.mvn/wrapper/maven-wrapper.properties
+2
−9
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.EventFactory;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/DisconnectEvent.java
Show comments
View file
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
import com.lmax.disruptor.BatchEventProcessor;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/SimpleMessaging.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
Added implementation of retained store in H2 · moquette-io/moquette@2138513 · GitHub
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
670
Code
Issues
63
Pull requests
14
Actions
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Reintroduce maven project files
#542
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Commits
1
Checks
0
Files changed
21
Reintroduce maven build, with wrapper, removed gradle.
7f91798
Select commit
7f91798
Reintroduce maven build, with wrapper, removed gradle.
andsel Oct 22, 2020
Merged
Reintroduce maven project files
#542
Reintroduce maven build, with wrapper, removed gradle.
Split
Showing
8 changed files
with
0 additions
and 361 deletions.
+0
−9
gradle/java.gradle
+0
−20
gradle/lint.gradle
+0
−63
gradle/test.gradle
BIN
connection.processConnect(connectMessage);
ConnectionTestUtils.assertConnectAccepted(channel);
this.retainedRepository.retain(new Topic(NEWS_TOPIC), MqttMessageBuilders.publish()
.payload(ByteBufUtil.writeAscii(UnpooledByteBufAllocator.DEFAULT, "Hello world!"))
.qos(AT_LEAST_ONCE)
.build());
// Exercise
final ByteBuf anyPayload = Unpooled.copiedBuffer("Any payload", Charset.defaultCharset());
sut.receivedPublishQos0(new Topic(NEWS_TOPIC), TEST_USER, FAKE_CLIENT_ID, anyPayload, true,
MqttMessageBuilders.publish()
.payload(anyPayload)
.qos(MqttQoS.AT_MOST_ONCE)
.retained(false)
.topicName(NEWS_TOPIC).build());
// Verify
Reintroduce maven project files
#542
Merged
andsel
merged 1 commit into
master
from
reintroduce_maven_project_files
Nov 2, 2020
+1,241
−372
Conversation
0
Commits
.travis.yml
+265
−0
broker/pom.xml
+1
−1
broker/src/test/java/io/moquette/integration/IntegrationUtils.java
+1
−1
broker/src/test/resources/log4j.properties
+68
−0
distribution/pom.xml
+57
−0
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
213851335a
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.BatchEventProcessor;
import com.lmax.disruptor.BatchEventProcessor;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/ValueEvent.java
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Travis CI - Test and Deploy Your Code with Confidence
Hey there!
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
89a4ada5a1
moquette/pom.xml
Go to file
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Updates Netty to 4.1.53 to have MQTT5 support (#546)
Loading branch information
andsel
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Updates Netty to 4.1.53 to have MQTT5 support (#546)
Merged
andsel
merged 1 commit into
master
from
reintroduce_maven_project_files
Nov 2, 2020
Merged
Reintroduce maven project files
#542
andsel
merged 1 commit into
master
from
reintroduce_maven_project_files
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
89a4ada5a1
moquette/distribution/src/main/assembly/assembly.xml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
52 lines (44 sloc)
1.79 KB
Raw
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
89a4ada5a1
moquette/broker/pom.xml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
267 lines (235 sloc)
9 KB
Raw
Blame
7f91798
Select commit
7f91798
Reintroduce maven build, with wrapper, removed gradle.
andsel Oct 22, 2020
Waiting for checks information...
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
gradle/wrapper/gradle-wrapper.jar
+0
−5
gradle/wrapper/gradle-wrapper.properties
+0
−172
gradlew
+0
−84
gradlew.bat
+0
−8
settings.gradle
9
gradle/java.gradle
Show comments
assertTrue("QoS0 MUST clean retained message for topic", retainedRepository.isEmpty());
}
@Test
public void testPublishWithQoS1() {
connection.processConnect(connectMessage);
ConnectionTestUtils.assertConnectAccepted(channel);
subscribe(connection, NEWS_TOPIC, AT_LEAST_ONCE);
// Exercise
final ByteBuf anyPayload = Unpooled.copiedBuffer("Any payload", Charset.defaultCharset());
sut.receivedPublishQos1(connection, new Topic(NEWS_TOPIC), TEST_USER, anyPayload, 1, true,
MqttMessageBuilders.publish()
.payload(Unpooled.copiedBuffer("Any payload", Charset.defaultCharset()))
.qos(MqttQoS.AT_LEAST_ONCE)
.retained(true)
.topicName(NEWS_TOPIC).build());
// Verify
1
Checks
0
Files changed
21
Merged
Reintroduce maven project files
#542
Changes from all commits
Commits
Show all changes
1 commit
Select commit
7f91798
Reintroduce maven build, with wrapper, removed gradle.
andsel Oct 22, 2020
distribution/src/main/assembly/assembly.xml
+23
−0
embedding_moquette/pom.xml
+0
−9
gradle/java.gradle
+0
−20
gradle/lint.gradle
+0
−63
gradle/test.gradle
BIN
gradle/wrapper/gradle-wrapper.jar
+0
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.server.ServerChannel;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/InitEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
moquette/broker/src/main/java/io/moquette/persistence/H2RetainedRepository.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Looks like you have JavaScript disabled.
The Travis CI webclient needs JavaScript to work properly.
Please enable JavaScript to get the best Travis CI experience.
Thank you!
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
218 lines (197 sloc)
7.31 KB
Raw
Blame
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<!--<netty.version>4.1.12.Final</netty.version>-->
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
213851335a
moquette/broker/src/main/java/io/moquette/persistence/H2Builder.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
committed
Nov 3, 2020
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
4c6bae1
commit 89a4ada5a1cb218bde7cab0fd3317ef1f21daf51
Unified
Split
Showing
3 changed files
with
12 additions
and 10 deletions.
Loading branch information
andsel
committed
Nov 3, 2020
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
1 parent
4c6bae1
commit 89a4ada5a1cb218bde7cab0fd3317ef1f21daf51
Unified
Split
Showing
Nov 2, 2020
+1,241
−372
Conversation
0
Commits
1
Checks
0
Files changed
21
Commits on Nov 2, 2020
Reintroduce maven build, with wrapper, removed gradle.
andsel
committed
Nov 2, 2020
Loading status checks…
Blame
<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
<id>bundle-tar</id>
<formats>
<format>tar.gz</format>
<!--<format>dir</format>-->
</formats>
<includeBaseDirectory>false</includeBaseDirectory> <!-- disable the creation of root's distribution dir in the archive -->
<files>
<!-- executables scripts-->
<file>
<source>src/main/scripts/moquette.sh</source>
<outputDirectory>bin</outputDirectory>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>
<parent>
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.14-SNAPSHOT</version>
</parent>
<artifactId>moquette-broker</artifactId>
<packaging>jar</packaging>
<name>Moquette - broker</name>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<bintray.package>io.moquette.moquette-broker</bintray.package>
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
20
gradle/lint.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
ConnectionTestUtils.verifyPublishIsReceived(channel, AT_LEAST_ONCE, "Any payload");
}
@Test
public void testPublishWithQoS2() {
connection.processConnect(connectMessage);
ConnectionTestUtils.assertConnectAccepted(channel);
subscribe(connection, NEWS_TOPIC, EXACTLY_ONCE);
// Exercise
final ByteBuf anyPayload = Unpooled.copiedBuffer("Any payload", Charset.defaultCharset());
sut.receivedPublishQos2(connection, MqttMessageBuilders.publish()
.payload(anyPayload)
.qos(MqttQoS.EXACTLY_ONCE)
.retained(true)
.topicName(NEWS_TOPIC).build(), "username");
// Verify
File filter...
Filter file types
.bat
(1)
.cmd
(1)
.gradle
(4)
.jar
(2)
.java
(2)
−5
gradle/wrapper/gradle-wrapper.properties
+0
−172
gradlew
+0
−84
gradlew.bat
+310
−0
mvnw
+182
−0
mvnw.cmd
+213
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
Copy path
Cannot retrieve contributors at this time
55 lines (45 sloc)
1.66 KB
Raw
Blame
package io.moquette.persistence;
import io.moquette.broker.IRetainedRepository;
import io.moquette.broker.RetainedMessage;
import io.moquette.broker.subscriptions.Topic;
import io.netty.buffer.ByteBuf;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import org.h2.mvstore.MVMap;
import org.h2.mvstore.MVStore;
import java.util.ArrayList;
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
db4349ba66
moquette/tools_scripts/integration/brokerEmbeddedTest.groovy
Go to file
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
db4349ba66
moquette/distribution/src/main/scripts/moquette.sh
Go to file
Go to file
T
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl;
package org.dna.mqtt.moquette.messaging.spi.impl;
import com.lmax.disruptor.EventFactory;
import com.lmax.disruptor.EventFactory;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/DisconnectEvent.java
Show comments
View file
Edit file
Delete file
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
213851335a
moquette/broker/src/main/java/io/moquette/broker/Server.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
213851335a
moquette/broker/src/main/java/io/moquette/broker/RetainedMessage.java
/
Jump to
<source.version>1.8</source.version>
<target.version>1.8</target.version>
<bintray.repo>andsel/maven</bintray.repo>
<bintray.parent.package>io.moquette.moquette-parent</bintray.parent.package>
</properties>
<groupId>io.moquette</groupId>
<artifactId>moquette-parent</artifactId>
<packaging>pom</packaging>
<version>0.14-SNAPSHOT</version>
<name>Moquette MQTT</name>
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
R
Copy path
Cannot retrieve contributors at this time
65 lines (53 sloc)
2.13 KB
Raw
Blame
package io.moquette.persistence;
import io.moquette.BrokerConstants;
import io.moquette.broker.IQueueRepository;
import io.moquette.broker.IRetainedRepository;
import io.moquette.broker.ISubscriptionsRepository;
import io.moquette.broker.config.IConfig;
import org.h2.mvstore.MVStore;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
+5
−3
broker/pom.xml
+1
−6
distribution/src/main/assembly/assembly.xml
+6
−1
pom.xml
8
broker/pom.xml
Show comments
View file
Edit file
Delete file
@@ -15,7 +15,9 @@
3 changed files
with
12 additions
and 10 deletions.
+5
−3
broker/pom.xml
+1
−6
distribution/src/main/assembly/assembly.xml
+6
−1
pom.xml
8
7f91798
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
<fileMode>0755</fileMode>
</file>
<file>
<source>src/main/scripts/moquette.bat</source>
<outputDirectory>bin</outputDirectory>
</file>
<file>
<source>src/main/resources/log4j.properties</source>
<outputDirectory>config/</outputDirectory>
<destName>moquette-log.properties</destName>
</file>
<file>
<source>src/main/resources/moquette.conf</source>
<outputDirectory>config/</outputDirectory>
</file>
<netty.version>4.1.53.Final</netty.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<paho.version>1.2.1</paho.version>
<h2.version>1.4.199</h2.version>
</properties>
<dependencies>
<dependency>
<groupId>org.slf4j</groupId>
<artifactId>slf4j-api</artifactId>
<version>1.7.5</version>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-common</artifactId>
</dependency>
<dependency>
Retry
63
gradle/test.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
BIN
-53.1 KB
gradle/wrapper/gradle-wrapper.jar
Show comments
View file
ConnectionTestUtils.verifyPublishIsReceived(channel, EXACTLY_ONCE, "Any payload");
}
// aka testPublishWithQoS1_notCleanSession
@Test
public void forwardQoS1PublishesWhenNotCleanSessionReconnects() {
connection.processConnect(ConnectionTestUtils.buildConnectNotClean(FAKE_CLIENT_ID));
ConnectionTestUtils.assertConnectAccepted(channel);
subscribe(connection, NEWS_TOPIC, AT_LEAST_ONCE);
connection.processDisconnect(null);
// publish a QoS 1 message from another client publish a message on the topic
EmbeddedChannel pubChannel = new EmbeddedChannel();
MQTTConnection pubConn = createMQTTConnection(ALLOW_ANONYMOUS_AND_ZERO_BYTES_CLID, pubChannel);
pubConn.processConnect(ConnectionTestUtils.buildConnect(PUBLISHER_ID));
ConnectionTestUtils.assertConnectAccepted(pubChannel);
.properties
(3)
.xml
(5)
.yml
(1)
No extension
(2)
All 9 file types selected
Filter deleted files
Hide deleted files
Filter viewed files
Hide viewed files
Clear filters
Jump to…
Jump to file
−0
pom.xml
+0
−8
settings.gradle
117
.mvn/wrapper/MavenWrapperDownloader.java
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,117 @@
/*
* Copyright 2007-present the original author or authors.
*
import java.util.Properties;
15
...er/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/LostConnectionEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
import java.util.List;
import java.util.Map;
public class H2RetainedRepository implements IRetainedRepository {
private final MVMap<Topic, RetainedMessage> queueMap;
public H2RetainedRepository(MVStore mvStore) {
this.queueMap = mvStore.openMap("retained_store");
}
@Override
public void cleanRetained(Topic topic) {
queueMap.remove(topic);
}
@Override
public void retain(Topic topic, MqttPublishMessage msg) {
final ByteBuf payload = msg.content();
byte[] rawPayload = new byte[payload.readableBytes()];
payload.getBytes(0, rawPayload);
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
16 lines (14 sloc)
677 Bytes
Raw
Blame
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@Grab(group='io.moquette', module='moquette-broker', version='0.13-SNAPSHOT')
import io.moquette.server.Server
Go to line
L
Copy path
Cannot retrieve contributors at this time
97 lines (78 sloc)
3.66 KB
Raw
Blame
#!/bin/sh
#
# Copyright (c) 2012-2015 Andrea Selva
#
echo " "
echo " ___ ___ _ _ ___ ________ _____ _____ "
echo " | \/ | | | | | | \/ | _ |_ _|_ _| "
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Bumped dev cycle 0.13
Loading branch information
andsel
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Fixes #456, update the H2 version
Loading branch information
andsel
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
386 lines (347 sloc)
17.3 KB
Raw
Blame
/*
* Copyright (c) 2012-2018 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
db4349ba66
moquette/distribution/src/main/scripts/moquette.bat
Go to file
Go to file
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
24 lines (17 sloc)
470 Bytes
Raw
Blame
package io.moquette.broker;
<description>Moquette lightweight MQTT Broker</description>
<inceptionYear>2011</inceptionYear>
<url>http://moquette.io</url>
<licenses>
<license>
<name>The Apache License, Version 2.0</name>
<url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
</license>
<license>
<name>Eclipse Public License - Version 1.0</name>
<url>http://www.eclipse.org/org/documents/epl-v10.php</url>
</license>
</licenses>
<developers>
<developer>
<id>andsel</id>
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
db4349ba66
moquette/build.gradle
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
db4349ba66
moquette/broker/src/main/java/io/moquette/broker/Server.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
import java.util.concurrent.ScheduledExecutorService;
import java.util.concurrent.TimeUnit;
public class H2Builder {
private static final Logger LOG = LoggerFactory.getLogger(H2Builder.class);
private final String storePath;
private final int autosaveInterval; // in seconds
private final ScheduledExecutorService scheduler;
private MVStore mvStore;
public H2Builder(IConfig props, ScheduledExecutorService scheduler) {
this.storePath = props.getProperty(BrokerConstants.PERSISTENT_STORE_PROPERTY_NAME, "");
final String autosaveProp = props.getProperty(BrokerConstants.AUTOSAVE_INTERVAL_PROPERTY_NAME, "30");
this.autosaveInterval = Integer.parseInt(autosaveProp);
this.scheduler = scheduler;
}
@SuppressWarnings("FutureReturnValueIgnored")
public H2Builder initStore() {
<properties>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<bintray.package>io.moquette.moquette-broker</bintray.package>
<bintray.package>io.moquette.moquette-broker</bintray.package>
<netty.version>4.1.22.Final</netty.version>
<netty.version>4.1.53.Final</netty.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<paho.version>1.2.1</paho.version>
<h2.version>1.4.199</h2.version>
<h2.version>1.4.199</h2.version>
</properties>
</properties>
@@ -160,7 +162,7 @@
broker/pom.xml
Show comments
View file
Edit file
Delete file
@@ -15,7 +15,9 @@
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<bintray.package>io.moquette.moquette-broker</bintray.package>
<netty.version>4.1.22.Final</netty.version>
<netty.version>4.1.53.Final</netty.version>
<netty.tcnative.version>2.0.34.Final</netty.tcnative.version>
<paho.version>1.2.1</paho.version>
<h2.version>1.4.199</h2.version>
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
<file>
<source>src/main/resources/password_file.conf</source>
<outputDirectory>config/</outputDirectory>
</file>
<file>
<source>src/main/resources/README.txt</source>
</file>
</files>
<dependencySets>
<dependencySet>
<outputDirectory>lib/</outputDirectory>
<useProjectArtifact>true</useProjectArtifact> <!-- avoid inclusion of the artifact itself -->
<groupId>io.netty</groupId>
<artifactId>netty-buffer</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-transport</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-handler</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-codec</artifactId>
Edit file
Delete file
Binary file not shown.
5
gradle/wrapper/gradle-wrapper.properties
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
172
gradlew
Show comments
final ByteBuf anyPayload = Unpooled.copiedBuffer("Any payload", Charset.defaultCharset());
sut.receivedPublishQos1(pubConn, new Topic(NEWS_TOPIC), TEST_USER, anyPayload, 1, true,
MqttMessageBuilders.publish()
.payload(anyPayload.retainedDuplicate())
.qos(MqttQoS.AT_LEAST_ONCE)
.topicName(NEWS_TOPIC).build());
// simulate a reconnection from the other client
connection = createMQTTConnection(ALLOW_ANONYMOUS_AND_ZERO_BYTES_CLID);
connectMessage = ConnectionTestUtils.buildConnectNotClean(FAKE_CLIENT_ID);
connection.processConnect(connectMessage);
ConnectionTestUtils.assertConnectAccepted(channel);
// Verify
ConnectionTestUtils.verifyPublishIsReceived(channel, AT_LEAST_ONCE, "Any payload");
}
@Test
public void checkReceivePublishedMessage_after_a_reconnect_with_notCleanSession() {
Failed to load files. Retry
Always
Unified
Split
Just for now
Hide whitespace changes
Apply and reload
117
.mvn/wrapper/MavenWrapperDownloader.java
Show comments
View file
Edit file
Delete file
Open in desktop
@@ -0,0 +1,117 @@
/*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
import java.net.*;
import java.io.*;
import java.nio.channels.*;
import java.util.Properties;
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/MessagingEvent.java
Show comments
final RetainedMessage toStore = new RetainedMessage(msg.fixedHeader().qosLevel(), rawPayload);
queueMap.put(topic, toStore);
}
@Override
public boolean isEmpty() {
return queueMap.isEmpty();
}
@Override
public List<RetainedMessage> retainedOnTopic(String topic) {
final Topic searchTopic = new Topic(topic);
final List<RetainedMessage> matchingMessages = new ArrayList<>();
for (Map.Entry<Topic, RetainedMessage> entry : queueMap.entrySet()) {
final Topic scanTopic = entry.getKey();
if (searchTopic.match(scanTopic)) {
println "Starting broker in embedded mode"
Server server = new Server()
//Properties props = [port: 1883, host: "0.0.0.0", 'password_file': '../broker/config/password_file.conf'] as Properties
Properties props = new Properties()
props.setProperty('port', '1883')
props.setProperty('host', "0.0.0.0")
props.setProperty('password_file', '../broker/config/password_file.conf')
println "starting proprs $props"
server.startServer(props)
println "Stopping broker.."
server.stopServer()
Copy lines
Copy permalink
View git blame
Reference in new issue
echo " | . . | ___ __ _ _ _ ___| |_| |_ ___ | . . | | | | | | | | "
echo " | |\/| |/ _ \ / _\ | | | |/ _ \ __| __/ _ \ | |\/| | | | | | | | | "
echo " | | | | (_) | (_| | |_| | __/ |_| || __/ | | | \ \/' / | | | | "
echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " |_| "
echo " "
echo " version: 0..13-SNAPSHOT "
cd "$(dirname "$0")"
# resolve links - $0 may be a softlink
PRG="$0"
while [ -h "$PRG" ]; do
ls=`ls -ld "$PRG"`
link=`expr "$ls" : '.*-> \(.*\)$'`
if expr "$link" : '/.*' > /dev/null; then
PRG="$link"
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.server.ServerChannel;
import org.dna.mqtt.moquette.server.ServerChannel;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/InitEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
committed
Mar 17, 2019
1 parent
f3faee6
commit db4349ba669ee4a216b6104382e4cf320f5a7864
Unified
Split
Showing
5 changed files
with
6 additions
and 6 deletions.
+1
−1
broker/src/main/java/io/moquette/broker/Server.java
+2
−2
Loading status checks…
Bumped dev cycle 0.13
Loading branch information
andsel
committed
Mar 17, 2019
1 parent
f3faee6
commit db4349ba669ee4a216b6104382e4cf320f5a7864
Unified
Split
Showing
5 changed files
committed
Mar 17, 2019
1 parent
c248096
commit f3faee6fbe29400a4852e5925cecb370ad2380db
Unified
Split
Showing
1 changed file
with
2 additions
and 2 deletions.
+2
−2
broker/build.gradle
4
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.broker;
import io.moquette.BrokerConstants;
import io.moquette.broker.config.*;
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
213851335a
moquette/broker/src/main/java/io/moquette/broker/PostOffice.java
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
88 lines (73 sloc)
3.79 KB
Raw
Blame
@ECHO OFF
rem #
rem # Copyright (c) 2012-2015 Andrea Selva
rem #
echo " "
import io.netty.handler.codec.mqtt.MqttQoS;
import java.io.Serializable;
public class RetainedMessage implements Serializable{
private final MqttQoS qos;
private final byte[] payload;
public RetainedMessage(MqttQoS qos, byte[] payload) {
this.qos = qos;
this.payload = payload;
}
public MqttQoS qosLevel() {
return qos;
}
public byte[] getPayload() {
return payload;
}
<name>Andrea Selva</name>
<roles>
<role>architect</role>
<role>developer</role>
<role>founder</role>
</roles>
<timezone>+1</timezone>
</developer>
</developers>
<scm>
<connection>scm:git:git@github.com:moquette-io/moquette.git</connection>
<developerConnection>scm:git:git@github.com:moquette-io/moquette.git</developerConnection>
<url>git@github.com:moquette-io/moquette.git</url>
</scm>
<modules>
117 lines (100 sloc)
3.09 KB
Raw
Blame
allprojects {
apply plugin: 'maven'
apply plugin: 'maven-publish'
group = 'io.moquette'
version = '0.13-SNAPSHOT'
}
buildscript {
repositories {
maven {
url "https://plugins.gradle.org/m2/"
}
}
Go to definition
R
Copy path
Cannot retrieve contributors at this time
389 lines (349 sloc)
17.3 KB
Raw
Blame
/*
* Copyright (c) 2012-2018 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
LOG.info("Initializing H2 store");
if (storePath == null || storePath.isEmpty()) {
throw new IllegalArgumentException("H2 store path can't be null or empty");
}
mvStore = new MVStore.Builder()
.fileName(storePath)
.autoCommitDisabled()
.open();
LOG.trace("Scheduling H2 commit task");
scheduler.scheduleWithFixedDelay(() -> {
LOG.trace("Committing to H2");
mvStore.commit();
}, autosaveInterval, autosaveInterval, TimeUnit.SECONDS);
return this;
}
public ISubscriptionsRepository subscriptionsRepository() {
<dependency>
<dependency>
<groupId>org.eclipse.paho</groupId>
<groupId>org.eclipse.paho</groupId>
<artifactId>org.eclipse.paho.client.mqttv3</artifactId>
<artifactId>org.eclipse.paho.client.mqttv3</artifactId>
<version>1.2.0</version>
<scope>test</scope>
<scope>test</scope>
</dependency>
</dependency>
@@ -182,7 +184,7 @@
<dependency>
<dependency>
<groupId>io.netty</groupId>
<groupId>io.netty</groupId>
</properties>
@@ -160,7 +162,7 @@
<dependency>
<groupId>org.eclipse.paho</groupId>
<artifactId>org.eclipse.paho.client.mqttv3</artifactId>
<version>1.2.0</version>
<scope>test</scope>
</dependency>
@@ -182,7 +184,7 @@
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-tcnative</artifactId>
<version>2.0.10.Final</version>
<classifier>linux-x86_64</classifier>
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
</dependencySet>
</dependencySets>
</assembly>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-codec-http</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-codec-mqtt</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-transport-native-epoll</artifactId>
<classifier>linux-x86_64</classifier>
</dependency>
<dependency>
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
84
gradlew.bat
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
// first connect - subscribe -disconnect
connection.processConnect(ConnectionTestUtils.buildConnectNotClean(FAKE_CLIENT_ID));
ConnectionTestUtils.assertConnectAccepted(channel);
subscribe(connection, NEWS_TOPIC, AT_LEAST_ONCE);
connection.processDisconnect(null);
// connect - subscribe from another connection but with same ClientID
EmbeddedChannel secondChannel = new EmbeddedChannel();
MQTTConnection secondConn = createMQTTConnection(ALLOW_ANONYMOUS_AND_ZERO_BYTES_CLID, secondChannel);
secondConn.processConnect(ConnectionTestUtils.buildConnect(FAKE_CLIENT_ID));
ConnectionTestUtils.assertConnectAccepted(secondChannel);
subscribe(secondConn, NEWS_TOPIC, AT_LEAST_ONCE);
// publish a QoS 1 message another client publish a message on the topic
EmbeddedChannel pubChannel = new EmbeddedChannel();
MQTTConnection pubConn = createMQTTConnection(ALLOW_ANONYMOUS_AND_ZERO_BYTES_CLID, pubChannel);
pubConn.processConnect(ConnectionTestUtils.buildConnect(PUBLISHER_ID));
* Copyright 2007-present the original author or authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
import java.net.*;
import java.io.*;
public class MavenWrapperDownloader {
private static final String WRAPPER_VERSION = "0.5.6";
/**
* Default URL to download the maven-wrapper.jar from, if no 'downloadUrl' is provided.
*/
private static final String DEFAULT_DOWNLOAD_URL = "https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/"
+ WRAPPER_VERSION + "/maven-wrapper-" + WRAPPER_VERSION + ".jar";
/**
* Path to the maven-wrapper.properties file, which might contain a downloadUrl property to
* use instead of the default one.
*/
private static final String MAVEN_WRAPPER_PROPERTIES_PATH =
".mvn/wrapper/maven-wrapper.properties";
/**
* Path where the maven-wrapper.jar will be saved to.
*/
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
matchingMessages.add(entry.getValue());
}
}
return matchingMessages;
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
else
PRG=`dirname "$PRG"`/"$link"
fi
done
# Get standard environment variables
PRGDIR=`dirname "$PRG"`
# Only set MOQUETTE_HOME if not already set
[ -f "$MOQUETTE_HOME"/bin/moquette.sh ] || MOQUETTE_HOME=`cd "$PRGDIR/.." ; pwd`
export MOQUETTE_HOME
# Set JavaHome if it exists
else
JAVA=java
fi
export JAVA
LOG_FILE=$MOQUETTE_HOME/config/moquette-log.properties
MOQUETTE_PATH=$MOQUETTE_HOME/
#LOG_CONSOLE_LEVEL=info
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import java.util.Properties;
import java.util.Properties;
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Added implementation of retained store in H2
Loading branch information
andsel
committed
Nov 28, 2018
1 parent
build.gradle
+1
−1
distribution/src/main/scripts/moquette.bat
+1
−1
distribution/src/main/scripts/moquette.sh
+1
−1
tools_scripts/integration/brokerEmbeddedTest.groovy
2
broker/src/main/java/io/moquette/broker/Server.java
Show comments
View file
Edit file
Delete file
with
6 additions
and 6 deletions.
+1
−1
broker/src/main/java/io/moquette/broker/Server.java
+2
−2
build.gradle
+1
−1
distribution/src/main/scripts/moquette.bat
+1
−1
distribution/src/main/scripts/moquette.sh
+1
−1
broker/build.gradle
Show comments
View file
Edit file
Delete file
@@ -13,7 +13,7 @@ dependencies {
compile group: 'io.netty', name: 'netty-transport-native-epoll', version: nettyVersion, classifier: 'linux-x86_64'
compile group: 'com.h2database', name: 'h2-mvstore', version: '1.4.196'
compile group: 'com.h2database', name: 'h2-mvstore', version: '1.4.199'
compile group: 'com.zaxxer', name: 'HikariCP', version:'2.4.7'
@@ -33,7 +33,7 @@ dependencies {
testCompile group: 'org.fusesource.mqtt-client', name: 'mqtt-client', version:'1.12'
testCompile group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version:'1.2.0'
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.196'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.199'
import io.moquette.interception.InterceptHandler;
import io.moquette.persistence.H2Builder;
import io.moquette.persistence.MemorySubscriptionsRepository;
import io.moquette.interception.BrokerInterceptor;
import io.moquette.broker.security.*;
import io.moquette.broker.subscriptions.CTrieSubscriptionDirectory;
import io.moquette.broker.subscriptions.ISubscriptionsDirectory;
import io.moquette.broker.security.IAuthenticator;
import io.moquette.broker.security.IAuthorizatorPolicy;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.io.File;
import java.io.IOException;
import java.lang.reflect.InvocationTargetException;
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
304 lines (258 sloc)
12.8 KB
213851335a
moquette/broker/src/main/java/io/moquette/broker/MemoryRetainedRepository.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
66 lines (58 sloc)
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
213851335a
moquette/broker/src/main/java/io/moquette/broker/IRetainedRepository.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
Sign up
213851335a
moquette/ChangeLog.txt
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
103 lines (93 sloc)
6.14 KB
Raw
Blame
Version 0.12:
Fixed issue #415
echo " ___ ___ _ _ ___ ________ _____ _____ "
echo " | \/ | | | | | | \/ | _ |_ _|_ _| "
echo " | . . | ___ __ _ _ _ ___| |_| |_ ___ | . . | | | | | | | | "
echo " | |\/| |/ _ \ / _\ | | | |/ _ \ __| __/ _ \ | |\/| | | | | | | | | "
echo " | | | | (_) | (_| | |_| | __/ |_| || __/ | | | \ \/' / | | | | "
echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " |_| "
echo " "
echo " version: 0.13-SNAPSHOT "
set "CURRENT_DIR=%cd%"
if not "%MOQUETTE_HOME%" == "" goto gotHome
set "MOQUETTE_HOME=%CURRENT_DIR%"
if exist "%MOQUETTE_HOME%\bin\moquette.bat" goto okHome
cd ..
set "MOQUETTE_HOME=%cd%"
cd "%CURRENT_DIR%"
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
<module>broker</module>
<module>distribution</module>
<module>embedding_moquette</module>
</modules>
<dependencies>
<dependency>
<groupId>junit</groupId>
<artifactId>junit</artifactId>
<version>4.8.2</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.slf4j</groupId>
<artifactId>slf4j-log4j12</artifactId>
<version>1.7.5</version>
<scope>test</scope>
</dependency>
dependencies {
classpath 'net.ltgt.gradle:gradle-errorprone-plugin:0.0.13'
classpath 'gradle.plugin.com.github.spotbugs:gradlePlugin:1.6.0'
classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'
classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7.3'
}
}
subprojects {
repositories {
mavenLocal()
}
apply from: new File(rootDir, 'gradle/java.gradle')
apply from: new File(rootDir, 'gradle/test.gradle')
apply from: new File(rootDir, 'gradle/lint.gradle')
apply plugin: 'com.jfrog.bintray'
apply plugin: 'eclipse'
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.broker;
import io.moquette.BrokerConstants;
import io.moquette.broker.config.*;
import io.moquette.interception.InterceptHandler;
import io.moquette.persistence.H2Builder;
import io.moquette.persistence.MemorySubscriptionsRepository;
import io.moquette.interception.BrokerInterceptor;
return new H2SubscriptionsRepository(mvStore);
}
public void closeStore() {
mvStore.close();
}
public IQueueRepository queueRepository() {
return new H2QueueRepository(mvStore);
}
public IRetainedRepository retainedRepository() {
return new H2RetainedRepository(mvStore);
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
<artifactId>netty-tcnative</artifactId>
<artifactId>netty-tcnative</artifactId>
<version>2.0.10.Final</version>
<classifier>linux-x86_64</classifier>
<classifier>linux-x86_64</classifier>
<scope>test</scope>
<scope>test</scope>
</dependency>
</dependency>
7
distribution/src/main/assembly/assembly.xml
Show comments
View file
Edit file
<scope>test</scope>
</dependency>
7
distribution/src/main/assembly/assembly.xml
Show comments
View file
Edit file
Delete file
@@ -37,11 +37,6 @@
<outputDirectory>config/</outputDirectory>
</file>
Learn more
Accept
Reject
Save preferences
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
<groupId>com.h2database</groupId>
<artifactId>h2-mvstore</artifactId>
</dependency>
<dependency>
<groupId>com.zaxxer</groupId>
<artifactId>HikariCP</artifactId>
<version>2.4.7</version>
</dependency>
<dependency>
<groupId>io.dropwizard.metrics</groupId>
<artifactId>metrics-core</artifactId>
<version>3.2.2</version>
</dependency>
<dependency>
<groupId>io.dropwizard.metrics</groupId>
<artifactId>metrics-jvm</artifactId>
Retry
8
settings.gradle
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 1d20eaf
ConnectionTestUtils.assertConnectAccepted(pubChannel);
final ByteBuf anyPayload = Unpooled.copiedBuffer("Any payload", Charset.defaultCharset());
sut.receivedPublishQos1(pubConn, new Topic(NEWS_TOPIC), TEST_USER, anyPayload, 1, true,
MqttMessageBuilders.publish()
.payload(anyPayload.retainedDuplicate())
.qos(MqttQoS.AT_LEAST_ONCE)
.topicName(NEWS_TOPIC).build());
// Verify that after a reconnection the client receive the message
ConnectionTestUtils.verifyPublishIsReceived(secondChannel, AT_LEAST_ONCE, "Any payload");
}
@Test
public void noPublishToInactiveSession() {
// create an inactive session for Subscriber
connection.processConnect(ConnectionTestUtils.buildConnectNotClean(SUBSCRIBER_ID));
import java.nio.channels.*;
import java.util.Properties;
public class MavenWrapperDownloader {
private static final String WRAPPER_VERSION = "0.5.6";
/**
* Default URL to download the maven-wrapper.jar from, if no 'downloadUrl' is provided.
*/
private static final String DEFAULT_DOWNLOAD_URL = "https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/"
+ WRAPPER_VERSION + "/maven-wrapper-" + WRAPPER_VERSION + ".jar";
/**
* Path to the maven-wrapper.properties file, which might contain a downloadUrl property to
* use instead of the default one.
*/
private static final String MAVEN_WRAPPER_PROPERTIES_PATH =
".mvn/wrapper/maven-wrapper.properties";
private static final String MAVEN_WRAPPER_JAR_PATH =
".mvn/wrapper/maven-wrapper.jar";
/**
* Name of the property which should be used to override the default download url for the wrapper.
*/
private static final String PROPERTY_NAME_WRAPPER_URL = "wrapperUrl";
public static void main(String args[]) {
System.out.println("- Downloader started");
File baseDirectory = new File(args[0]);
System.out.println("- Using base directory: " + baseDirectory.getAbsolutePath());
// If the maven-wrapper.properties exists, read it and check if it contains a custom
// wrapperUrl parameter.
File mavenWrapperPropertyFile = new File(baseDirectory, MAVEN_WRAPPER_PROPERTIES_PATH);
String url = DEFAULT_DOWNLOAD_URL;
if(mavenWrapperPropertyFile.exists()) {
FileInputStream mavenWrapperPropertyFileInputStream = null;
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
15
...r/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/OutputMessagingEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
#LOG_FILE_LEVEL=fine
JAVA_OPTS_SCRIPT="-XX:+HeapDumpOnOutOfMemoryError -Djava.awt.headless=true"
## Use the Hotspot garbage-first collector.
JAVA_OPTS="$JAVA_OPTS -XX:+UseG1GC"
## Have the JVM do less remembered set work during STW, instead
## preferring concurrent GC. Reduces p99.9 latency.
JAVA_OPTS="$JAVA_OPTS -XX:G1RSetUpdatingPauseTimePercent=5"
## Main G1GC tunable: lowering the pause target will lower throughput and vise versa.
## 200ms is the JVM default and lowest viable setting
## 1000ms increases throughput. Keep it smaller than the timeouts.
JAVA_OPTS="$JAVA_OPTS -XX:MaxGCPauseMillis=500"
## Optional G1 Settings
# Save CPU time on large (>= 16GB) heaps by delaying region scanning
# until the heap is 70% full. The default in Hotspot 8u40 is 40%.
#JAVA_OPTS="$JAVA_OPTS -XX:InitiatingHeapOccupancyPercent=70"
15
...er/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/LostConnectionEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
80daadf
commit 213851335a4f22fc30796911d5bebcd1d26fb7c7
Unified
Split
Showing
9 changed files
with
132 additions
and 20 deletions.
+2
−0
ChangeLog.txt
+3
−1
broker/src/main/java/io/moquette/broker/IRetainedRepository.java
+21
@@ -55,7 +55,7 @@
public static void main(String[] args) throws IOException {
public static void main(String[] args) throws IOException {
final Server server = new Server();
final Server server = new Server();
server.startServer();
server.startServer();
System.out.println("Server started, version 0.12.1");
System.out.println("Server started, version 0.13-SNAPSHOT");
//Bind a shutdown hook
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread(server::stopServer));
Runtime.getRuntime().addShutdownHook(new Thread(server::stopServer));
}
}
tools_scripts/integration/brokerEmbeddedTest.groovy
2
broker/src/main/java/io/moquette/broker/Server.java
Show comments
View file
Edit file
Delete file
@@ -55,7 +55,7 @@
public static void main(String[] args) throws IOException {
final Server server = new Server();
server.startServer();
System.out.println("Server started, version 0.12.1");
System.out.println("Server started, version 0.13-SNAPSHOT");
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread(server::stopServer));
}
testRuntime group: 'io.netty', name: 'netty-tcnative', version: '2.0.10.Final', classifier: 'linux-x86_64'
}
Toggle all file notes
0 comments
on commit f3faee6
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
import java.text.ParseException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Properties;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;
import static io.moquette.logging.LoggingUtils.getInterceptorIds;
public class Server {
private static final Logger LOG = LoggerFactory.getLogger(io.moquette.broker.Server.class);
private ScheduledExecutorService scheduler;
private NewNettyAcceptor acceptor;
private volatile boolean initialized;
private PostOffice dispatcher;
Raw
Blame
/*
* Copyright (c) 2012-2018 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
2.14 KB
Raw
Blame
/*
* Copyright (c) 2012-2018 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
R
Copy path
Cannot retrieve contributors at this time
32 lines (25 sloc)
970 Bytes
Raw
Blame
/*
* Copyright (c) 2012-2018 The original author or authors
* ------------------------------------------------------
Dropped Hazelcast because at the moment Moquette is not designed to be clusterizable
Rewritten completly the broker to introduce the concept of MqttConnection
Dropped suppoert for MapDB and keeped only H2 MvStore for persistence
Version 0.10:
Netty epoll system added
Separated in memory and MapDB storage implementations
Cleanly separated inflight part (inbound and outbound)
Version 0.9:
Moved canRead check to topic from publish phase to subscribe (#144)
Added javadoc and src jars creations for JCenter/Maven central
Added persisting of clean session flag for already existing client session (fix issue #145)
Moved the message logic management fo FSM, to better control the concurrency.
Changed default config to use in memory store and not default moquette.mapdb
Version 0.8:
Introduced authenticator and authorizator implementations.
:gotHome
if exist "%MOQUETTE_HOME%\bin\moquette.bat" goto okHome
echo The MOQUETTE_HOME environment variable is not defined correctly
echo This environment variable is needed to run this program
goto end
:okHome
rem Set JavaHome if it exists
set "JAVA="%JAVA_HOME%\bin\java"
)
echo Using JAVA_HOME: "%JAVA_HOME%"
echo Using MOQUETTE_HOME: "%MOQUETTE_HOME%"
rem set LOG_CONSOLE_LEVEL=info
rem set LOG_FILE_LEVEL=fine
set JAVA_OPTS=
set JAVA_OPTS_SCRIPT=-XX:+HeapDumpOnOutOfMemoryError -Djava.awt.headless=true
set MOQUETTE_PATH=%MOQUETTE_HOME%
set LOG_FILE=%MOQUETTE_HOME%\config\moquette-log.properties
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
<!-- needs extra dependencies: objenesis & hamcrest -->
<dependency>
<groupId>org.mockito</groupId>
<artifactId>mockito-core</artifactId>
<version>1.9.0</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.assertj</groupId>
<artifactId>assertj-core</artifactId>
<version>2.6.0</version>
<scope>test</scope>
</dependency>
<dependency>
ext {
nettyVersion = '4.1.22.Final'
}
task packageTests(type: Jar) {
from sourceSets.test.output
from sourceSets.test.allSource
from sourceSets.test.resources
classifier = 'tests'
}
task javadocJar (type: Jar, dependsOn: javadoc) {
classifier = 'javadoc'
from javadoc.destinationDir
}
task sourceJar (type : Jar) {
classifier = 'sources'
from sourceSets.main.allSource
import io.moquette.broker.security.*;
import io.moquette.broker.subscriptions.CTrieSubscriptionDirectory;
import io.moquette.broker.subscriptions.ISubscriptionsDirectory;
import io.moquette.broker.security.IAuthenticator;
import io.moquette.broker.security.IAuthorizatorPolicy;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.io.File;
import java.io.IOException;
import java.lang.reflect.InvocationTargetException;
import java.text.ParseException;
import java.util.*;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;
import static io.moquette.logging.LoggingUtils.getInterceptorIds;
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Delete file
@@ -37,11 +37,6 @@
<outputDirectory>config/</outputDirectory>
<outputDirectory>config/</outputDirectory>
</file>
</file>
<file>
<source>src/main/resources/hazelcast.xml</source>
<outputDirectory>config/</outputDirectory>
</file>
<file>
<file>
<source>src/main/resources/README.txt</source>
<source>src/main/resources/README.txt</source>
<file>
<source>src/main/resources/hazelcast.xml</source>
<outputDirectory>config/</outputDirectory>
</file>
<file>
<source>src/main/resources/README.txt</source>
</file>
@@ -54,4 +49,4 @@
<useProjectArtifact>true</useProjectArtifact> <!-- avoid inclusion of the artifact itself -->
</dependencySet>
</dependencySets>
</assembly>
</assembly>
7
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<version>3.2.2</version>
</dependency>
<dependency>
<groupId>com.librato.metrics</groupId>
<artifactId>metrics-librato</artifactId>
<version>5.1.0</version>
</dependency>
<dependency>
<groupId>com.librato.metrics</groupId>
<artifactId>librato-java</artifactId>
<version>2.1.0</version>
</dependency>
<dependency>
<groupId>com.bugsnag</groupId>
<artifactId>bugsnag</artifactId>
<version>[3.0,4.0)</version>
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
ConnectionTestUtils.assertConnectAccepted(channel);
subscribe(connection, NEWS_TOPIC, AT_LEAST_ONCE);
connection.processDisconnect(null);
// Exercise
EmbeddedChannel pubChannel = new EmbeddedChannel();
MQTTConnection pubConn = createMQTTConnection(ALLOW_ANONYMOUS_AND_ZERO_BYTES_CLID, pubChannel);
pubConn.processConnect(ConnectionTestUtils.buildConnect(PUBLISHER_ID));
ConnectionTestUtils.assertConnectAccepted(pubChannel);
final ByteBuf anyPayload = Unpooled.copiedBuffer("Any payload", Charset.defaultCharset());
sut.receivedPublishQos1(pubConn, new Topic(NEWS_TOPIC), TEST_USER, anyPayload, 1, true,
MqttMessageBuilders.publish()
.payload(anyPayload)
.qos(MqttQoS.AT_LEAST_ONCE)
.retained(true)
.topicName(NEWS_TOPIC).build());
verifyNoPublishIsReceived(channel);
/**
* Path where the maven-wrapper.jar will be saved to.
*/
private static final String MAVEN_WRAPPER_JAR_PATH =
".mvn/wrapper/maven-wrapper.jar";
/**
* Name of the property which should be used to override the default download url for the wrapper.
*/
private static final String PROPERTY_NAME_WRAPPER_URL = "wrapperUrl";
public static void main(String args[]) {
System.out.println("- Downloader started");
File baseDirectory = new File(args[0]);
System.out.println("- Using base directory: " + baseDirectory.getAbsolutePath());
// If the maven-wrapper.properties exists, read it and check if it contains a custom
try {
mavenWrapperPropertyFileInputStream = new FileInputStream(mavenWrapperPropertyFile);
Properties mavenWrapperProperties = new Properties();
mavenWrapperProperties.load(mavenWrapperPropertyFileInputStream);
url = mavenWrapperProperties.getProperty(PROPERTY_NAME_WRAPPER_URL, url);
} catch (IOException e) {
System.out.println("- ERROR loading '" + MAVEN_WRAPPER_PROPERTIES_PATH + "'");
} finally {
try {
if(mavenWrapperPropertyFileInputStream != null) {
mavenWrapperPropertyFileInputStream.close();
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Save preferences
# For systems with > 8 cores, the default ParallelGCThreads is 5/8 the number of logical cores.
# Otherwise equal to the number of cores when 8 or less.
# Machines with > 10 cores should try setting these to <= full cores.
#JAVA_OPTS="$JAVA_OPTS -XX:ParallelGCThreads=16"
# By default, ConcGCThreads is 1/4 of ParallelGCThreads.
# Setting both to the same value can reduce STW durations.
#JAVA_OPTS="$JAVA_OPTS -XX:ConcGCThreads=16"
### GC logging options -- uncomment to enable
JAVA_OPTS="$JAVA_OPTS -XX:+PrintGCDetails"
JAVA_OPTS="$JAVA_OPTS -XX:+PrintGCDateStamps"
JAVA_OPTS="$JAVA_OPTS -XX:+PrintHeapAtGC"
JAVA_OPTS="$JAVA_OPTS -XX:+PrintTenuringDistribution"
JAVA_OPTS="$JAVA_OPTS -XX:+PrintGCApplicationStoppedTime"
JAVA_OPTS="$JAVA_OPTS -XX:+PrintPromotionFailure"
#JAVA_OPTS="$JAVA_OPTS -XX:PrintFLSStatistics=1"
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
/**
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/MessagingEvent.java
Show comments
View file
−5
broker/src/main/java/io/moquette/broker/MemoryRetainedRepository.java
+12
−9
broker/src/main/java/io/moquette/broker/PostOffice.java
+24
−0
broker/src/main/java/io/moquette/broker/RetainedMessage.java
+4
−1
broker/src/main/java/io/moquette/broker/Server.java
+5
−0
broker/src/main/java/io/moquette/persistence/H2Builder.java
+55
−0
4
build.gradle
Show comments
View file
Edit file
Delete file
@@ -3,7 +3,7 @@ allprojects {
apply plugin: 'maven-publish'
apply plugin: 'maven-publish'
group = 'io.moquette'
group = 'io.moquette'
version = '0.12.1'
version = '0.13-SNAPSHOT'
}
}
4
build.gradle
Show comments
View file
Edit file
Delete file
@@ -3,7 +3,7 @@ allprojects {
apply plugin: 'maven-publish'
group = 'io.moquette'
version = '0.12.1'
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
private BrokerInterceptor interceptor;
private H2Builder h2Builder;
public static void main(String[] args) throws IOException {
final Server server = new Server();
server.startServer();
System.out.println("Server started, version 0.12-SNAPSHOT");
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread(server::stopServer));
}
/**
* Starts Moquette bringing the configuration from the file located at m_config/moquette.conf
*
* @throws IOException in case of any IO error.
*/
package io.moquette.broker;
import io.moquette.interception.BrokerInterceptor;
import io.moquette.broker.subscriptions.ISubscriptionsDirectory;
import io.moquette.broker.subscriptions.Subscription;
import io.moquette.broker.subscriptions.Topic;
import io.moquette.broker.security.IAuthorizatorPolicy;
import io.netty.buffer.ByteBuf;
import io.netty.buffer.Unpooled;
import io.netty.handler.codec.mqtt.*;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.stream.Collectors;
import static io.moquette.broker.Utils.messageId;
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.broker;
import io.moquette.broker.subscriptions.Topic;
import io.netty.buffer.ByteBuf;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.ConcurrentMap;
/*
* In memory retained messages store
* */
final class MemoryRetainedRepository implements IRetainedRepository {
private final ConcurrentMap<Topic, RetainedMessage> storage = new ConcurrentHashMap<>();
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.broker;
import io.moquette.broker.subscriptions.Topic;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import java.util.List;
public interface IRetainedRepository {
Fixed bug, doesn't close the channel when connect doesn't contains a valid proto name, issue #65
Fixed bug, does not check for zero length topic (filters) in PUBLISH, SUBSCRIBE, and UNSUBSCRIBE, issue #67
Fixed issue #69
Fixed bug #68, UNSUBSCRIBE has to fail on bad topicFilter names
Fixed bug #81, on stop of moquette broker it doesn't shutdown due to no shutdown of ringbuffer used on the back of ProtocolProcessor
Moved config to be not only filesystem based, but also classpath and memory (fix issue #73)
Switched from commit persistence on every change to time based to fix delay in handling many msgs/sec (fix issue #79)
Changed willMessage and password in CONNECT message from String to byte[] (fix issue #94 and #95)
Fixed ugly empty session storage, avoid fake NullObject empty subscription subscription
Added check to avoid creation of LostConnectionEvents for not yet completed connects (fix issue #88)
Removed LMAX ringbuffer to use multi threading with persistent (copy on write) data structures
Fixed bug that on connection stolen dropped also the new connection (fix issue #108)
Refactored the storage part to be more rational and use ClientSession concept
Added config property 'autosave_interval' (issue #97)
Removed leaking ref to parent's node (issue #119 and #126)
Added internal publish once the broker is embedded (issue #113)
rem # Use the Hotspot garbage-first collector.
set JAVA_OPTS=%JAVA_OPTS% -XX:+UseG1GC
rem # Have the JVM do less remembered set work during STW, instead
rem # preferring concurrent GC. Reduces p99.9 latency.
set JAVA_OPTS=%JAVA_OPTS% -XX:G1RSetUpdatingPauseTimePercent=5
rem # Main G1GC tunable: lowering the pause target will lower throughput and vise versa.
rem # 200ms is the JVM default and lowest viable setting
rem # 1000ms increases throughput. Keep it smaller than the timeouts.
set JAVA_OPTS=%JAVA_OPTS% -XX:MaxGCPauseMillis=500
rem # Optional G1 Settings
rem Save CPU time on large (>= 16GB) heaps by delaying region scanning
rem until the heap is 70% full. The default in Hotspot 8u40 is 40%.
rem set JAVA_OPTS=%JAVA_OPTS% -XX:InitiatingHeapOccupancyPercent=70
rem For systems with > 8 cores, the default ParallelGCThreads is 5/8 the number of logical cores.
rem Otherwise equal to the number of cores when 8 or less.
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<groupId>org.awaitility</groupId>
<artifactId>awaitility</artifactId>
<version>3.0.0</version>
<scope>test</scope>
</dependency>
</dependencies>
<reporting>
<plugins>
<plugin>
<groupId>org.codehaus.mojo</groupId>
<artifactId>cobertura-maven-plugin</artifactId>
<version>2.6</version>
</plugin>
</plugins>
</reporting>
<build>
<plugins>
}
// summarize artifacts
artifacts {
archives jar
archives sourceJar
archives javadocJar
archives packageTests
}
dependencies {
compile group: 'org.slf4j', name: 'slf4j-api', version:'1.7.5'
testCompile group: 'junit', name: 'junit', version:'4.8.2'
testCompile group: 'org.slf4j', name: 'slf4j-log4j12', version:'1.7.5'
testCompile group: 'org.assertj', name: 'assertj-core', version:'2.6.0'
testCompile group: 'org.mockito', name: 'mockito-core', version:'1.9.0'
testCompile group: 'org.awaitility', name: 'awaitility', version: '3.0.0'
}
public class Server {
private static final Logger LOG = LoggerFactory.getLogger(io.moquette.broker.Server.class);
private ScheduledExecutorService scheduler;
private NewNettyAcceptor acceptor;
private volatile boolean initialized;
private PostOffice dispatcher;
private BrokerInterceptor interceptor;
private H2Builder h2Builder;
private SessionRegistry sessions;
public static void main(String[] args) throws IOException {
final Server server = new Server();
server.startServer();
System.out.println("Server started, version 0.13-SNAPSHOT");
//Bind a shutdown hook
Runtime.getRuntime().addShutdownHook(new Thread(server::stopServer));
}
/**
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
</file>
</file>
@@ -54,4 +49,4 @@
<useProjectArtifact>true</useProjectArtifact> <!-- avoid inclusion of the artifact itself -->
<useProjectArtifact>true</useProjectArtifact> <!-- avoid inclusion of the artifact itself -->
</dependencySet>
</dependencySet>
</dependencySets>
</dependencySets>
</assembly>
</assembly>
7
pom.xml
Show comments
View file
Edit file
pom.xml
Show comments
View file
Edit file
Delete file
@@ -3,7 +3,7 @@
<modelVersion>4.0.0</modelVersion>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<netty.version>4.1.12.Final</netty.version>
<!--<netty.version>4.1.12.Final</netty.version>-->
<source.version>1.8</source.version>
<target.version>1.8</target.version>
<bintray.repo>andsel/maven</bintray.repo>
@@ -190,6 +190,11 @@
</profiles>
</dependency>
<dependency>
<groupId>commons-codec</groupId>
<artifactId>commons-codec</artifactId>
<version>1.10</version>
</dependency>
<!--<dependency>-->
<!--<groupId>org.hdrhistogram</groupId>-->
<!--<artifactId>HdrHistogram</artifactId>-->
<!--<version>2.1.4</version>-->
<!--</dependency>-->
<!-- Test dependencies -->
<!--<dependency>-->
<!--<groupId>junit</groupId>-->
<!--<artifactId>junit</artifactId>-->
<!--<version>4.8.2</version>-->
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
}
private void verifyNoPublishIsReceived(EmbeddedChannel channel) {
final Object messageReceived = channel.readOutbound();
assertNull("Received an out message from processor while not expected", messageReceived);
}
@Test
public void cleanRetainedMessageStoreWhenPublishWithRetainedQos0IsReceived() {
connection.processConnect(connectMessage);
ConnectionTestUtils.assertConnectAccepted(channel);
// publish a QoS1 retained message
final ByteBuf anyPayload = Unpooled.copiedBuffer("Any payload", Charset.defaultCharset());
final MqttPublishMessage publishMsg = MqttMessageBuilders.publish()
.payload(Unpooled.copiedBuffer("Any payload", Charset.defaultCharset()))
.qos(MqttQoS.AT_LEAST_ONCE)
.retained(true)
// wrapperUrl parameter.
File mavenWrapperPropertyFile = new File(baseDirectory, MAVEN_WRAPPER_PROPERTIES_PATH);
String url = DEFAULT_DOWNLOAD_URL;
if(mavenWrapperPropertyFile.exists()) {
FileInputStream mavenWrapperPropertyFileInputStream = null;
try {
mavenWrapperPropertyFileInputStream = new FileInputStream(mavenWrapperPropertyFile);
Properties mavenWrapperProperties = new Properties();
mavenWrapperProperties.load(mavenWrapperPropertyFileInputStream);
url = mavenWrapperProperties.getProperty(PROPERTY_NAME_WRAPPER_URL, url);
} catch (IOException e) {
System.out.println("- ERROR loading '" + MAVEN_WRAPPER_PROPERTIES_PATH + "'");
} finally {
try {
if(mavenWrapperPropertyFileInputStream != null) {
mavenWrapperPropertyFileInputStream.close();
}
} catch (IOException e) {
// Ignore ...
}
}
}
System.out.println("- Downloading from: " + url);
File outputFile = new File(baseDirectory.getAbsolutePath(), MAVEN_WRAPPER_JAR_PATH);
if(!outputFile.getParentFile().exists()) {
if(!outputFile.getParentFile().mkdirs()) {
System.out.println(
"- ERROR creating output directory '" + outputFile.getParentFile().getAbsolutePath() + "'");
}
}
System.out.println("- Downloading to: " + outputFile.getAbsolutePath());
try {
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/ProtocolEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
#JAVA_OPTS="$JAVA_OPTS -Xloggc:/var/log/moquette/gc.log"
JAVA_OPTS="$JAVA_OPTS -Xloggc:$MOQUETTE_HOME/gc.log"
JAVA_OPTS="$JAVA_OPTS -XX:+UseGCLogFileRotation"
JAVA_OPTS="$JAVA_OPTS -XX:NumberOfGCLogFiles=10"
JAVA_OPTS="$JAVA_OPTS -XX:GCLogFileSize=10M"
$JAVA -server $JAVA_OPTS $JAVA_OPTS_SCRIPT -Dlog4j.configuration="file:$LOG_FILE" -Dmoquette.path="$MOQUETTE_PATH" -cp "$MOQUETTE_HOME/lib/*" io.moquette.broker.Server
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
broker/src/main/java/io/moquette/persistence/H2RetainedRepository.java
+6
−4
broker/src/test/java/io/moquette/broker/PostOfficePublishTest.java
2
ChangeLog.txt
Show comments
View file
Edit file
Delete file
@@ -1,6 +1,8 @@
Version 0.12:
Version 0.12:
Fixed issue #415
buildscript {
buildscript {
@@ -92,7 +92,7 @@ subprojects {
from components.java
from components.java
groupId "$project.group"
groupId "$project.group"
version '0.12.1'
version '0.13-SNAPSHOT'
}
}
}
}
}
}
2
distribution/src/main/scripts/moquette.bat
version = '0.13-SNAPSHOT'
}
buildscript {
@@ -92,7 +92,7 @@ subprojects {
from components.java
groupId "$project.group"
version '0.12.1'
version '0.13-SNAPSHOT'
}
}
}
2
distribution/src/main/scripts/moquette.bat
Show comments
View file
Edit file
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
*/
public void startServer() throws IOException {
File defaultConfigurationFile = defaultConfigFile();
LOG.info("Starting Moquette integration. Configuration file path={}", defaultConfigurationFile.getAbsolutePath());
IResourceLoader filesystemLoader = new FileResourceLoader(defaultConfigurationFile);
final IConfig config = new ResourceLoaderConfig(filesystemLoader);
startServer(config);
}
private static File defaultConfigFile() {
String configPath = System.getProperty("moquette.path", null);
return new File(configPath, IConfig.DEFAULT_CONFIG);
}
/**
* Starts Moquette bringing the configuration from the given file
*
import static io.netty.handler.codec.mqtt.MqttMessageIdVariableHeader.from;
import static io.netty.handler.codec.mqtt.MqttQoS.*;
class PostOffice {
private static final Logger LOG = LoggerFactory.getLogger(PostOffice.class);
private final Authorizator authorizator;
private final ISubscriptionsDirectory subscriptions;
private final IRetainedRepository retainedRepository;
private SessionRegistry sessionRegistry;
private BrokerInterceptor interceptor;
PostOffice(ISubscriptionsDirectory subscriptions, IAuthorizatorPolicy authorizatorPolicy,
IRetainedRepository retainedRepository, SessionRegistry sessionRegistry, BrokerInterceptor interceptor) {
this.authorizator = new Authorizator(authorizatorPolicy);
this.subscriptions = subscriptions;
this.retainedRepository = retainedRepository;
@Override
public void cleanRetained(Topic topic) {
storage.remove(topic);
}
@Override
public void retain(Topic topic, MqttPublishMessage msg) {
final ByteBuf payload = msg.content();
byte[] rawPayload = new byte[payload.readableBytes()];
payload.getBytes(0, rawPayload);
final RetainedMessage toStore = new RetainedMessage(msg.fixedHeader().qosLevel(), rawPayload);
storage.put(topic, toStore);
}
@Override
public boolean isEmpty() {
return storage.isEmpty();
void cleanRetained(Topic topic);
void retain(Topic topic, MqttPublishMessage msg);
boolean isEmpty();
List<RetainedMessage> retainedOnTopic(String topic);
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Removed client active/not active state from persistence (issue #118)
Avoid deletion of client descriptor in case of multiple clients with same clientID (issues #116 and #124)
Removed a queue per client of inFlightIds (never cleaned) in favor of single atomic generator
Version 0.7:
Fix issue #38, added aligned to MQTT 3.1.1
Refactored big event switch to @Annotation dispatcher
Switched from HawtDB to MapDB
Fixed bug that didn't update client subscription on persistent store so that on server restart there where ghost subscriptions.
Fixed Issue #11, multiple republish of persisted QoS1/2 messages on clients reconnections.
Refactored the publish logic for QoS 1 2 to try to be more readable
Added packetIdentifier storage and generation
Fixed issue #16, bad packetId for will messages with qos > 0
Added store path variable "persistent_store" to configuration file (picked from Steven Warwick fork)
Removed OSGi bundle, developer time burner
Fixed github issue #30, returning error on mapdb file not deleted that corrupt reiterated builds
Added handling of allow_anonymous clients (as in mosquitto issue #34)
Modified the password_file format to use password stored in sha256 and not plain text
rem Machines with > 10 cores should try setting these to <= full cores.
rem set JAVA_OPTS=%JAVA_OPTS% -XX:ParallelGCThreads=16
rem By default, ConcGCThreads is 1/4 of ParallelGCThreads.
rem Setting both to the same value can reduce STW durations.
rem set JAVA_OPTS=%JAVA_OPTS% -XX:ConcGCThreads=16
rem ## GC logging options -- uncomment to enable
set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCDetails
set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCDateStamps
set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintHeapAtGC
set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintTenuringDistribution
set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintGCApplicationStoppedTime
set JAVA_OPTS=%JAVA_OPTS% -XX:+PrintPromotionFailure
rem set JAVA_OPTS=%JAVA_OPTS% -XX:PrintFLSStatistics=1
rem set JAVA_OPTS=%JAVA_OPTS% -Xloggc:/var/log/moquette/gc.log
set JAVA_OPTS=%JAVA_OPTS% -XX:+UseGCLogFileRotation
set JAVA_OPTS=%JAVA_OPTS% -XX:NumberOfGCLogFiles=10
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-compiler-plugin</artifactId>
<configuration>
</configuration>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-checkstyle-plugin</artifactId>
<version>2.17</version>
<configuration>
<configLocation>checkstyle.xml</configLocation>
<!--<suppressionsLocation>checkstyle-suppressions.xml</suppressionsLocation>-->
<!--
<configLocation>/google_checks.xml</configLocation>
-->
test {
systemProperties.put "moquette.path", "build/resources/test/"
systemProperties.put "io.netty.leakDetectionLevel", "paranoid"
testLogging {
exceptionFormat 'full'
events "passed", "skipped", "failed"
}
}
// Deploy set environment variables and run ./gradlew bintrayUpload
// publication to maven repo
publishing {
publications {
bintrayPublication(MavenPublication) {
from components.java
groupId "$project.group"
version '0.13-SNAPSHOT'
}
* Starts Moquette bringing the configuration from the file located at m_config/moquette.conf
*
* @throws IOException in case of any IO error.
*/
public void startServer() throws IOException {
File defaultConfigurationFile = defaultConfigFile();
LOG.info("Starting Moquette integration. Configuration file path={}", defaultConfigurationFile.getAbsolutePath());
IResourceLoader filesystemLoader = new FileResourceLoader(defaultConfigurationFile);
final IConfig config = new ResourceLoaderConfig(filesystemLoader);
startServer(config);
}
private static File defaultConfigFile() {
String configPath = System.getProperty("moquette.path", null);
return new File(configPath, IConfig.DEFAULT_CONFIG);
}
/**
Reject
Save preferences
Delete file
@@ -3,7 +3,7 @@
<modelVersion>4.0.0</modelVersion>
<modelVersion>4.0.0</modelVersion>
<properties>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<netty.version>4.1.12.Final</netty.version>
<!--<netty.version>4.1.12.Final</netty.version>-->
<source.version>1.8</source.version>
<source.version>1.8</source.version>
<target.version>1.8</target.version>
<repositories>
<repository>
<id>Maven repo</id>
<url>https://repo1.maven.org/maven2/</url>
</repository>
<repository>
<id>Paho Releases</id>
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
Toggle all file notes
0 comments
on commit 89a4ada
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
<!--<scope>test</scope>-->
<!--</dependency>-->
<!--<dependency>-->
<!--<groupId>org.slf4j</groupId>-->
<!--<artifactId>slf4j-log4j12</artifactId>-->
<!--<version>1.7.5</version>-->
<!--<scope>test</scope>-->
<!--</dependency>-->
<!--&lt;!&ndash; needs extra dependencies: objenesis & hamcrest &ndash;&gt;-->
<!--<dependency>-->
<!--<groupId>org.mockito</groupId>-->
<!--<artifactId>mockito-core</artifactId>-->
<!--<version>1.9.0</version>-->
<!--<scope>test</scope>-->
<!--</dependency>-->
<dependency>
Save preferences
.topicName(NEWS_TOPIC)
.build();
sut.receivedPublishQos1(connection, new Topic(NEWS_TOPIC), TEST_USER, anyPayload, 1, true,
publishMsg);
assertMessageIsRetained(NEWS_TOPIC, anyPayload);
// publish a QoS0 retained message
// Exercise
final ByteBuf qos0Payload = Unpooled.copiedBuffer("QoS0 payload", Charset.defaultCharset());
sut.receivedPublishQos0(new Topic(NEWS_TOPIC), TEST_USER, connection.getClientId(), qos0Payload, true,
MqttMessageBuilders.publish()
.payload(qos0Payload)
.qos(MqttQoS.AT_MOST_ONCE)
.retained(false)
.topicName(NEWS_TOPIC).build());
// Verify
assertTrue("Retained message for topic /news must be cleared", retainedRepository.isEmpty());
}
}
} catch (IOException e) {
// Ignore ...
}
}
}
System.out.println("- Downloading from: " + url);
File outputFile = new File(baseDirectory.getAbsolutePath(), MAVEN_WRAPPER_JAR_PATH);
if(!outputFile.getParentFile().exists()) {
if(!outputFile.getParentFile().mkdirs()) {
System.out.println(
"- ERROR creating output directory '" + outputFile.getParentFile().getAbsolutePath() + "'");
}
}
System.out.println("- Downloading to: " + outputFile.getAbsolutePath());
downloadFileFromURL(url, outputFile);
System.out.println("Done");
System.exit(0);
} catch (Throwable e) {
System.out.println("- Error downloading");
e.printStackTrace();
System.exit(1);
}
}
private static void downloadFileFromURL(String urlString, File destination) throws Exception {
if (System.getenv("MVNW_USERNAME") != null && System.getenv("MVNW_PASSWORD") != null) {
String username = System.getenv("MVNW_USERNAME");
char[] password = System.getenv("MVNW_PASSWORD").toCharArray();
Authenticator.setDefault(new Authenticator() {
@Override
protected PasswordAuthentication getPasswordAuthentication() {
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.Utils;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PubAckEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
/**
15
...r/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/OutputMessagingEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
Fixed issue #415
Dropped Hazelcast because at the moment Moquette is not designed to be clusterizable
Dropped Hazelcast because at the moment Moquette is not designed to be clusterizable
Rewritten completly the broker to introduce the concept of MqttConnection
Dropped suppoert for MapDB and keeped only H2 MvStore for persistence
Version 0.10:
Version 0.10:
Netty epoll system added
Netty epoll system added
4
broker/src/main/java/io/moquette/broker/IRetainedRepository.java
Show comments
View file
Edit file
Delete file
@@ -18,6 +18,8 @@
Show comments
View file
Edit file
Delete file
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " | | "
echo " |_| "
echo " |_| "
echo " "
echo " "
echo " version: 0.12.1 "
echo " version: 0.13-SNAPSHOT "
set "CURRENT_DIR=%cd%"
set "CURRENT_DIR=%cd%"
if not "%MOQUETTE_HOME%" == "" goto gotHome
Delete file
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " |_| "
echo " "
echo " version: 0.12.1 "
echo " version: 0.13-SNAPSHOT "
set "CURRENT_DIR=%cd%"
if not "%MOQUETTE_HOME%" == "" goto gotHome
2
distribution/src/main/scripts/moquette.sh
Show comments
View file
Edit file
Delete file
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
* @param configFile text file that contains the configuration.
* @throws IOException in case of any IO Error.
*/
public void startServer(File configFile) throws IOException {
LOG.info("Starting Moquette integration. Configuration file path: {}", configFile.getAbsolutePath());
IResourceLoader filesystemLoader = new FileResourceLoader(configFile);
final IConfig config = new ResourceLoaderConfig(filesystemLoader);
startServer(config);
}
/**
* Starts the integration with the given properties.
* <p>
* Its suggested to at least have the following properties:
* <ul>
* <li>port</li>
* <li>password_file</li>
* </ul>
this.sessionRegistry = sessionRegistry;
this.interceptor = interceptor;
}
public void init(SessionRegistry sessionRegistry) {
this.sessionRegistry = sessionRegistry;
}
public void fireWill(Session.Will will) {
// MQTT 3.1.2.8-17
publish2Subscribers(will.payload, new Topic(will.topic), will.qos);
}
public void subscribeClientToTopics(MqttSubscribeMessage msg, String clientID, String username,
MQTTConnection mqttConnection) {
// verify which topics of the subscribe ongoing has read access permission
int messageID = messageId(msg);
List<MqttTopicSubscription> ackTopics = authorizator.verifyTopicsReadAccess(clientID, username, msg);
MqttSubAckMessage ackMessage = doAckMessageFromValidateFilters(ackTopics, messageID);
}
@Override
public List<RetainedMessage> retainedOnTopic(String topic) {
final Topic searchTopic = new Topic(topic);
final List<RetainedMessage> matchingMessages = new ArrayList<>();
for (Map.Entry<Topic, RetainedMessage> entry : storage.entrySet()) {
final Topic scanTopic = entry.getKey();
if (searchTopic.match(scanTopic)) {
matchingMessages.add(entry.getValue());
}
}
return matchingMessages;
}
}
Copy lines
Copy permalink
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Added ACL file for topic read|write operations.
Removed cause of leakage of Netty Sessions (fix issue #39)
Cleaned Netty's stuff reference from Events used in Disruptor (fix issue #40)
Bad assignment of PacketID during publish to subscribed QoS0 topics (fix issue #38)
Fixed duplicated subscription with different QoS same client and topic (fix issue #49)
Fixed UNSUBSCRIBE that missed to remove the subscription from the persistent store (fix issue #50)
Fixed issue on multiple publish for overlapping subscription by the same client (fix issue #52).
Moved the authorization check before dropping an already connected client with same clientID (fix issue #44).
Fixed subscription tree that was unable to update clean session flag on subs with same client, topic and qos (fix issue #55)
Fixed overwriting of published qos in forward publish loop (fix issue #56)
Version 0.6:
Fix issue #42, bad password file path composition
Fix issue #43, missed topic case (finance/+ does has to match finance)
Integrated WebSocket support (issue #37)
Integrated SSL support (issue #41)
set JAVA_OPTS=%JAVA_OPTS% -XX:GCLogFileSize=10M"
%JAVA% -server %JAVA_OPTS% %JAVA_OPTS_SCRIPT% -Dlog4j.configuration=file:%LOG_FILE% -Dmoquette.path=%MOQUETTE_PATH% -cp %MOQUETTE_HOME%\lib\* io.moquette.broker.Server
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
<failOnViolation>true</failOnViolation>
<consoleOutput>true</consoleOutput>
</configuration>
<executions>
<execution>
<phase>validate</phase>
<goals>
<goal>check</goal>
</goals>
</execution>
</executions>
</plugin>
</plugins>
</build>
<profiles>
<profile>
}
}
bintray {
user = System.getenv('BINTRAY_USER')
key = System.getenv('BINTRAY_KEY')
pkg {
userOrg = 'andsel'
licenses = ['Apache-2.0']
publications = ['bintrayPublication']
}
}
}
task wrapper(type: Wrapper) {
gradleVersion = '4.6'
}
* Starts Moquette bringing the configuration from the given file
*
* @param configFile text file that contains the configuration.
* @throws IOException in case of any IO Error.
*/
public void startServer(File configFile) throws IOException {
LOG.info("Starting Moquette integration. Configuration file path: {}", configFile.getAbsolutePath());
IResourceLoader filesystemLoader = new FileResourceLoader(configFile);
final IConfig config = new ResourceLoaderConfig(filesystemLoader);
startServer(config);
}
/**
* Starts the integration with the given properties.
* <p>
* Its suggested to at least have the following properties:
* <ul>
<target.version>1.8</target.version>
<bintray.repo>andsel/maven</bintray.repo>
<bintray.repo>andsel/maven</bintray.repo>
@@ -190,6 +190,11 @@
</profiles>
</profiles>
<repositories>
<repositories>
<repository>
<id>Maven repo</id>
<url>https://repo1.maven.org/maven2/</url>
</repository>
<repository>
<repository>
<id>Paho Releases</id>
<id>Paho Releases</id>
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
<groupId>org.fusesource.mqtt-client</groupId>
<artifactId>mqtt-client</artifactId>
<version>1.12</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.eclipse.paho</groupId>
<artifactId>org.eclipse.paho.client.mqttv3</artifactId>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.eclipse.jetty.websocket</groupId>
<artifactId>websocket-client</artifactId>
<version>9.2.0.M1</version>
<scope>test</scope>
</dependency>
<!--<dependency>-->
private void assertMessageIsRetained(String expectedTopicName, ByteBuf expectedPayload) {
List<RetainedMessage> msgs = retainedRepository.retainedOnTopic(expectedTopicName);
assertEquals(1, msgs.size());
RetainedMessage msg = msgs.get(0);
assertEquals(ByteBufUtil.hexDump(expectedPayload), ByteBufUtil.hexDump(msg.getPayload()));
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
try {
downloadFileFromURL(url, outputFile);
System.out.println("Done");
System.exit(0);
} catch (Throwable e) {
System.out.println("- Error downloading");
e.printStackTrace();
System.exit(1);
}
}
private static void downloadFileFromURL(String urlString, File destination) throws Exception {
if (System.getenv("MVNW_USERNAME") != null && System.getenv("MVNW_PASSWORD") != null) {
String username = System.getenv("MVNW_USERNAME");
char[] password = System.getenv("MVNW_PASSWORD").toCharArray();
Authenticator.setDefault(new Authenticator() {
return new PasswordAuthentication(username, password);
}
});
}
URL website = new URL(urlString);
ReadableByteChannel rbc;
rbc = Channels.newChannel(website.openStream());
FileOutputStream fos = new FileOutputStream(destination);
fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);
fos.close();
rbc.close();
}
}
BIN
+49.5 KB
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import io.moquette.broker.subscriptions.Topic;
import io.moquette.broker.subscriptions.Topic;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import java.util.List;
public interface IRetainedRepository {
public interface IRetainedRepository {
void cleanRetained(Topic topic);
void cleanRetained(Topic topic);
@@ -26,5 +28,5 @@
boolean isEmpty();
boolean isEmpty();
MqttPublishMessage retainedOnTopic(String topic);
List<RetainedMessage> retainedOnTopic(String topic);
}
if not "%MOQUETTE_HOME%" == "" goto gotHome
2
distribution/src/main/scripts/moquette.sh
Show comments
View file
Edit file
Delete file
@@ -13,7 +13,7 @@ echo " \_| |_/\___/ \__, |\__,_|\___|\__|\__\___| \_| |_/\_/\_\ \_/ \_/ "
echo " | | "
echo " | | "
echo " |_| "
echo " |_| "
echo " "
echo " "
echo " version: 0.12.1 "
echo " version: 0..13-SNAPSHOT "
echo " | | "
echo " |_| "
echo " "
echo " version: 0.12.1 "
echo " version: 0..13-SNAPSHOT "
cd "$(dirname "$0")"
2
tools_scripts/integration/brokerEmbeddedTest.groovy
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@Grab(group='io.moquette', module='moquette-broker', version='0.12.1')
*
* @param configProps the properties map to use as configuration.
* @throws IOException in case of any IO Error.
*/
public void startServer(Properties configProps) throws IOException {
LOG.debug("Starting Moquette integration using properties object");
final IConfig config = new MemoryConfig(configProps);
startServer(config);
}
/**
* Starts Moquette bringing the configuration files from the given Config implementation.
*
* @param config the configuration to use to start the broker.
* @throws IOException in case of any IO Error.
*/
// store topics subscriptions in session
List<Subscription> newSubscriptions = ackTopics.stream()
.filter(req -> req.qualityOfService() != FAILURE)
.map(req -> {
final Topic topic = new Topic(req.topicName());
return new Subscription(clientID, topic, req.qualityOfService());
}).collect(Collectors.toList());
for (Subscription subscription : newSubscriptions) {
subscriptions.add(subscription);
}
// add the subscriptions to Session
Session session = sessionRegistry.retrieve(clientID);
session.addSubscriptions(newSubscriptions);
// send ack message
mqttConnection.sendSubAckMessage(messageID, ackMessage);
publishRetainedMessagesForSubscriptions(clientID, newSubscriptions);
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Fixed issue #40, check Logging inside the Felix OSGi
Fixed issue #46, implement correct behaviour for Will stuff
Splitted stores to persist messages and sessions into different interfaces
Renamed some methods in sessions store
Moved logging conf and slf4j-log4j deps out of broker to let it use the container's log configuration
Version 0.5:
Fix issue 20 (no flush of message on PINGREQ)
Fix issue 21 (bad channel timeout handler)
Created a self contained distribution package (issue 22)
Fix issue 28, OSGi-fied the broker
Fixed issue #31 missed to insert the hawtdb jars
Added a separate mvn module to host the OSGi bundle declaration
Fixed issue #30
Added password file for identity management on connect (Fix #23)
Version 0.4:
Dropped support for MINA
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
<id>release-sign-artifacts</id>
<build>
<plugins>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-source-plugin</artifactId>
<executions>
<execution>
<id>attach-sources</id>
<goals>
<goal>jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
* <li>port</li>
* <li>password_file</li>
* </ul>
*
* @param configProps the properties map to use as configuration.
* @throws IOException in case of any IO Error.
*/
public void startServer(Properties configProps) throws IOException {
LOG.debug("Starting Moquette integration using properties object");
final IConfig config = new MemoryConfig(configProps);
startServer(config);
}
/**
* Starts Moquette bringing the configuration files from the given Config implementation.
*
* @param config the configuration to use to start the broker.
* @throws IOException in case of any IO Error.
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
Toggle all file notes
0 comments
on commit 89a4ada
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<!--<groupId>org.assertj</groupId>-->
<!--<artifactId>assertj-core</artifactId>-->
<!--&lt;!&ndash; use 2.6.0 for Java 7 projects &ndash;&gt;-->
<!--<version>2.6.0</version>-->
<!--<scope>test</scope>-->
<!--</dependency>-->
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-tcnative</artifactId>
<classifier>linux-x86_64</classifier>
<scope>test</scope>
</dependency>
<dependency>
<groupId>com.h2database</groupId>
<artifactId>h2</artifactId>
<scope>test</scope>
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
@Override
protected PasswordAuthentication getPasswordAuthentication() {
return new PasswordAuthentication(username, password);
}
});
}
URL website = new URL(urlString);
ReadableByteChannel rbc;
rbc = Channels.newChannel(website.openStream());
FileOutputStream fos = new FileOutputStream(destination);
fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);
fos.close();
rbc.close();
}
}
BIN
+49.5 KB
.mvn/wrapper/maven-wrapper.jar
Show comments
View file
Edit file
Delete file
Binary file not shown.
2
.mvn/wrapper/maven-wrapper.properties
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,2 @@
distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.6.2/apache-maven-3.6.2-bin.zip
wrapperUrl=https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar
11
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PublishEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage;
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/ProtocolEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
}
26
broker/src/main/java/io/moquette/broker/MemoryRetainedRepository.java
Show comments
View file
Edit file
Delete file
@@ -16,8 +16,12 @@
package io.moquette.broker;
package io.moquette.broker;
import io.moquette.broker.subscriptions.Topic;
import io.moquette.broker.subscriptions.Topic;
import io.netty.buffer.ByteBuf;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import java.util.ArrayList;
cd "$(dirname "$0")"
cd "$(dirname "$0")"
2
tools_scripts/integration/brokerEmbeddedTest.groovy
Show comments
View file
Edit file
Delete file
@@ -1,5 +1,5 @@
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@GrabResolver(name='moquette-bintray', root='http://dl.bintray.com/andsel/maven/')
@Grab(group='io.moquette', module='moquette-broker', version='0.12.1')
@Grab(group='io.moquette', module='moquette-broker', version='0.13-SNAPSHOT')
@Grab(group='io.moquette', module='moquette-broker', version='0.13-SNAPSHOT')
import io.moquette.server.Server
Toggle all file notes
0 comments
on commit db4349b
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
public void startServer(IConfig config) throws IOException {
LOG.debug("Starting Moquette integration using IConfig instance");
startServer(config, null);
}
/**
* Starts Moquette with config provided by an implementation of IConfig class and with the set
* of InterceptHandler.
*
* @param config the configuration to use to start the broker.
* @param handlers the handlers to install in the broker.
* @throws IOException in case of any IO Error.
*/
public void startServer(IConfig config, List<? extends InterceptHandler> handlers) throws IOException {
LOG.debug("Starting moquette integration using IConfig instance and intercept handlers");
startServer(config, handlers, null, null, null);
}
for (Subscription subscription : newSubscriptions) {
interceptor.notifyTopicSubscribed(subscription, username);
}
}
private void publishRetainedMessagesForSubscriptions(String clientID, List<Subscription> newSubscriptions) {
Session targetSession = this.sessionRegistry.retrieve(clientID);
for (Subscription subscription : newSubscriptions) {
final String topicFilter = subscription.getTopicFilter().toString();
final List<RetainedMessage> retainedMsgs = retainedRepository.retainedOnTopic(topicFilter);
if (retainedMsgs.isEmpty()) {
// not found
continue;
}
for (RetainedMessage retainedMsg : retainedMsgs) {
final MqttQoS retainedQos = retainedMsg.qosLevel();
MqttQoS qos = lowerQosToTheSubscriptionDesired(subscription, retainedQos);
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Fix Issue 15 (bad re-activation of client's subscriptions after a recconection)
Fix Issue 16 (bad re-publish of stored messages after a client reconnection)
Fixed a bug in unsubscribe due to missed clientID check
Fixed Issue 18 (descriptor of a disconnected (not active) client)
Bug fix for override subscriptions to the same /topic but with different QoS (latest wins)
Added test to check the downgrading of QoS of messages sent to registered subscribers (fixed a bug of double delivery of QoS2 messages)
Version 0.3:
Added Netty IO connectors
Dropped tests based on Fuse source client lib moving to Paho java client
Version 0.2:
Fixed issues (10, 11, 12, 13)
Fixed interdependency bug in test
Copy lines
Copy permalink
View git blame
Reference in new issue
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<artifactId>maven-javadoc-plugin</artifactId>
<executions>
<execution>
<id>attach-javadocs</id>
<goals>
<goal>jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-gpg-plugin</artifactId>
<executions>
<execution>
<id>sign-artifacts</id>
<phase>package</phase>
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
*/
public void startServer(IConfig config) throws IOException {
LOG.debug("Starting Moquette integration using IConfig instance");
startServer(config, null);
}
/**
* Starts Moquette with config provided by an implementation of IConfig class and with the set
* of InterceptHandler.
*
* @param config the configuration to use to start the broker.
* @param handlers the handlers to install in the broker.
* @throws IOException in case of any IO Error.
*/
public void startServer(IConfig config, List<? extends InterceptHandler> handlers) throws IOException {
LOG.debug("Starting moquette integration using IConfig instance and intercept handlers");
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
</dependency>
</dependencies>
<build>
<plugins>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-surefire-plugin</artifactId>
<configuration>
<systemPropertyVariables>
<io.netty.leakDetectionLevel>PARANOID</io.netty.leakDetectionLevel>
</systemPropertyVariables>
<includes>
<include>**/*Test.java</include>
</includes>
</configuration>
</plugin>
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
.mvn/wrapper/maven-wrapper.jar
Show comments
View file
Edit file
Delete file
Open in desktop
Binary file not shown.
2
.mvn/wrapper/maven-wrapper.properties
Show comments
View file
Edit file
Delete file
Open in desktop
.travis.yml
Show comments
View file
Edit file
Delete file
@@ -1,13 +1,6 @@
language: java
jdk:
- openjdk12
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
directories:
- $HOME/.gradle/caches/
- $HOME/.gradle/wrapper/
script:
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage.QOSType;
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 666cc29
Please
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.Utils;
import org.dna.mqtt.moquette.proto.Utils;
15
import java.util.List;
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.ConcurrentMap;
import java.util.concurrent.ConcurrentMap;
@@ -26,16 +30,20 @@
* */
* */
final class MemoryRetainedRepository implements IRetainedRepository {
final class MemoryRetainedRepository implements IRetainedRepository {
private final ConcurrentMap<String, MqttPublishMessage> storage = new ConcurrentHashMap<>();
private final ConcurrentMap<Topic, RetainedMessage> storage = new ConcurrentHashMap<>();
@Override
@Override
public void cleanRetained(Topic topic) {
Sign in to GitHub · GitHub
import io.moquette.server.Server
import io.moquette.server.Server
Toggle all file notes
0 comments
on commit db4349b
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
public void startServer(IConfig config, List<? extends InterceptHandler> handlers, ISslContextCreator sslCtxCreator,
IAuthenticator authenticator, IAuthorizatorPolicy authorizatorPolicy) throws IOException {
final long start = System.currentTimeMillis();
if (handlers == null) {
handlers = Collections.emptyList();
}
LOG.trace("Starting Moquette Server. MQTT message interceptors={}", getInterceptorIds(handlers));
scheduler = Executors.newScheduledThreadPool(1);
final String handlerProp = System.getProperty(BrokerConstants.INTERCEPT_HANDLER_PROPERTY_NAME);
if (handlerProp != null) {
config.setProperty(BrokerConstants.INTERCEPT_HANDLER_PROPERTY_NAME, handlerProp);
}
final String persistencePath = config.getProperty(BrokerConstants.PERSISTENT_STORE_PROPERTY_NAME);
LOG.debug("Configuring Using persistent store file, path: {}", persistencePath);
// final ByteBuf origPayload = retainedMsg.getPayload();
final ByteBuf payloadBuf = Unpooled.wrappedBuffer(retainedMsg.getPayload());
// ByteBuf payload = origPayload.retainedDuplicate();
targetSession.sendRetainedPublishOnSessionAtQos(subscription.getTopicFilter(), qos, payloadBuf);
}
}
}
/**
* Create the SUBACK response from a list of topicFilters
*/
private MqttSubAckMessage doAckMessageFromValidateFilters(List<MqttTopicSubscription> topicFilters, int messageId) {
List<Integer> grantedQoSLevels = new ArrayList<>();
for (MqttTopicSubscription req : topicFilters) {
grantedQoSLevels.add(req.qualityOfService().value());
}
MqttFixedHeader fixedHeader = new MqttFixedHeader(MqttMessageType.SUBACK, false, AT_MOST_ONCE,
moquette/.travis.yml at e8b105fa90a032cda9794511e0c1db1b932987e6 · moquette-io/moquette · GitHub
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Sign in to GitHub · GitHub
<goals>
<goal>sign</goal>
</goals>
</execution>
</executions>
</plugin>
</plugins>
</build>
</profile>
</profiles>
<repositories>
<repository>
<id>Maven repo</id>
<url>https://repo1.maven.org/maven2/</url>
</repository>
<repository>
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
startServer(config, handlers, null, null, null);
}
public void startServer(IConfig config, List<? extends InterceptHandler> handlers, ISslContextCreator sslCtxCreator,
IAuthenticator authenticator, IAuthorizatorPolicy authorizatorPolicy) {
final long start = System.currentTimeMillis();
if (handlers == null) {
handlers = Collections.emptyList();
}
LOG.trace("Starting Moquette Server. MQTT message interceptors={}", getInterceptorIds(handlers));
scheduler = Executors.newScheduledThreadPool(1);
final String handlerProp = System.getProperty(BrokerConstants.INTERCEPT_HANDLER_PROPERTY_NAME);
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<!-- Generate the test-jar -->
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-jar-plugin</artifactId>
<version>3.0.2</version>
<executions>
<execution>
<goals>
<goal>test-jar</goal>
</goals>
</execution>
</executions>
</plugin>
<plugin>
@@ -0,0 +1,2 @@
distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.6.2/apache-maven-3.6.2-bin.zip
wrapperUrl=https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar
11
.travis.yml
Show comments
View file
Edit file
Delete file
Open in desktop
@@ -1,13 +1,6 @@
language: java
jdk:
- ./gradlew install test
#script:
# - ./mvnw verify
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 7f91798
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
moquette/README.md at e8b105fa90a032cda9794511e0c1db1b932987e6 · moquette-io/moquette · GitHub
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PubAckEvent.java
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
public void cleanRetained(Topic topic) {
storage.remove(topic.toString());
storage.remove(topic);
}
}
@Override
@Override
public void retain(Topic topic, MqttPublishMessage msg) {
public void retain(Topic topic, MqttPublishMessage msg) {
storage.put(topic.toString(), msg);
final ByteBuf payload = msg.content();
byte[] rawPayload = new byte[payload.readableBytes()];
payload.getBytes(0, rawPayload);
final RetainedMessage toStore = new RetainedMessage(msg.fixedHeader().qosLevel(), rawPayload);
moquette/pom.xml at 7c4f902dbd20e398f734501426cdd2ec22df6d2c · moquette-io/moquette · GitHub
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
initInterceptors(config, handlers);
LOG.debug("Initialized MQTT protocol processor");
if (sslCtxCreator == null) {
LOG.info("Using default SSL context creator");
sslCtxCreator = new DefaultMoquetteSslContextCreator(config);
}
authenticator = initializeAuthenticator(authenticator, config);
authorizatorPolicy = initializeAuthorizatorPolicy(authorizatorPolicy, config);
final ISubscriptionsRepository subscriptionsRepository;
final IQueueRepository queueRepository;
final IRetainedRepository retainedRepository;
if (persistencePath != null && !persistencePath.isEmpty()) {
LOG.trace("Configuring H2 subscriptions store to {}", persistencePath);
h2Builder = new H2Builder(config, scheduler).initStore();
subscriptionsRepository = h2Builder.subscriptionsRepository();
queueRepository = h2Builder.queueRepository();
retainedRepository = h2Builder.retainedRepository();
false, 0);
MqttSubAckPayload payload = new MqttSubAckPayload(grantedQoSLevels);
return new MqttSubAckMessage(fixedHeader, from(messageId), payload);
}
public void unsubscribe(List<String> topics, MQTTConnection mqttConnection, int messageId) {
final String clientID = mqttConnection.getClientId();
for (String t : topics) {
Topic topic = new Topic(t);
boolean validTopic = topic.isValid();
if (!validTopic) {
// close the connection, not valid topicFilter is a protocol violation
mqttConnection.dropConnection();
topics, topic);
return;
}
subscriptions.removeSubscription(topic, clientID);
// TODO remove the subscriptions to Session
Added implementation of retained store in H2 · moquette-io/moquette@2138513 · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
moquette/build.gradle at e8b105fa90a032cda9794511e0c1db1b932987e6 · moquette-io/moquette · GitHub
<id>Paho Releases</id>
<url>https://repo.eclipse.org/content/repositories/paho-releases/</url>
</repository>
<repository>
<id>sonatype-snapshots</id>
<snapshots>
<enabled>true</enabled>
</snapshots>
<url>https://oss.sonatype.org/content/repositories/snapshots</url>
</repository>
</repositories>
<distributionManagement>
<repository>
<id>bintray</id>
</repository>
if (handlerProp != null) {
config.setProperty(BrokerConstants.INTERCEPT_HANDLER_PROPERTY_NAME, handlerProp);
}
final String persistencePath = config.getProperty(BrokerConstants.PERSISTENT_STORE_PROPERTY_NAME);
LOG.debug("Configuring Using persistent store file, path: {}", persistencePath);
initInterceptors(config, handlers);
LOG.debug("Initialized MQTT protocol processor");
if (sslCtxCreator == null) {
LOG.info("Using default SSL context creator");
sslCtxCreator = new DefaultMoquetteSslContextCreator(config);
}
authenticator = initializeAuthenticator(authenticator, config);
authorizatorPolicy = initializeAuthorizatorPolicy(authorizatorPolicy, config);
final ISubscriptionsRepository subscriptionsRepository;
final IQueueRepository queueRepository;
final IRetainedRepository retainedRepository;
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-compiler-plugin</artifactId>
<version>3.8.0</version>
<configuration>
<source>8</source>
<target>8</target>
<compilerArgs>
<arg>-XDcompilePolicy=simple</arg>
<arg>-Xplugin:ErrorProne</arg>
</compilerArgs>
<annotationProcessorPaths>
<path>
<groupId>com.google.errorprone</groupId>
<artifactId>error_prone_core</artifactId>
<version>2.4.0</version>
</path>
</annotationProcessorPaths>
- openjdk12
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
directories:
- $HOME/.gradle/caches/
- $HOME/.gradle/wrapper/
script:
- ./gradlew install test
#script:
# - ./mvnw verify
Oops, something went wrong.
Retry
Toggle all file notes
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
package org.dna.mqtt.moquette.messaging.spi.impl.events;
/**
/**
15
broker/src/main/java/org/dna/mqtt/moquette/messaging/spi/impl/events/PublishEvent.java
Show comments
View file
storage.put(topic, toStore);
}
}
@Override
@Override
@@ -44,7 +52,15 @@ public boolean isEmpty() {
}
}
@Override
@Override
public MqttPublishMessage retainedOnTopic(String topic) {
public List<RetainedMessage> retainedOnTopic(String topic) {
return storage.get(topic);
final Topic searchTopic = new Topic(topic);
final List<RetainedMessage> matchingMessages = new ArrayList<>();
for (Map.Entry<Topic, RetainedMessage> entry : storage.entrySet()) {
moquette/DefaultMoquetteSslContextCreator.java at d50a291366f1b5a16011266dbf770c020d241eee · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
moquette/BrokerConstants.java at d50a291366f1b5a16011266dbf770c020d241eee · moquette-io/moquette · GitHub
} else {
LOG.trace("Configuring in-memory subscriptions store");
subscriptionsRepository = new MemorySubscriptionsRepository();
queueRepository = new MemoryQueueRepository();
retainedRepository = new MemoryRetainedRepository();
}
ISubscriptionsDirectory subscriptions = new CTrieSubscriptionDirectory();
subscriptions.init(subscriptionsRepository);
SessionRegistry sessions = new SessionRegistry(subscriptions, queueRepository);
dispatcher = new PostOffice(subscriptions, authorizatorPolicy, retainedRepository, sessions,
interceptor);
final BrokerConfiguration brokerConfig = new BrokerConfiguration(config);
MQTTConnectionFactory connectionFactory = new MQTTConnectionFactory(brokerConfig, authenticator, sessions,
dispatcher);
// clientSession.unsubscribeFrom(topic);
String username = NettyUtils.userName(mqttConnection.channel);
interceptor.notifyTopicUnsubscribed(topic.toString(), clientID, username);
}
// ack the client
mqttConnection.sendUnsubAckMessage(topics, clientID, messageId);
}
void receivedPublishQos0(Topic topic, String username, String clientID, ByteBuf payload, boolean retain,
MqttPublishMessage msg) {
if (!authorizator.canWrite(topic, username, clientID)) {
return;
}
publish2Subscribers(payload, topic, AT_MOST_ONCE);
if (retain) {
// QoS == 0 && retain => clean old retained
retainedRepository.cleanRetained(topic);
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Separated CTrie as data structure from the rest of CTrieSubscriptionD… · moquette-io/moquette@80daadf · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Accept
Reject
Save preferences
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
</distributionManagement>
</project>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
if (persistencePath != null && !persistencePath.isEmpty()) {
LOG.trace("Configuring H2 subscriptions store to {}", persistencePath);
h2Builder = new H2Builder(config, scheduler).initStore();
subscriptionsRepository = h2Builder.subscriptionsRepository();
queueRepository = h2Builder.queueRepository();
retainedRepository = h2Builder.retainedRepository();
} else {
LOG.trace("Configuring in-memory subscriptions store");
subscriptionsRepository = new MemorySubscriptionsRepository();
queueRepository = new MemoryQueueRepository();
retainedRepository = new MemoryRetainedRepository();
}
ISubscriptionsDirectory subscriptions = new CTrieSubscriptionDirectory();
subscriptions.init(subscriptionsRepository);
final Authorizator authorizator = new Authorizator(authorizatorPolicy);
</configuration>
</plugin>
<plugin>
<groupId>com.github.spotbugs</groupId>
<artifactId>spotbugs-maven-plugin</artifactId>
<version>4.1.4</version>
<configuration>
<omitVisitors>RuntimeExceptionCapture</omitVisitors>
</configuration>
</plugin>
</plugins>
</build>
<distributionManagement>
<repository>
<id>bintray</id>
ProTip!
Use n and p to navigate between commits in a pull request.
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Save preferences
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
moquette/.gitignore at d50a291366f1b5a16011266dbf770c020d241eee · moquette-io/moquette · GitHub
enable the usage of Netty OpenSSL provider implementation · moquette-io/moquette@d50a291 · GitHub
Edit file
Delete file
@@ -1,3 +1,18 @@
/*
* Copyright (c) 2012-2014 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
final Topic scanTopic = entry.getKey();
if (searchTopic.match(scanTopic)) {
matchingMessages.add(entry.getValue());
}
}
return matchingMessages;
}
}
}
}
21
broker/src/main/java/io/moquette/broker/PostOffice.java
Show comments
View file
Edit file
Delete file
enable the usage of Netty OpenSSL provider implementation · moquette-io/moquette@d50a291 · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Merge pull request #413 from infovista/netty_upgrade · moquette-io/moquette@0fae292 · GitHub
moquette/build.gradle at d50a291366f1b5a16011266dbf770c020d241eee · moquette-io/moquette · GitHub
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
final NewNettyMQTTHandler mqttHandler = new NewNettyMQTTHandler(connectionFactory);
acceptor = new NewNettyAcceptor();
acceptor.initialize(mqttHandler, config, sslCtxCreator);
final long startTime = System.currentTimeMillis() - start;
LOG.info("Moquette integration has been started successfully in {} ms", startTime);
initialized = true;
}
private IAuthorizatorPolicy initializeAuthorizatorPolicy(IAuthorizatorPolicy authorizatorPolicy, IConfig props) {
// if (authorizatorPolicy == null) {
// authorizatorPolicy = new PermitAllAuthorizatorPolicy();
// }
}
interceptor.notifyTopicPublished(msg, clientID, username);
}
void receivedPublishQos1(MQTTConnection connection, Topic topic, String username, ByteBuf payload, int messageID,
boolean retain, MqttPublishMessage msg) {
// verify if topic can be write
topic.getTokens();
if (!topic.isValid()) {
LOG.warn("Invalid topic format, force close the connection");
connection.dropConnection();
return;
}
final String clientId = connection.getClientId();
if (!authorizator.canWrite(topic, username, clientId)) {
return;
}
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Reject
Save preferences
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
sessions = new SessionRegistry(subscriptions, queueRepository, authorizator);
dispatcher = new PostOffice(subscriptions, retainedRepository, sessions, interceptor, authorizator);
final BrokerConfiguration brokerConfig = new BrokerConfiguration(config);
MQTTConnectionFactory connectionFactory = new MQTTConnectionFactory(brokerConfig, authenticator, sessions,
dispatcher);
final NewNettyMQTTHandler mqttHandler = new NewNettyMQTTHandler(connectionFactory);
acceptor = new NewNettyAcceptor();
acceptor.initialize(mqttHandler, config, sslCtxCreator);
final long startTime = System.currentTimeMillis() - start;
LOG.info("Moquette integration has been started successfully in {} ms", startTime);
initialized = true;
}
private IAuthorizatorPolicy initializeAuthorizatorPolicy(IAuthorizatorPolicy authorizatorPolicy, IConfig props) {
LOG.debug("Configuring MQTT authorizator policy");
</repository>
</distributionManagement>
</project>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
*
* You may elect to redistribute this code under either of these licenses.
*/
package org.dna.mqtt.moquette.messaging.spi.impl.events;
package org.dna.mqtt.moquette.messaging.spi.impl.events;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage.QOSType;
import org.dna.mqtt.moquette.proto.messages.AbstractMessage.QOSType;
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 666cc29
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Sign in to GitHub · GitHub
@@ -21,6 +21,7 @@
import io.moquette.broker.subscriptions.Topic;
import io.moquette.broker.subscriptions.Topic;
import io.moquette.broker.security.IAuthorizatorPolicy;
import io.moquette.broker.security.IAuthorizatorPolicy;
import io.netty.buffer.ByteBuf;
import io.netty.buffer.ByteBuf;
import io.netty.buffer.Unpooled;
import io.netty.handler.codec.mqtt.*;
import io.netty.handler.codec.mqtt.*;
import org.slf4j.Logger;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.slf4j.LoggerFactory;
@@ -99,19 +100,21 @@ private void publishRetainedMessagesForSubscriptions(String clientID, List<Subsc
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
moquette/.gitignore at e8b105fa90a032cda9794511e0c1db1b932987e6 · moquette-io/moquette · GitHub
moquette/.editorconfig at e8b105fa90a032cda9794511e0c1db1b932987e6 · moquette-io/moquette · GitHub
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
// return authorizatorPolicy;
LOG.debug("Configuring MQTT authorizator policy");
String authorizatorClassName = props.getProperty(BrokerConstants.AUTHORIZATOR_CLASS_NAME, "");
if (authorizatorPolicy == null && !authorizatorClassName.isEmpty()) {
authorizatorPolicy = loadClass(authorizatorClassName, IAuthorizatorPolicy.class, IConfig.class, props);
}
if (authorizatorPolicy == null) {
String aclFilePath = props.getProperty(BrokerConstants.ACL_FILE_PROPERTY_NAME, "");
if (aclFilePath != null && !aclFilePath.isEmpty()) {
authorizatorPolicy = new DenyAllAuthorizatorPolicy();
try {
LOG.info("Parsing ACL file. Path = {}", aclFilePath);
IResourceLoader resourceLoader = props.getResourceLoader();
authorizatorPolicy = ACLFileParser.parse(resourceLoader.loadResource(aclFilePath));
} catch (ParseException pex) {
LOG.error("Unable to parse ACL file. path=" + aclFilePath, pex);
publish2Subscribers(payload, topic, AT_LEAST_ONCE);
connection.sendPubAck(messageID);
if (retain) {
if (!payload.isReadable()) {
retainedRepository.cleanRetained(topic);
} else {
// before wasn't stored
retainedRepository.retain(topic, msg);
}
}
interceptor.notifyTopicPublished(msg, clientId, username);
}
private void publish2Subscribers(ByteBuf origPayload, Topic topic, MqttQoS publishingQos) {
Set<Subscription> topicMatchingSubscriptions = subscriptions.matchQosSharpening(topic);
for (final Subscription sub : topicMatchingSubscriptions) {
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
String authorizatorClassName = props.getProperty(BrokerConstants.AUTHORIZATOR_CLASS_NAME, "");
if (authorizatorPolicy == null && !authorizatorClassName.isEmpty()) {
authorizatorPolicy = loadClass(authorizatorClassName, IAuthorizatorPolicy.class, IConfig.class, props);
}
if (authorizatorPolicy == null) {
String aclFilePath = props.getProperty(BrokerConstants.ACL_FILE_PROPERTY_NAME, "");
if (aclFilePath != null && !aclFilePath.isEmpty()) {
authorizatorPolicy = new DenyAllAuthorizatorPolicy();
try {
LOG.info("Parsing ACL file. Path = {}", aclFilePath);
IResourceLoader resourceLoader = props.getResourceLoader();
authorizatorPolicy = ACLFileParser.parse(resourceLoader.loadResource(aclFilePath));
} catch (ParseException pex) {
LOG.error("Unable to parse ACL file. path = {}", aclFilePath, pex);
}
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Session targetSession = this.sessionRegistry.retrieve(clientID);
Session targetSession = this.sessionRegistry.retrieve(clientID);
for (Subscription subscription : newSubscriptions) {
for (Subscription subscription : newSubscriptions) {
final String topicFilter = subscription.getTopicFilter().toString();
final String topicFilter = subscription.getTopicFilter().toString();
final MqttPublishMessage retainedMsg = retainedRepository.retainedOnTopic(topicFilter);
final List<RetainedMessage> retainedMsgs = retainedRepository.retainedOnTopic(topicFilter);
if (retainedMsg == null) {
if (retainedMsgs.isEmpty()) {
// not found
// not found
continue;
continue;
}
switch to gradle · moquette-io/moquette@e8b105f · GitHub
switch to gradle · moquette-io/moquette@e8b105f · GitHub
Sign in to GitHub · GitHub
moquette/ChangeLog.txt at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
moquette/.travis.yml at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
}
} else {
authorizatorPolicy = new PermitAllAuthorizatorPolicy();
}
LOG.info("Authorizator policy {} instance will be used", authorizatorPolicy.getClass().getName());
}
return authorizatorPolicy;
}
private IAuthenticator initializeAuthenticator(IAuthenticator authenticator, IConfig props) {
// if (authenticator == null) {
// authenticator = new AcceptAllAuthenticator();
// }
// return authenticator;
LOG.debug("Configuring MQTT authenticator");
String authenticatorClassName = props.getProperty(BrokerConstants.AUTHENTICATOR_CLASS_NAME, "");
if (authenticator == null && !authenticatorClassName.isEmpty()) {
MqttQoS qos = lowerQosToTheSubscriptionDesired(sub, publishingQos);
Session targetSession = this.sessionRegistry.retrieve(sub.getClientId());
boolean isSessionPresent = targetSession != null;
if (isSessionPresent) {
sub.getClientId(), sub.getTopicFilter(), qos);
//TODO determine the user bounded to targetSession
if (!authorizator.canRead(topic, "TODO", sub.getClientId())) {
return;
}
// we need to retain because duplicate only copy r/w indexes and don't retain() causing refCnt = 0
ByteBuf payload = origPayload.retainedDuplicate();
targetSession.sendPublishOnSessionAtQos(topic, qos, payload);
} else {
// If we are, the subscriber disconnected after the subscriptions tree selected that session as a
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
} else {
authorizatorPolicy = new PermitAllAuthorizatorPolicy();
}
LOG.info("Authorizator policy {} instance will be used", authorizatorPolicy.getClass().getName());
}
return authorizatorPolicy;
}
private IAuthenticator initializeAuthenticator(IAuthenticator authenticator, IConfig props) {
LOG.debug("Configuring MQTT authenticator");
String authenticatorClassName = props.getProperty(BrokerConstants.AUTHENTICATOR_CLASS_NAME, "");
if (authenticator == null && !authenticatorClassName.isEmpty()) {
authenticator = loadClass(authenticatorClassName, IAuthenticator.class, IConfig.class, props);
}
IResourceLoader resourceLoader = props.getResourceLoader();
if (authenticator == null) {
String passwdPath = props.getProperty(BrokerConstants.PASSWORD_FILE_PROPERTY_NAME, "");
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
}
for (RetainedMessage retainedMsg : retainedMsgs) {
final MqttQoS retainedQos = retainedMsg.fixedHeader().qosLevel();
final MqttQoS retainedQos = retainedMsg.qosLevel();
MqttQoS qos = lowerQosToTheSubscriptionDesired(subscription, retainedQos);
MqttQoS qos = lowerQosToTheSubscriptionDesired(subscription, retainedQos);
final ByteBuf origPayload = retainedMsg.payload();
// final ByteBuf origPayload = retainedMsg.getPayload();
ByteBuf payload = origPayload.retainedDuplicate();
final ByteBuf payloadBuf = Unpooled.wrappedBuffer(retainedMsg.getPayload());
targetSession.sendRetainedPublishOnSessionAtQos(subscription.getTopicFilter(), qos, payload);
// ByteBuf payload = origPayload.retainedDuplicate();
targetSession.sendRetainedPublishOnSessionAtQos(subscription.getTopicFilter(), qos, payloadBuf);
}
}
}
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Sign in to GitHub · GitHub
moquette/.editorconfig at 3c3859fbd575179e404a6d2c45da6ff9852d279a · moquette-io/moquette · GitHub
Sign in to GitHub · GitHub
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
authenticator = loadClass(authenticatorClassName, IAuthenticator.class, IConfig.class, props);
}
IResourceLoader resourceLoader = props.getResourceLoader();
if (authenticator == null) {
String passwdPath = props.getProperty(BrokerConstants.PASSWORD_FILE_PROPERTY_NAME, "");
if (passwdPath.isEmpty()) {
authenticator = new AcceptAllAuthenticator();
} else {
authenticator = new ResourceAuthenticator(resourceLoader, passwdPath);
}
LOG.info("An {} authenticator instance will be used", authenticator.getClass().getName());
}
return authenticator;
}
// destination.
sub.getTopicFilter(), qos);
}
}
}
/**
* First phase of a publish QoS2 protocol, sent by publisher to the broker. Publish to all interested
* subscribers.
*/
void receivedPublishQos2(MQTTConnection connection, MqttPublishMessage mqttPublishMessage, String username) {
LOG.trace("Processing PUBREL message on connection: {}", connection);
final Topic topic = new Topic(mqttPublishMessage.variableHeader().topicName());
final ByteBuf payload = mqttPublishMessage.payload();
final String clientId = connection.getClientId();
if (!authorizator.canWrite(topic, username, clientId)) {
return;
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
e8b105fa90
moquette/.travis.yml
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
if (passwdPath.isEmpty()) {
authenticator = new AcceptAllAuthenticator();
} else {
authenticator = new ResourceAuthenticator(resourceLoader, passwdPath);
}
LOG.info("An {} authenticator instance will be used", authenticator.getClass().getName());
}
return authenticator;
}
private void initInterceptors(IConfig props, List<? extends InterceptHandler> embeddedObservers) {
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
e8b105fa90
moquette/README.md
Go to file
Go to file
T
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
}
}
24
broker/src/main/java/io/moquette/broker/RetainedMessage.java
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,24 @@
package io.moquette.broker;
import io.netty.handler.codec.mqtt.MqttQoS;
import java.io.Serializable;
public class RetainedMessage implements Serializable{
private final MqttQoS qos;
private final byte[] payload;
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
private void initInterceptors(IConfig props, List<? extends InterceptHandler> embeddedObservers) {
LOG.info("Configuring message interceptors...");
List<InterceptHandler> observers = new ArrayList<>(embeddedObservers);
String interceptorClassName = props.getProperty(BrokerConstants.INTERCEPT_HANDLER_PROPERTY_NAME);
if (interceptorClassName != null && !interceptorClassName.isEmpty()) {
InterceptHandler handler = loadClass(interceptorClassName, InterceptHandler.class,
io.moquette.broker.Server.class, this);
if (handler != null) {
observers.add(handler);
}
}
interceptor = new BrokerInterceptor(props, observers);
}
@SuppressWarnings("unchecked")
private <T, U> T loadClass(String className, Class<T> intrface, Class<U> constructorArgClass, U props) {
T instance = null;
}
publish2Subscribers(payload, topic, EXACTLY_ONCE);
final boolean retained = mqttPublishMessage.fixedHeader().isRetain();
if (retained) {
if (!payload.isReadable()) {
retainedRepository.cleanRetained(topic);
} else {
// before wasn't stored
retainedRepository.retain(topic, mqttPublishMessage);
}
}
String clientID = connection.getClientId();
interceptor.notifyTopicPublished(mqttPublishMessage, clientID, username);
}
static MqttQoS lowerQosToTheSubscriptionDesired(Subscription sub, MqttQoS qos) {
if (qos.value() > sub.getRequestedQos().value()) {
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
Added implementation of retained store in H2
Loading branch information
andsel
committed
Nov 28, 2018
1 parent
80daadf
commit 213851335a4f22fc30796911d5bebcd1d26fb7c7
Unified
Split
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
13 lines (12 sloc)
276 Bytes
Raw
Blame
language: java
jdk:
- oraclejdk8
before_cache:
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
LOG.info("Configuring message interceptors...");
List<InterceptHandler> observers = new ArrayList<>(embeddedObservers);
String interceptorClassName = props.getProperty(BrokerConstants.INTERCEPT_HANDLER_PROPERTY_NAME);
if (interceptorClassName != null && !interceptorClassName.isEmpty()) {
InterceptHandler handler = loadClass(interceptorClassName, InterceptHandler.class,
io.moquette.broker.Server.class, this);
if (handler != null) {
observers.add(handler);
}
}
interceptor = new BrokerInterceptor(props, observers);
}
@SuppressWarnings("unchecked")
private <T, U> T loadClass(String className, Class<T> intrface, Class<U> constructorArgClass, U props) {
T instance = null;
Go to line
L
Copy path
Cannot retrieve contributors at this time
70 lines (54 sloc)
2.43 KB
Raw
Blame
What is Moquette?
[Documentation reference guide] (http://andsel.github.io/moquette/) Guide on how to use and configure Moquette
[Google Group] (https://groups.google.com/forum/#!forum/moquette-mqtt) Google Group to participate in development discussions.
Moquette aims to be a MQTT compliant broker. The broker supports QoS 0, QoS 1 and QoS 2.
Its designed to be evented, uses Netty for the protocol encoding and decoding part.
Embeddable
[Freedomotic] (http://www.freedomotic.com/) Is an home automation framework, uses Moquette embedded to interface with MQTT world.
Moquette is also used into [Atomize Spin] (http://atomizesoftware.com/spin) a software solution for the logistic field.
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
public RetainedMessage(MqttQoS qos, byte[] payload) {
this.qos = qos;
this.payload = payload;
}
public MqttQoS qosLevel() {
return qos;
}
public byte[] getPayload() {
return payload;
}
}
5
broker/src/main/java/io/moquette/broker/Server.java
Show comments
View file
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Save preferences
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
d50a291366
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
7c4f902dbd
moquette/broker/pom.xml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
282 lines (249 sloc)
9.27 KB
Raw
Blame
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
d50a291366
moquette/broker/src/main/java/io/moquette/BrokerConstants.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
try {
// check if constructor with constructor arg class parameter
// exists
constructorArgClass.getName(), className, intrface.getName());
instance = this.getClass().getClassLoader()
.loadClass(className)
.asSubclass(intrface)
.getConstructor(constructorArgClass)
.newInstance(props);
} catch (InstantiationException | IllegalAccessException | ClassNotFoundException ex) {
"errorMessage={}", constructorArgClass.getName(), className, intrface.getName(), ex.getCause(),
ex.getMessage());
return null;
} catch (NoSuchMethodException | InvocationTargetException e) {
try {
// fallback to default constructor
qos = sub.getRequestedQos();
}
return qos;
}
/**
* Intended usage is only for embedded versions of the broker, where the hosting application
* want to use the broker to send a publish message. Like normal external publish message but
* with some changes to avoid security check, and the handshake phases for Qos1 and Qos2. It
* also doesn't notifyTopicPublished because using internally the owner should already know
* where it's publishing.
*
* @param msg
* the message to publish
*/
public void internalPublish(MqttPublishMessage msg) {
Showing
9 changed files
with
132 additions
and 20 deletions.
+2
−0
ChangeLog.txt
+3
−1
broker/src/main/java/io/moquette/broker/IRetainedRepository.java
+21
−5
broker/src/main/java/io/moquette/broker/MemoryRetainedRepository.java
+12
−9
broker/src/main/java/io/moquette/broker/PostOffice.java
Permalink
Browse files
Separated CTrie as data structure from the rest of CTrieSubscriptionD…
…irectory
Loading branch information
andsel
committed
Nov 24, 2018
1 parent
f3daad5
commit 80daadff4748a450b693a4761fb1b2a12f742655
Unified
Split
Showing
6 changed files
with
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
directories:
- $HOME/.gradle/caches/
- $HOME/.gradle/wrapper/
script:
- ./gradlew install test
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
e8b105fa90
moquette/broker/build.gradle
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
51 lines (40 sloc)
2.27 KB
Raw
Blame
try {
// check if constructor with constructor arg class parameter
// exists
constructorArgClass.getName(), className, intrface.getName());
instance = this.getClass().getClassLoader()
.loadClass(className)
.asSubclass(intrface)
.getConstructor(constructorArgClass)
.newInstance(props);
} catch (InstantiationException | IllegalAccessException | ClassNotFoundException ex) {
"errorMessage={}", constructorArgClass.getName(), className, intrface.getName(), ex.getCause(),
ex.getMessage());
return null;
Part of moquette are used into the [Vertx MQTT module] (https://github.com/giovibal/vertx-mqtt-broker-mod), into MQTT spy
and into [WSO2 Messge broker] (http://techexplosives-pamod.blogspot.it/2014/05/mqtt-transport-architecture-wso2-mb-3x.html).
Try the demo instance
Point your MQTT client to broker.moquette.io
1 minute set up
Start play with it, download the self distribution tar from BinTray ,
the un untar and start the broker listening on 1883 port and enjoy!
tar zxf distribution-0.10-bundle-tar.tar.gz
cd bin
./moquette.sh
Or if you are on Windows shell
cd bin
.\moquette.bat
Embedding in other projects
To embed Moquette in another maven project is sufficient to include a repository and declare the dependency:
<repositories>
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
d50a291366
moquette/.gitignore
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
Security
Insights
Permalink
Browse files
Loading status checks…
enable the usage of Netty OpenSSL provider implementation
Signed-off-by: Maik Scheibler <maik.scheibler@kiwigrid.com>
Loading branch information
mscheibler
committed
Jun 22, 2018
1 parent
0fae292
commit d50a291366f1b5a16011266dbf770c020d241eee
Unified
Split
Edit file
Delete file
@@ -162,21 +162,24 @@ public void startServer(IConfig config, List<? extends InterceptHandler> handler
final ISubscriptionsRepository subscriptionsRepository;
final ISubscriptionsRepository subscriptionsRepository;
final IQueueRepository queueRepository;
final IQueueRepository queueRepository;
final IRetainedRepository retainedRepository;
if (persistencePath != null && !persistencePath.isEmpty()) {
if (persistencePath != null && !persistencePath.isEmpty()) {
LOG.trace("Configuring H2 subscriptions store to {}", persistencePath);
LOG.trace("Configuring H2 subscriptions store to {}", persistencePath);
h2Builder = new H2Builder(config, scheduler).initStore();
h2Builder = new H2Builder(config, scheduler).initStore();
subscriptionsRepository = h2Builder.subscriptionsRepository();
subscriptionsRepository = h2Builder.subscriptionsRepository();
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
Security
Insights
Permalink
Browse files
Loading status checks…
enable the usage of Netty OpenSSL provider implementation
Signed-off-by: Maik Scheibler <maik.scheibler@kiwigrid.com>
Loading branch information
mscheibler
committed
Jun 22, 2018
1 parent
0fae292
commit d50a291366f1b5a16011266dbf770c020d241eee
Unified
Split
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Accept
Reject
Save preferences
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
moquette/broker/src/main/java/io/moquette/server/DefaultMoquetteSslContextCreator.java
/
Jump to
Code definitions
No definitions found in this file.
Code navigation not available for this commit
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
187 lines (171 sloc)
8.12 KB
Permalink
Browse files
Loading status checks…
Merge pull request #413 from infovista/netty_upgrade
Upgrade netty to 4.1.22
Loading branch information
andsel
committed
Jun 20, 2018
Verified
This commit was created on GitHub.com and signed with a verified signature using GitHub’s key.
GPG key ID: 4AEE18F83AFDEB23
Learn about signing commits
2 parents
e824a22
+
63e27c2
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
d50a291366
moquette/broker/build.gradle
Go to file
Go to file
T
Go to line
L
Copy path
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>
<parent>
<relativePath>../</relativePath>
<artifactId>moquette-parent</artifactId>
<groupId>io.moquette</groupId>
<version>0.11-SNAPSHOT</version>
</parent>
<artifactId>moquette-broker</artifactId>
<packaging>jar</packaging>
<name>Moquette - broker</name>
<properties>
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<bintray.package>io.moquette.moquette-broker</bintray.package>
</properties>
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
83 lines (74 sloc)
4.63 KB
Raw
Blame
/*
* Copyright (c) 2012-2018 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
instance = this.getClass().getClassLoader()
.loadClass(className)
.asSubclass(intrface)
.getDeclaredConstructor().newInstance();
} catch (InstantiationException | IllegalAccessException | ClassNotFoundException |
NoSuchMethodException | InvocationTargetException ex) {
"errorMessage={}", className, intrface.getName(), ex.getCause(), ex.getMessage());
return null;
}
}
return instance;
}
/**
* Use the broker to publish a message. It's intended for embedding applications. It can be used
* only after the integration is correctly started with startServer.
*
final MqttQoS qos = msg.fixedHeader().qosLevel();
final Topic topic = new Topic(msg.variableHeader().topicName());
final ByteBuf payload = msg.payload();
publish2Subscribers(payload, topic, qos);
if (!msg.fixedHeader().isRetain()) {
return;
}
if (qos == AT_MOST_ONCE || msg.payload().readableBytes() == 0) {
// QoS == 0 && retain => clean old retained
retainedRepository.cleanRetained(topic);
return;
}
retainedRepository.retain(topic, msg);
}
}
Copy lines
+24
−0
broker/src/main/java/io/moquette/broker/RetainedMessage.java
+4
−1
broker/src/main/java/io/moquette/broker/Server.java
+5
−0
broker/src/main/java/io/moquette/persistence/H2Builder.java
+55
−0
broker/src/main/java/io/moquette/persistence/H2RetainedRepository.java
+6
−4
broker/src/test/java/io/moquette/broker/PostOfficePublishTest.java
2
327 additions
and 285 deletions.
+233
−0
broker/src/main/java/io/moquette/broker/subscriptions/CTrie.java
+9
−196
broker/src/main/java/io/moquette/broker/subscriptions/CTrieSubscriptionDirectory.java
+1
−1
broker/src/main/java/io/moquette/broker/subscriptions/DumpTreeVisitor.java
+1
−1
broker/src/main/java/io/moquette/broker/subscriptions/SubscriptionCounterVisitor.java
+22
−22
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
description = 'Moquette - broker'
apply plugin: 'osgi'
apply plugin: 'maven'
dependencies {
compile group: 'io.netty', name: 'netty-common', version: nettyVersion
compile group: 'io.netty', name: 'netty-buffer', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport', version: nettyVersion
compile group: 'io.netty', name: 'netty-handler', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-http', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-mqtt', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport-native-epoll', version: nettyVersion, classifier: 'linux-x86_64'
} catch (NoSuchMethodException | InvocationTargetException e) {
try {
// fallback to default constructor
instance = this.getClass().getClassLoader()
.loadClass(className)
.asSubclass(intrface)
.getDeclaredConstructor().newInstance();
} catch (InstantiationException | IllegalAccessException | ClassNotFoundException |
NoSuchMethodException | InvocationTargetException ex) {
"errorMessage={}", className, intrface.getName(), ex.getCause(), ex.getMessage());
return null;
}
}
return instance;
}
/**
<repository>
<id>bintray</id>
<url>https://jcenter.bintray.com</url>
<releases>
<enabled>true</enabled>
</releases>
<snapshots>
<enabled>false</enabled>
</snapshots>
</repository>
</repositories>
Include dependency in your project:
<dependency>
<groupId>io.moquette</groupId>
<artifactId>moquette-broker</artifactId>
49 lines (44 sloc)
730 Bytes
Raw
Blame
/build
*/build/
/target/
/parser/target/
/benchmarking/target/
.idea/
*.iml
broker/target/
client/target/
parser_commons/target/
netty_parser/target/
netty_parser/target/
Showing
8 changed files
with
241 additions
and 96 deletions.
+1
−0
.gitignore
+1
−0
broker/build.gradle
+9
−0
broker/src/main/java/io/moquette/BrokerConstants.java
+116
−59
broker/src/main/java/io/moquette/server/DefaultMoquetteSslContextCreator.java
queueRepository = h2Builder.queueRepository();
queueRepository = h2Builder.queueRepository();
retainedRepository = h2Builder.retainedRepository();
} else {
} else {
LOG.trace("Configuring in-memory subscriptions store");
LOG.trace("Configuring in-memory subscriptions store");
subscriptionsRepository = new MemorySubscriptionsRepository();
subscriptionsRepository = new MemorySubscriptionsRepository();
queueRepository = new MemoryQueueRepository();
queueRepository = new MemoryQueueRepository();
retainedRepository = new MemoryRetainedRepository();
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Showing
8 changed files
with
241 additions
and 96 deletions.
+1
−0
.gitignore
+1
−0
broker/build.gradle
+9
−0
broker/src/main/java/io/moquette/BrokerConstants.java
+116
−59
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
e8b105fa90
moquette/.gitignore
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
47 lines (42 sloc)
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
e8b105fa90
moquette/.editorconfig
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
Raw
Blame
/*
* Copyright (c) 2012-2018 The original author or authors
* ------------------------------------------------------
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
commit 0fae29294608dc71a73b230d06642f0a7c5537c5
Unified
Split
Showing
4 changed files
with
4 additions
and 3 deletions.
+1
−0
.gitignore
+1
−1
broker/src/test/java/io/moquette/server/ServerLowlevelMessagesIntegrationTests.java
+1
Cannot retrieve contributors at this time
38 lines (28 sloc)
2.04 KB
Raw
Blame
description = 'Moquette - broker'
dependencies {
compile group: 'io.netty', name: 'netty-common', version: nettyVersion
compile group: 'io.netty', name: 'netty-buffer', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport', version: nettyVersion
compile group: 'io.netty', name: 'netty-handler', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-http', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-mqtt', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport-native-epoll', version: nettyVersion, classifier: 'linux-x86_64'
<dependencies>
<!--<dependency>-->
<!--<artifactId>moquette-mapdb-storage</artifactId>-->
<!--</dependency>-->
<dependency>
<groupId>org.slf4j</groupId>
<artifactId>slf4j-api</artifactId>
<version>1.7.5</version>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-common</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-buffer</artifactId>
* and Apache License v2.0 which accompanies this distribution.
*
* The Eclipse Public License is available at
* http://www.eclipse.org/legal/epl-v10.html
*
* The Apache License v2.0 is available at
* http://www.opensource.org/licenses/apache2.0.php
*
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette;
import java.io.File;
public final class BrokerConstants {
public static final String INTERCEPT_HANDLER_PROPERTY_NAME = "intercept.handler";
public static final String BROKER_INTERCEPTOR_THREAD_POOL_SIZE = "intercept.thread_pool.size";
public static final String PERSISTENT_STORE_PROPERTY_NAME = "persistent_store";
* @param msg the message to forward.
* @param clientId the id of the sending integration.
* @throws IllegalStateException if the integration is not yet started
*/
public void internalPublish(MqttPublishMessage msg, final String clientId) {
final int messageID = msg.variableHeader().packetId();
if (!initialized) {
messageID);
throw new IllegalStateException("Can't publish on a integration is not yet started");
}
dispatcher.internalPublish(msg);
}
public void stopServer() {
LOG.info("Unbinding integration from the configured ports");
acceptor.close();
LOG.trace("Stopping MQTT protocol processor");
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
ChangeLog.txt
Show comments
View file
Edit file
Delete file
@@ -1,6 +1,8 @@
Version 0.12:
Fixed issue #415
Dropped Hazelcast because at the moment Moquette is not designed to be clusterizable
Rewritten completly the broker to introduce the concept of MqttConnection
Dropped suppoert for MapDB and keeped only H2 MvStore for persistence
Version 0.10:
Netty epoll system added
4
broker/src/main/java/io/moquette/broker/IRetainedRepository.java
broker/src/test/java/io/moquette/broker/subscriptions/CTrieSubscriptionDirectoryMatchingTest.java
+61
−65
233
broker/src/main/java/io/moquette/broker/subscriptions/CTrie.java
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,233 @@
package io.moquette.broker.subscriptions;
import java.util.Collections;
import java.util.HashSet;
import java.util.Optional;
import java.util.Set;
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
compile group: 'io.dropwizard.metrics', name: 'metrics-core', version:'3.2.2'
compile group: 'io.dropwizard.metrics', name: 'metrics-jvm', version:'3.2.2'
compile group: 'com.librato.metrics', name: 'metrics-librato', version:'5.1.0'
compile group: 'com.librato.metrics', name: 'librato-java' , version:'2.1.0'
compile group: 'com.bugsnag', name: 'bugsnag', version:'[3.0,4.0)'
compile group: 'commons-codec', name: 'commons-codec', version:'1.10'
// compile group: 'org.hdrhistogram', name: 'HdrHistogram', version:'2.1.4'
compile group: 'com.hazelcast', name: 'hazelcast', version:'3.5.4'
testCompile group: 'org.fusesource.mqtt-client', name: 'mqtt-client', version:'1.12'
testCompile group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version:'1.0.2'
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.191'
}
task createPom () {
}
jar {
* Use the broker to publish a message. It's intended for embedding applications. It can be used
* only after the integration is correctly started with startServer.
*
* @param msg the message to forward.
* @param clientId the id of the sending integration.
* @throws IllegalStateException if the integration is not yet started
*/
public void internalPublish(MqttPublishMessage msg, final String clientId) {
final int messageID = msg.variableHeader().packetId();
if (!initialized) {
messageID);
throw new IllegalStateException("Can't publish on a integration is not yet started");
}
dispatcher.internalPublish(msg);
}
public void stopServer() {
<version>0.10</version>
</dependency>
Build from sources
After a git clone of the repository, cd into the cloned sources and: ./gradlew clean distribution:distMoquetteTar or
./gradlew clean distribution:distMoquetteZip.
In distribution/build directory will be produced the selfcontained file for the broker with all dependencies and a running script.
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
parser_commons/target/
distribution/target/
broker/moquette.log
broker/runner
/bundle/target/
/bundle/runner/
/osgi_test/target/
/perf/target/
/mapdb_storage/target/
*~
*.log*
.DS_Store
.settings/
.project
.classpath
/*/bin/
*.swp
+50
−34
broker/src/main/java/io/moquette/server/netty/NettyAcceptor.java
+2
−2
broker/src/main/java/io/moquette/spi/security/ISslContextCreator.java
+60
−0
broker/src/test/java/io/moquette/server/ServerIntegrationOpenSSLTest.java
+2
−1
broker/src/test/java/io/moquette/server/ServerLowlevelMessagesIntegrationTests.java
1
.gitignore
Show comments
Sign in to GitHub · GitHub
Sign in to GitHub · GitHub
Sign in to GitHub · GitHub
Sign in to GitHub · GitHub
}
}
ISubscriptionsDirectory subscriptions = new CTrieSubscriptionDirectory();
ISubscriptionsDirectory subscriptions = new CTrieSubscriptionDirectory();
subscriptions.init(subscriptionsRepository);
subscriptions.init(subscriptionsRepository);
SessionRegistry sessions = new SessionRegistry(subscriptions, queueRepository);
SessionRegistry sessions = new SessionRegistry(subscriptions, queueRepository);
dispatcher = new PostOffice(subscriptions, authorizatorPolicy, new MemoryRetainedRepository(), sessions,
dispatcher = new PostOffice(subscriptions, authorizatorPolicy, retainedRepository, sessions,
interceptor);
interceptor);
final BrokerConfiguration brokerConfig = new BrokerConfiguration(config);
final BrokerConfiguration brokerConfig = new BrokerConfiguration(config);
MQTTConnectionFactory connectionFactory = new MQTTConnectionFactory(brokerConfig, authenticator, sessions,
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
switch to gradle
gradle files added
gradle: plugins added
build: files added
.travis.yml: gradle cache stored
distribution: tar and zip file stuff added
broker/build.gradle: osgi plugin added
build: bintray upload added
pom: files removed
distribution: assembly.xml removed
gradle: test ouput added to sub builds
Actions
Projects
Wiki
Security
Insights
Permalink
Browse files
Loading status checks…
switch to gradle
gradle files added
gradle: plugins added
build: files added
.travis.yml: gradle cache stored
distribution: tar and zip file stuff added
broker/build.gradle: osgi plugin added
build: bintray upload added
Sign in to GitHub · GitHub
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/ChangeLog.txt
Go to file
Go to file
T
Go to line
L
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/.travis.yml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
6 lines (5 sloc)
broker/src/main/java/io/moquette/server/DefaultMoquetteSslContextCreator.java
+50
−34
broker/src/main/java/io/moquette/server/netty/NettyAcceptor.java
+2
−2
broker/src/main/java/io/moquette/spi/security/ISslContextCreator.java
+60
−0
broker/src/test/java/io/moquette/server/ServerIntegrationOpenSSLTest.java
+2
−1
broker/src/test/java/io/moquette/server/ServerLowlevelMessagesIntegrationTests.java
1
.gitignore
Show comments
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
716 Bytes
Raw
Blame
/build
*/build/
/target/
/parser/target/
/benchmarking/target/
.idea/
*.iml
broker/target/
client/target/
parser_commons/target/
netty_parser/target/
netty_parser/target/
parser_commons/target/
Issues · moquette-io/moquette · GitHub
16 lines (13 sloc)
299 Bytes
Raw
Blame
# EditorConfig is awesome: http://EditorConfig.org
# top-most EditorConfig file
root = true
# Unix-style newlines with a newline ending every file
[*]
end_of_line = lf
insert_final_newline = true
charset = utf-8
indent_style = space
indent_size = 4
max_line_length=120
[*.gradle]
indent_size = 2
* You may elect to redistribute this code under either of these licenses.
*/
package io.moquette.server;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
import java.security.GeneralSecurityException;
import java.security.KeyManagementException;
import java.security.KeyStore;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
import java.security.PrivateKey;
−1
broker/src/test/java/io/moquette/testclient/Client.java
+1
−1
build.gradle
1
.gitignore
Show comments
View file
Edit file
Delete file
@@ -45,3 +45,4 @@ broker/nbactions-Server.xml
maven-metadata.xml
/.gradle/
/bin/
compile group: 'com.zaxxer', name: 'HikariCP', version:'2.4.7'
compile group: 'io.dropwizard.metrics', name: 'metrics-core', version:'3.2.2'
compile group: 'io.dropwizard.metrics', name: 'metrics-jvm', version:'3.2.2'
compile group: 'com.librato.metrics', name: 'metrics-librato', version:'5.1.0'
compile group: 'com.librato.metrics', name: 'librato-java' , version:'2.1.0'
compile group: 'com.bugsnag', name: 'bugsnag', version:'[3.0,4.0)'
compile group: 'commons-codec', name: 'commons-codec', version:'1.10'
// compile group: 'org.hdrhistogram', name: 'HdrHistogram', version:'2.1.4'
compile group: 'com.hazelcast', name: 'hazelcast', version:'3.5.4'
compile group: 'org.slf4j', name: 'slf4j-api', version:'1.7.5'
testCompile group: 'org.slf4j', name: 'slf4j-log4j12', version:'1.7.5'
testCompile group: 'org.fusesource.mqtt-client', name: 'mqtt-client', version:'1.12'
testCompile group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version:'1.0.2'
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-transport</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-handler</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-codec</artifactId>
</dependency>
<dependency>
public static final String AUTOSAVE_INTERVAL_PROPERTY_NAME = "autosave_interval";
public static final String PASSWORD_FILE_PROPERTY_NAME = "password_file";
public static final String PORT_PROPERTY_NAME = "port";
public static final String HOST_PROPERTY_NAME = "host";
public static final String DEFAULT_MOQUETTE_STORE_MAP_DB_FILENAME = "moquette_store.mapdb";
public static final String DEFAULT_PERSISTENT_PATH = System.getProperty("user.dir") + File.separator
+ DEFAULT_MOQUETTE_STORE_MAP_DB_FILENAME;
public static final String WEB_SOCKET_PORT_PROPERTY_NAME = "websocket_port";
public static final String WSS_PORT_PROPERTY_NAME = "secure_websocket_port";
/**
* Defines the SSL implementation to use, default to "JDK".
* @see io.netty.handler.ssl.SslProvider#name()
*/
public static final String SSL_PROVIDER = "ssl_provider";
public static final String SSL_PORT_PROPERTY_NAME = "ssl_port";
public static final String JKS_PATH_PROPERTY_NAME = "jks_path";
initialized = false;
// calling shutdown() does not actually stop tasks that are not cancelled,
// and SessionsRepository does not stop its tasks. Thus shutdownNow().
scheduler.shutdownNow();
if (h2Builder != null) {
LOG.trace("Shutting down H2 persistence {}");
h2Builder.closeStore();
}
LOG.info("Moquette integration has been stopped.");
}
/**
* SPI method used by Broker embedded applications to get list of subscribers. Returns null if
* the broker is not started.
*
* @return list of subscriptions.
*/
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Show comments
View file
Edit file
Delete file
@@ -18,6 +18,8 @@
import io.moquette.broker.subscriptions.Topic;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import java.util.List;
public interface IRetainedRepository {
void cleanRetained(Topic topic);
@@ -26,5 +28,5 @@
boolean isEmpty();
MqttPublishMessage retainedOnTopic(String topic);
List<RetainedMessage> retainedOnTopic(String topic);
}
public class CTrie {
interface IVisitor<T> {
void visit(CNode node, int deep);
T getResult();
}
private static final Token ROOT = new Token("root");
private static final INode NO_PARENT = null;
private enum Action {
OK, REPEAT
}
INode root;
CTrie() {
final CNode mainNode = new CNode();
mainNode.token = ROOT;
this.root = new INode(mainNode);
manifest {
instruction 'Bundle-Description', 'Moquette lightweight MQTT Broker'
instruction 'Bundle-License', 'http://www.apache.org/licenses/LICENSE-2.0.txt, http://www.eclipse.org/org/documents/epl-v10.php'
instruction 'Import-Package', '!com.codahale.metrics*, !com.bugsnag*, !com.librato.metrics*, *'
}
from "build/pom.xml"
}
}
jar.dependsOn createPom
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
LOG.info("Unbinding integration from the configured ports");
acceptor.close();
LOG.trace("Stopping MQTT protocol processor");
initialized = false;
// calling shutdown() does not actually stop tasks that are not cancelled,
// and SessionsRepository does not stop its tasks. Thus shutdownNow().
scheduler.shutdownNow();
if (h2Builder != null) {
LOG.trace("Shutting down H2 persistence {}");
h2Builder.closeStore();
}
LOG.info("Moquette integration has been stopped.");
}
public int getPort() {
return acceptor.getPort();
}
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
*.class
# Mobile Tools for Java (J2ME)
.mtj.tmp/
# Package Files #
*.war
*.ear
# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml
hs_err_pid*
broker/*moquette_store.*
embedding_moquette/target/
broker/nb-configuration.xml
broker/nbactions-Server.xml
maven-metadata.xml
/.gradle/
/bin/
Copy lines
View file
Edit file
Delete file
@@ -25,6 +25,7 @@ broker/runner
.settings/
.settings/
.project
.project
.classpath
.classpath
/*/bin/
*.swp
*.swp
*.class
*.class
1
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
MQTTConnectionFactory connectionFactory = new MQTTConnectionFactory(brokerConfig, authenticator, sessions,
5
broker/src/main/java/io/moquette/persistence/H2Builder.java
Show comments
View file
Edit file
Delete file
@@ -2,6 +2,7 @@
import io.moquette.BrokerConstants;
import io.moquette.BrokerConstants;
import io.moquette.broker.IQueueRepository;
import io.moquette.broker.IQueueRepository;
import io.moquette.broker.IRetainedRepository;
import io.moquette.broker.ISubscriptionsRepository;
import io.moquette.broker.ISubscriptionsRepository;
.editorconfig: gradle files added
build: wrapper task added
osgi: added to h2_ and mapdb_storage
gradle: files cleaned
build.gradle: jars used for tar/zip
Loading branch information
Andreas Mager
authored and AndreasMager
committed
Aug 24, 2017
1 parent
7c4f902
commit e8b105fa90a032cda9794511e0c1db1b932987e6
Unified
Split
Showing
31 changed files
pom: files removed
distribution: assembly.xml removed
gradle: test ouput added to sub builds
.editorconfig: gradle files added
build: wrapper task added
osgi: added to h2_ and mapdb_storage
gradle: files cleaned
build.gradle: jars used for tar/zip
Loading branch information
Andreas Mager
authored and AndreasMager
committed
Aug 24, 2017
1 parent
Skip to content
GitHub no longer supports this web browser.
Learn more about the browsers we support.
Sign in to GitHub
Username or email address
Password Forgot password?
New to GitHub?
Create an account.
Terms
Privacy
Security
Contact GitHub
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
Copy path
Cannot retrieve contributors at this time
103 lines (93 sloc)
6.14 KB
Raw
Blame
Version 0.12:
Fixed issue #415
Dropped Hazelcast because at the moment Moquette is not designed to be clusterizable
Rewritten completly the broker to introduce the concept of MqttConnection
Dropped suppoert for MapDB and keeped only H2 MvStore for persistence
Version 0.10:
Netty epoll system added
Separated in memory and MapDB storage implementations
Cleanly separated inflight part (inbound and outbound)
Version 0.9:
65 Bytes
Raw
Blame
language: java
jdk:
- openjdk12
#script:
# - ./mvnw verify
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
View file
Edit file
Delete file
@@ -25,6 +25,7 @@ broker/runner
.settings/
.project
.classpath
/*/bin/
*.swp
*.class
1
broker/build.gradle
Show comments
View file
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
3c3859fbd5
moquette/.editorconfig
Go to file
Go to file
T
Go to line
distribution/target/
broker/moquette.log
broker/runner
/bundle/target/
/bundle/runner/
/osgi_test/target/
/perf/target/
/mapdb_storage/target/
*~
*.log*
.DS_Store
.settings/
.project
.classpath
*.swp
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Issues · moquette-io/moquette · GitHub
import java.security.cert.Certificate;
import java.security.cert.X509Certificate;
import java.util.Collections;
import java.util.Objects;
import io.moquette.BrokerConstants;
import io.moquette.server.config.IConfig;
import io.moquette.spi.security.ISslContextCreator;
import io.netty.handler.ssl.ClientAuth;
import io.netty.handler.ssl.SslContext;
import io.netty.handler.ssl.SslContextBuilder;
import io.netty.handler.ssl.SslProvider;
import javax.net.ssl.KeyManagerFactory;
import javax.net.ssl.TrustManagerFactory;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
2
broker/src/test/java/io/moquette/server/ServerLowlevelMessagesIntegrationTests.java
Show comments
View file
Edit file
Delete file
@@ -97,7 +97,7 @@ private static MqttConnectMessage createConnectMessage(String clientID, int keep
MqttConnectVariableHeader mqttConnectVariableHeader = new MqttConnectVariableHeader(
MqttVersion.MQTT_3_1.protocolName(), MqttVersion.MQTT_3_1.protocolLevel(), false, false, false, 1, false,
true, keepAlive);
MqttConnectPayload mqttConnectPayload = new MqttConnectPayload(clientID, null, null, null, null);
MqttConnectPayload mqttConnectPayload = new MqttConnectPayload(clientID, (String)null, (byte[])null, (String)null, (byte[])null);
return new MqttConnectMessage(mqttFixedHeader, mqttConnectVariableHeader, mqttConnectPayload);
testCompile group: 'com.h2database', name: 'h2', version:'1.4.191'
testRuntime group: 'io.netty', name: 'netty-tcnative', version: '2.0.10.Final', classifier: 'linux-x86_64'
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
<groupId>io.netty</groupId>
<artifactId>netty-codec-http</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-codec-mqtt</artifactId>
</dependency>
<dependency>
<groupId>io.netty</groupId>
<artifactId>netty-transport-native-epoll</artifactId>
<classifier>linux-x86_64</classifier>
<!--
-->
</dependency>
<dependency>
<groupId>io.dropwizard.metrics</groupId>
/** @see java.security.KeyStore#getInstance(String) for allowed types, default to "jks" */
public static final String KEY_STORE_TYPE = "key_store_type";
public static final String KEY_STORE_PASSWORD_PROPERTY_NAME = "key_store_password";
public static final String KEY_MANAGER_PASSWORD_PROPERTY_NAME = "key_manager_password";
public static final String ALLOW_ANONYMOUS_PROPERTY_NAME = "allow_anonymous";
public static final String ALLOW_ZERO_BYTE_CLIENT_ID_PROPERTY_NAME = "allow_zero_byte_client_id";
public static final String ACL_FILE_PROPERTY_NAME = "acl_file";
public static final String AUTHORIZATOR_CLASS_NAME = "authorizator_class";
public static final String AUTHENTICATOR_CLASS_NAME = "authenticator_class";
public static final String DB_AUTHENTICATOR_DRIVER = "authenticator.db.driver";
public static final String DB_AUTHENTICATOR_URL = "authenticator.db.url";
public static final String DB_AUTHENTICATOR_QUERY = "authenticator.db.query";
public static final String DB_AUTHENTICATOR_DIGEST = "authenticator.db.digest";
public static final int PORT = 1883;
public static final int WEBSOCKET_PORT = 8080;
public static final String DISABLED_PORT_BIND = "disabled";
// TODO reimplement this
// public List<Subscription> getSubscriptions() {
// if (m_processorBootstrapper == null) {
// return null;
// }
// return this.subscriptionsStore.listAllSubscriptions();
// }
/**
* SPI method used by Broker embedded applications to add intercept handlers.
*
* @param interceptHandler the handler to add.
*/
public void addInterceptHandler(InterceptHandler interceptHandler) {
if (!initialized) {
LOG.error("Moquette is not started, MQTT message interceptor cannot be added. InterceptorId={}",
interceptHandler.getID());
Learn more
Accept
Reject
Save preferences
26
broker/src/main/java/io/moquette/broker/MemoryRetainedRepository.java
Show comments
View file
Edit file
Delete file
@@ -16,8 +16,12 @@
package io.moquette.broker;
import io.moquette.broker.subscriptions.Topic;
import io.netty.buffer.ByteBuf;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.ConcurrentMap;
}
Optional<CNode> lookup(Topic topic) {
INode inode = this.root;
Token token = topic.headToken();
while (!topic.isEmpty() && (inode.mainNode().anyChildrenMatch(token))) {
topic = topic.exceptHeadToken();
inode = inode.mainNode().childOf(token);
token = topic.headToken();
}
if (inode == null || !topic.isEmpty()) {
return Optional.empty();
}
return Optional.of(inode.mainNode());
}
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
public int getSslPort() {
return acceptor.getSslPort();
}
/**
* SPI method used by Broker embedded applications to get list of subscribers. Returns null if
* the broker is not started.
*
* @return list of subscriptions.
*/
// TODO reimplement this
// public List<Subscription> getSubscriptions() {
// if (m_processorBootstrapper == null) {
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
broker/build.gradle
Show comments
View file
Edit file
Delete file
@@ -34,4 +34,5 @@ dependencies {
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.191'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.191'
testRuntime group: 'io.netty', name: 'netty-tcnative', version: '2.0.10.Final', classifier: 'linux-x86_64'
}
}
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Issues · moquette-io/moquette · GitHub
import io.moquette.broker.config.IConfig;
import io.moquette.broker.config.IConfig;
import org.h2.mvstore.MVStore;
import org.h2.mvstore.MVStore;
@@ -57,4 +58,8 @@ public void closeStore() {
public IQueueRepository queueRepository() {
public IQueueRepository queueRepository() {
return new H2QueueRepository(mvStore);
return new H2QueueRepository(mvStore);
}
}
public IRetainedRepository retainedRepository() {
return new H2RetainedRepository(mvStore);
}
}
Issues · moquette-io/moquette · GitHub
with
699 additions
and 1,316 deletions.
+3
−0
.editorconfig
+3
−1
.gitignore
+10
−0
.travis.yml
+3
−2
README.md
7c4f902
commit e8b105fa90a032cda9794511e0c1db1b932987e6
Unified
Split
Showing
31 changed files
with
699 additions
and 1,316 deletions.
+3
−0
.editorconfig
+3
−1
Issues · moquette-io/moquette · GitHub
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Moved canRead check to topic from publish phase to subscribe (#144)
Added javadoc and src jars creations for JCenter/Maven central
Added persisting of clean session flag for already existing client session (fix issue #145)
Moved the message logic management fo FSM, to better control the concurrency.
Changed default config to use in memory store and not default moquette.mapdb
Version 0.8:
Introduced authenticator and authorizator implementations.
Fixed bug, doesn't close the channel when connect doesn't contains a valid proto name, issue #65
Fixed bug, does not check for zero length topic (filters) in PUBLISH, SUBSCRIBE, and UNSUBSCRIBE, issue #67
Fixed issue #69
Fixed bug #68, UNSUBSCRIBE has to fail on bad topicFilter names
Fixed bug #81, on stop of moquette broker it doesn't shutdown due to no shutdown of ringbuffer used on the back of ProtocolProcessor
Moved config to be not only filesystem based, but also classpath and memory (fix issue #73)
Switched from commit persistence on every change to time based to fix delay in handling many msgs/sec (fix issue #79)
Changed willMessage and password in CONNECT message from String to byte[] (fix issue #94 and #95)
Fixed ugly empty session storage, avoid fake NullObject empty subscription subscription
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Edit file
Delete file
@@ -34,4 +34,5 @@ dependencies {
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.191'
testRuntime group: 'io.netty', name: 'netty-tcnative', version: '2.0.10.Final', classifier: 'linux-x86_64'
}
9
broker/src/main/java/io/moquette/BrokerConstants.java
Show comments
View file
Edit file
Delete file
@@ -32,8 +32,17 @@
+ DEFAULT_MOQUETTE_STORE_MAP_DB_FILENAME;
L
Copy path
Cannot retrieve contributors at this time
16 lines (13 sloc)
299 Bytes
Raw
Blame
# EditorConfig is awesome: http://EditorConfig.org
# top-most EditorConfig file
root = true
# Unix-style newlines with a newline ending every file
[*]
end_of_line = lf
insert_final_newline = true
charset = utf-8
indent_style = space
indent_size = 4
*.class
# Mobile Tools for Java (J2ME)
.mtj.tmp/
# Package Files #
*.war
*.ear
# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml
hs_err_pid*
broker/*moquette_store.*
embedding_moquette/target/
broker/nb-configuration.xml
broker/nbactions-Server.xml
maven-metadata.xml
/.gradle/
Copy lines
Copy permalink
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
/**
* Moquette server implementation to load SSL certificate from local filesystem path configured in
* config file.
*/
class DefaultMoquetteSslContextCreator implements ISslContextCreator {
private static final Logger LOG = LoggerFactory.getLogger(DefaultMoquetteSslContextCreator.class);
private final IConfig props;
DefaultMoquetteSslContextCreator(IConfig props) {
this.props = Objects.requireNonNull(props);
}
@Override
public SslContext initSSLContext() {
LOG.info("Checking SSL configuration properties...");
final String keyPassword = props.getProperty(BrokerConstants.KEY_MANAGER_PASSWORD_PROPERTY_NAME);
if (keyPassword == null || keyPassword.isEmpty()) {
LOG.warn("The key manager password is null or empty. The SSL context won't be initialized.");
}
2
broker/src/test/java/io/moquette/testclient/Client.java
Show comments
View file
Edit file
Delete file
@@ -109,7 +109,7 @@ public void connect(String willTestamentTopic, String willTestamentMsg) {
MqttConnectPayload mqttConnectPayload = new MqttConnectPayload(
this.clientId,
willTestamentTopic,
willTestamentMsg,
willTestamentMsg.getBytes(),
null,
null);
MqttConnectMessage connectMessage = new MqttConnectMessage(
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
<artifactId>metrics-core</artifactId>
<version>3.2.2</version>
</dependency>
<dependency>
<groupId>io.dropwizard.metrics</groupId>
<artifactId>metrics-jvm</artifactId>
<version>3.2.2</version>
</dependency>
<dependency>
<groupId>com.librato.metrics</groupId>
<artifactId>metrics-librato</artifactId>
<version>5.1.0</version>
</dependency>
<dependency>
public static final String HOST = "0.0.0.0";
public static final String NEED_CLIENT_AUTH = "need_client_auth";
public static final String HAZELCAST_CONFIGURATION = "hazelcast.configuration";
public static final String NETTY_SO_BACKLOG_PROPERTY_NAME = "netty.so_backlog";
public static final String NETTY_SO_REUSEADDR_PROPERTY_NAME = "netty.so_reuseaddr";
public static final String NETTY_TCP_NODELAY_PROPERTY_NAME = "netty.tcp_nodelay";
public static final String NETTY_SO_KEEPALIVE_PROPERTY_NAME = "netty.so_keepalive";
public static final String NETTY_CHANNEL_TIMEOUT_SECONDS_PROPERTY_NAME = "netty.channel_timeout.seconds";
public static final String NETTY_EPOLL_PROPERTY_NAME = "netty.epoll";
public static final String NETTY_MAX_BYTES_PROPERTY_NAME = "netty.mqtt.message_size";
public static final int DEFAULT_NETTY_MAX_BYTES_IN_MESSAGE = 8092;
public static final String METRICS_ENABLE_PROPERTY_NAME = "use_metrics";
public static final String METRICS_LIBRATO_EMAIL_PROPERTY_NAME = "metrics.librato.email";
public static final String METRICS_LIBRATO_TOKEN_PROPERTY_NAME = "metrics.librato.token";
public static final String METRICS_LIBRATO_SOURCE_PROPERTY_NAME = "metrics.librato.source";
public static final String BUGSNAG_ENABLE_PROPERTY_NAME = "use_bugsnag";
throw new IllegalStateException("Can't register interceptors on a integration that is not yet started");
}
LOG.info("Adding MQTT message interceptor. InterceptorId={}", interceptHandler.getID());
interceptor.addInterceptHandler(interceptHandler);
}
/**
* SPI method used by Broker embedded applications to remove intercept handlers.
*
* @param interceptHandler the handler to remove.
*/
public void removeInterceptHandler(InterceptHandler interceptHandler) {
if (!initialized) {
LOG.error("Moquette is not started, MQTT message interceptor cannot be removed. InterceptorId={}",
interceptHandler.getID());
throw new IllegalStateException("Can't deregister interceptors from a integration that is not yet started");
}
@@ -26,16 +30,20 @@
* */
final class MemoryRetainedRepository implements IRetainedRepository {
private final ConcurrentMap<String, MqttPublishMessage> storage = new ConcurrentHashMap<>();
private final ConcurrentMap<Topic, RetainedMessage> storage = new ConcurrentHashMap<>();
@Override
public void cleanRetained(Topic topic) {
storage.remove(topic.toString());
storage.remove(topic);
}
@Override
public void retain(Topic topic, MqttPublishMessage msg) {
storage.put(topic.toString(), msg);
final ByteBuf payload = msg.content();
byte[] rawPayload = new byte[payload.readableBytes()];
payload.getBytes(0, rawPayload);
enum NavigationAction {
MATCH, GODEEP, STOP
}
private NavigationAction evaluate(Topic topic, CNode cnode) {
if (Token.MULTI.equals(cnode.token)) {
return NavigationAction.MATCH;
}
if (topic.isEmpty()) {
return NavigationAction.STOP;
}
final Token token = topic.headToken();
if (!(Token.SINGLE.equals(cnode.token) || cnode.token.equals(token) || ROOT.equals(cnode.token))) {
return NavigationAction.STOP;
}
return NavigationAction.GODEEP;
}
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
// return null;
// }
// return this.subscriptionsStore.listAllSubscriptions();
// }
/**
* SPI method used by Broker embedded applications to add intercept handlers.
*
* @param interceptHandler the handler to add.
*/
public void addInterceptHandler(InterceptHandler interceptHandler) {
if (!initialized) {
LOG.error("Moquette is not started, MQTT message interceptor cannot be added. InterceptorId={}",
interceptHandler.getID());
throw new IllegalStateException("Can't register interceptors on a integration that is not yet started");
}
LOG.info("Adding MQTT message interceptor. InterceptorId={}", interceptHandler.getID());
interceptor.addInterceptHandler(interceptHandler);
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
9
broker/src/main/java/io/moquette/BrokerConstants.java
Show comments
View file
Edit file
Delete file
@@ -32,8 +32,17 @@
+ DEFAULT_MOQUETTE_STORE_MAP_DB_FILENAME;
+ DEFAULT_MOQUETTE_STORE_MAP_DB_FILENAME;
public static final String WEB_SOCKET_PORT_PROPERTY_NAME = "websocket_port";
public static final String WEB_SOCKET_PORT_PROPERTY_NAME = "websocket_port";
public static final String WSS_PORT_PROPERTY_NAME = "secure_websocket_port";
public static final String WSS_PORT_PROPERTY_NAME = "secure_websocket_port";
/**
Reject
Save preferences
Save preferences
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
}
55
broker/src/main/java/io/moquette/persistence/H2RetainedRepository.java
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,55 @@
package io.moquette.persistence;
import io.moquette.broker.IRetainedRepository;
import io.moquette.broker.RetainedMessage;
import io.moquette.broker.subscriptions.Topic;
import io.netty.buffer.ByteBuf;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import org.h2.mvstore.MVMap;
import org.h2.mvstore.MVStore;
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
+51
−0
broker/build.gradle
+0
−282
broker/pom.xml
+89
−0
build.gradle
+63
−0
distribution/build.gradle
+0
−80
distribution/pom.xml
+0
.gitignore
+10
−0
.travis.yml
+3
−2
README.md
+51
−0
broker/build.gradle
+0
−282
broker/pom.xml
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Reject
Save preferences
Added check to avoid creation of LostConnectionEvents for not yet completed connects (fix issue #88)
Removed LMAX ringbuffer to use multi threading with persistent (copy on write) data structures
Fixed bug that on connection stolen dropped also the new connection (fix issue #108)
Refactored the storage part to be more rational and use ClientSession concept
Added config property 'autosave_interval' (issue #97)
Removed leaking ref to parent's node (issue #119 and #126)
Added internal publish once the broker is embedded (issue #113)
Removed client active/not active state from persistence (issue #118)
Avoid deletion of client descriptor in case of multiple clients with same clientID (issues #116 and #124)
Removed a queue per client of inFlightIds (never cleaned) in favor of single atomic generator
Version 0.7:
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
public static final String WEB_SOCKET_PORT_PROPERTY_NAME = "websocket_port";
public static final String WSS_PORT_PROPERTY_NAME = "secure_websocket_port";
/**
* Defines the SSL implementation to use, default to "JDK".
* @see io.netty.handler.ssl.SslProvider#name()
*/
public static final String SSL_PROVIDER = "ssl_provider";
public static final String SSL_PORT_PROPERTY_NAME = "ssl_port";
public static final String JKS_PATH_PROPERTY_NAME = "jks_path";
/** @see java.security.KeyStore#getInstance(String) for allowed types, default to "jks" */
public static final String KEY_STORE_TYPE = "key_store_type";
public static final String KEY_STORE_PASSWORD_PROPERTY_NAME = "key_store_password";
public static final String KEY_MANAGER_PASSWORD_PROPERTY_NAME = "key_manager_password";
public static final String ALLOW_ANONYMOUS_PROPERTY_NAME = "allow_anonymous";
max_line_length=120
[*.gradle]
indent_size = 2
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Issues · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Issues · moquette-io/moquette · GitHub
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
return null;
}
try {
SslProvider sslProvider = getSSLProvider();
KeyStore ks = loadKeyStore();
SslContextBuilder contextBuilder;
switch (sslProvider) {
case JDK:
contextBuilder = builderWithJdkProvider(ks, keyPassword);
break;
case OPENSSL:
case OPENSSL_REFCNT:
contextBuilder = builderWithOpenSSLProvider(ks, keyPassword);
break;
default:
LOG.error("unsupported SSL provider {}", sslProvider);
2
build.gradle
Show comments
View file
Edit file
Delete file
@@ -37,7 +37,7 @@ subprojects {
apply plugin: 'eclipse'
ext {
nettyVersion = '4.1.12.Final'
nettyVersion = '4.1.22.Final'
}
task packageTests(type: Jar) {
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<groupId>com.librato.metrics</groupId>
<artifactId>librato-java</artifactId>
<version>2.1.0</version>
</dependency>
<dependency>
<groupId>com.bugsnag</groupId>
<artifactId>bugsnag</artifactId>
<version>[3.0,4.0)</version>
</dependency>
<dependency>
<groupId>commons-codec</groupId>
<artifactId>commons-codec</artifactId>
<version>1.10</version>
</dependency>
<!--<dependency>-->
<!--<groupId>org.hdrhistogram</groupId>-->
public static final String BUGSNAG_TOKEN_PROPERTY_NAME = "bugsnag.token";
public static final String STORAGE_CLASS_NAME = "storage_class";
private BrokerConstants() {
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
LOG.info("Removing MQTT message interceptor. InterceptorId={}", interceptHandler.getID());
interceptor.removeInterceptHandler(interceptHandler);
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
final RetainedMessage toStore = new RetainedMessage(msg.fixedHeader().qosLevel(), rawPayload);
storage.put(topic, toStore);
}
@Override
@@ -44,7 +52,15 @@ public boolean isEmpty() {
}
@Override
public MqttPublishMessage retainedOnTopic(String topic) {
return storage.get(topic);
public List<RetainedMessage> retainedOnTopic(String topic) {
final Topic searchTopic = new Topic(topic);
final List<RetainedMessage> matchingMessages = new ArrayList<>();
for (Map.Entry<Topic, RetainedMessage> entry : storage.entrySet()) {
final Topic scanTopic = entry.getKey();
if (searchTopic.match(scanTopic)) {
matchingMessages.add(entry.getValue());
public Set<Subscription> recursiveMatch(Topic topic) {
return recursiveMatch(topic, this.root);
}
private Set<Subscription> recursiveMatch(Topic topic, INode inode) {
CNode cnode = inode.mainNode();
NavigationAction action = evaluate(topic, cnode);
if (action == NavigationAction.MATCH) {
return cnode.subscriptions;
}
if (action == NavigationAction.STOP) {
return Collections.emptySet();
}
if (cnode instanceof TNode) {
return Collections.emptySet();
}
Topic remainingTopic = (ROOT.equals(cnode.token)) ? topic : topic.exceptHeadToken();
Save preferences
}
/**
* SPI method used by Broker embedded applications to remove intercept handlers.
*
* @param interceptHandler the handler to remove.
*/
public void removeInterceptHandler(InterceptHandler interceptHandler) {
if (!initialized) {
LOG.error("Moquette is not started, MQTT message interceptor cannot be removed. InterceptorId={}",
interceptHandler.getID());
throw new IllegalStateException("Can't deregister interceptors from a integration that is not yet started");
}
LOG.info("Removing MQTT message interceptor. InterceptorId={}", interceptHandler.getID());
interceptor.removeInterceptHandler(interceptHandler);
}
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
* Defines the SSL implementation to use, default to "JDK".
* @see io.netty.handler.ssl.SslProvider#name()
*/
public static final String SSL_PROVIDER = "ssl_provider";
public static final String SSL_PORT_PROPERTY_NAME = "ssl_port";
public static final String SSL_PORT_PROPERTY_NAME = "ssl_port";
public static final String JKS_PATH_PROPERTY_NAME = "jks_path";
public static final String JKS_PATH_PROPERTY_NAME = "jks_path";
/** @see java.security.KeyStore#getInstance(String) for allowed types, default to "jks" */
public static final String KEY_STORE_TYPE = "key_store_type";
public static final String KEY_STORE_PASSWORD_PROPERTY_NAME = "key_store_password";
public static final String KEY_STORE_PASSWORD_PROPERTY_NAME = "key_store_password";
public static final String KEY_MANAGER_PASSWORD_PROPERTY_NAME = "key_manager_password";
public static final String KEY_MANAGER_PASSWORD_PROPERTY_NAME = "key_manager_password";
public static final String ALLOW_ANONYMOUS_PROPERTY_NAME = "allow_anonymous";
public static final String ALLOW_ANONYMOUS_PROPERTY_NAME = "allow_anonymous";
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
public class H2RetainedRepository implements IRetainedRepository {
private final MVMap<Topic, RetainedMessage> queueMap;
public H2RetainedRepository(MVStore mvStore) {
this.queueMap = mvStore.openMap("retained_store");
}
@Override
public void cleanRetained(Topic topic) {
queueMap.remove(topic);
}
@Override
public void retain(Topic topic, MqttPublishMessage msg) {
final ByteBuf payload = msg.content();
Pull requests · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
−57
distribution/src/main/assembly/assembly.xml
+5
−0
embedding_moquette/build.gradle
+0
−37
embedding_moquette/pom.xml
+9
−0
gradle/java.gradle
+19
−0
gradle/lint.gradle
+62
−0
+89
−0
build.gradle
+63
−0
distribution/build.gradle
+0
−80
distribution/pom.xml
+0
−57
distribution/src/main/assembly/assembly.xml
+5
−0
embedding_moquette/build.gradle
+0
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
Fix issue #38, added aligned to MQTT 3.1.1
Refactored big event switch to @Annotation dispatcher
Switched from HawtDB to MapDB
Fixed bug that didn't update client subscription on persistent store so that on server restart there where ghost subscriptions.
Fixed Issue #11, multiple republish of persisted QoS1/2 messages on clients reconnections.
Refactored the publish logic for QoS 1 2 to try to be more readable
Added packetIdentifier storage and generation
Fixed issue #16, bad packetId for will messages with qos > 0
Added store path variable "persistent_store" to configuration file (picked from Steven Warwick fork)
Removed OSGi bundle, developer time burner
Fixed github issue #30, returning error on mapdb file not deleted that corrupt reiterated builds
Added handling of allow_anonymous clients (as in mosquitto issue #34)
Modified the password_file format to use password stored in sha256 and not plain text
Added ACL file for topic read|write operations.
Removed cause of leakage of Netty Sessions (fix issue #39)
Cleaned Netty's stuff reference from Events used in Disruptor (fix issue #40)
175
broker/src/main/java/io/moquette/server/DefaultMoquetteSslContextCreator.java
Show comments
View file
Edit file
Delete file
@@ -16,19 +16,34 @@
package io.moquette.server;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
import java.security.GeneralSecurityException;
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
return null;
}
// if client authentification is enabled a trustmanager needs to be added to the ServerContext
String sNeedsClientAuth = props.getProperty(BrokerConstants.NEED_CLIENT_AUTH, "false");
if (Boolean.valueOf(sNeedsClientAuth)) {
addClientAuthentication(ks, contextBuilder);
}
contextBuilder.sslProvider(sslProvider);
SslContext sslContext = contextBuilder.build();
LOG.info("The SSL context has been initialized successfully.");
return sslContext;
} catch (GeneralSecurityException | IOException ex) {
LOG.error("Unable to initialize SSL context.", ex);
return null;
}
}
Toggle all file notes
0 comments
on commit 0fae292
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
<!--<artifactId>HdrHistogram</artifactId>-->
<!--<version>2.1.4</version>-->
<!--</dependency>-->
<dependency>
<groupId>com.hazelcast</groupId>
<artifactId>hazelcast</artifactId>
<version>3.5.4</version>
</dependency>
<!-- Test dependencies -->
<dependency>
<groupId>junit</groupId>
<artifactId>junit</artifactId>
<version>4.8.2</version>
<scope>test</scope>
</dependency>
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
}
}
return matchingMessages;
}
}
21
broker/src/main/java/io/moquette/broker/PostOffice.java
Show comments
View file
Edit file
Delete file
@@ -21,6 +21,7 @@
import io.moquette.broker.subscriptions.Topic;
import io.moquette.broker.security.IAuthorizatorPolicy;
import io.netty.buffer.ByteBuf;
import io.netty.buffer.Unpooled;
Set<Subscription> subscriptions = new HashSet<>();
if (remainingTopic.isEmpty()) {
subscriptions.addAll(cnode.subscriptions);
}
for (INode subInode : cnode.allChildren()) {
subscriptions.addAll(recursiveMatch(remainingTopic, subInode));
}
return subscriptions;
}
public void addToTree(Subscription newSubscription) {
Action res;
do {
res = insert(newSubscription.topicFilter, this.root, newSubscription);
} while (res == Action.REPEAT);
}
/**
* Return a list of descriptors of connected clients.
* */
public Collection<ClientDescriptor> listConnectedClients() {
return sessions.listConnectedClients();
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
175
broker/src/main/java/io/moquette/server/DefaultMoquetteSslContextCreator.java
Show comments
View file
Edit file
Delete file
@@ -16,19 +16,34 @@
package io.moquette.server;
package io.moquette.server;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.net.URL;
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
byte[] rawPayload = new byte[payload.readableBytes()];
payload.getBytes(0, rawPayload);
final RetainedMessage toStore = new RetainedMessage(msg.fixedHeader().qosLevel(), rawPayload);
queueMap.put(topic, toStore);
}
@Override
public boolean isEmpty() {
return queueMap.isEmpty();
}
@Override
public List<RetainedMessage> retainedOnTopic(String topic) {
final Topic searchTopic = new Topic(topic);
final List<RetainedMessage> matchingMessages = new ArrayList<>();
for (Map.Entry<Topic, RetainedMessage> entry : queueMap.entrySet()) {
final Topic scanTopic = entry.getKey();
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
gradle/test.gradle
BIN
gradle/wrapper/gradle-wrapper.jar
+6
−0
gradle/wrapper/gradle-wrapper.properties
+164
−0
gradlew
+90
−0
gradlew.bat
+23
−0
h2_storage/build.gradle
+0
−129
−37
embedding_moquette/pom.xml
+9
−0
gradle/java.gradle
+19
−0
gradle/lint.gradle
+62
−0
gradle/test.gradle
BIN
gradle/wrapper/gradle-wrapper.jar
+6
−0
gradle/wrapper/gradle-wrapper.properties
+164
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
Bad assignment of PacketID during publish to subscribed QoS0 topics (fix issue #38)
Fixed duplicated subscription with different QoS same client and topic (fix issue #49)
Fixed UNSUBSCRIBE that missed to remove the subscription from the persistent store (fix issue #50)
Fixed issue on multiple publish for overlapping subscription by the same client (fix issue #52).
Moved the authorization check before dropping an already connected client with same clientID (fix issue #44).
Fixed subscription tree that was unable to update clean session flag on subs with same client, topic and qos (fix issue #55)
Fixed overwriting of published qos in forward publish loop (fix issue #56)
Version 0.6:
Fix issue #42, bad password file path composition
Fix issue #43, missed topic case (finance/+ does has to match finance)
Integrated WebSocket support (issue #37)
Integrated SSL support (issue #41)
Fixed issue #40, check Logging inside the Felix OSGi
Fixed issue #46, implement correct behaviour for Will stuff
Splitted stores to persist messages and sessions into different interfaces
Renamed some methods in sessions store
import java.security.KeyManagementException;
import java.security.KeyStore;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
import java.security.PrivateKey;
import java.security.cert.Certificate;
import java.security.cert.X509Certificate;
import java.util.Collections;
import java.util.Objects;
import io.moquette.BrokerConstants;
import io.moquette.server.config.IConfig;
import io.moquette.spi.security.ISslContextCreator;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import io.netty.handler.ssl.ClientAuth;
import io.netty.handler.ssl.SslContext;
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
private KeyStore loadKeyStore() throws IOException, GeneralSecurityException {
final String jksPath = props.getProperty(BrokerConstants.JKS_PATH_PROPERTY_NAME);
LOG.info("Initializing SSL context. KeystorePath = {}.", jksPath);
if (jksPath == null || jksPath.isEmpty()) {
LOG.warn("The keystore path is null or empty. The SSL context won't be initialized.");
return null;
}
final String keyStorePassword = props.getProperty(BrokerConstants.KEY_STORE_PASSWORD_PROPERTY_NAME);
if (keyStorePassword == null || keyStorePassword.isEmpty()) {
LOG.warn("The keystore password is null or empty. The SSL context won't be initialized.");
return null;
}
String ksType = props.getProperty(BrokerConstants.KEY_STORE_TYPE, "jks");
final KeyStore keyStore = KeyStore.getInstance(ksType);
LOG.info("Loading keystore. KeystorePath = {}.", jksPath);
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
<dependency>
<groupId>org.slf4j</groupId>
<artifactId>slf4j-log4j12</artifactId>
<version>1.7.5</version>
<scope>test</scope>
</dependency>
<!-- needs extra dependencies: objenesis & hamcrest -->
<dependency>
<groupId>org.mockito</groupId>
<artifactId>mockito-core</artifactId>
<version>1.9.0</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.fusesource.mqtt-client</groupId>
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
import io.netty.handler.codec.mqtt.*;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
@@ -99,19 +100,21 @@ private void publishRetainedMessagesForSubscriptions(String clientID, List<Subsc
Session targetSession = this.sessionRegistry.retrieve(clientID);
for (Subscription subscription : newSubscriptions) {
final String topicFilter = subscription.getTopicFilter().toString();
final MqttPublishMessage retainedMsg = retainedRepository.retainedOnTopic(topicFilter);
final List<RetainedMessage> retainedMsgs = retainedRepository.retainedOnTopic(topicFilter);
if (retainedMsg == null) {
if (retainedMsgs.isEmpty()) {
// not found
continue;
}
final MqttQoS retainedQos = retainedMsg.fixedHeader().qosLevel();
private Action insert(Topic topic, final INode inode, Subscription newSubscription) {
Token token = topic.headToken();
if (!topic.isEmpty() && inode.mainNode().anyChildrenMatch(token)) {
Topic remainingTopic = topic.exceptHeadToken();
INode nextInode = inode.mainNode().childOf(token);
return insert(remainingTopic, nextInode, newSubscription);
} else {
if (topic.isEmpty()) {
return insertSubscription(inode, newSubscription);
} else {
return createNodeAndInsertSubscription(topic, inode, newSubscription);
}
}
}
private Action insertSubscription(INode inode, Subscription newSubscription) {
CNode cnode = inode.mainNode();
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
import java.security.GeneralSecurityException;
import java.security.KeyManagementException;
import java.security.KeyStore;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
import java.security.PrivateKey;
import java.security.cert.Certificate;
import java.security.cert.X509Certificate;
import java.util.Collections;
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
if (searchTopic.match(scanTopic)) {
matchingMessages.add(entry.getValue());
}
}
return matchingMessages;
}
}
10
broker/src/test/java/io/moquette/broker/PostOfficePublishTest.java
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
h2_storage/pom.xml
+23
−0
mapdb_storage/build.gradle
−0
gradlew
+90
−0
gradlew.bat
+23
−0
h2_storage/build.gradle
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Moved logging conf and slf4j-log4j deps out of broker to let it use the container's log configuration
Version 0.5:
Fix issue 20 (no flush of message on PINGREQ)
Fix issue 21 (bad channel timeout handler)
Created a self contained distribution package (issue 22)
Fix issue 28, OSGi-fied the broker
Fixed issue #31 missed to insert the hawtdb jars
Added a separate mvn module to host the OSGi bundle declaration
Fixed issue #30
Added password file for identity management on connect (Fix #23)
Version 0.4:
import io.netty.handler.ssl.SslContextBuilder;
import io.netty.handler.ssl.SslProvider;
import javax.net.ssl.KeyManagerFactory;
import javax.net.ssl.SSLContext;
import javax.net.ssl.TrustManager;
import javax.net.ssl.TrustManagerFactory;
import java.io.*;
import java.net.URL;
import java.security.*;
import java.security.cert.CertificateException;
import org.slf4j.Logger;
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
try (InputStream jksInputStream = jksDatastore(jksPath)) {
keyStore.load(jksInputStream, keyStorePassword.toCharArray());
}
return keyStore;
}
private static SslContextBuilder builderWithJdkProvider(KeyStore ks, String keyPassword)
throws GeneralSecurityException {
LOG.info("Initializing key manager...");
final KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
kmf.init(ks, keyPassword.toCharArray());
LOG.info("Initializing SSL context...");
return SslContextBuilder.forServer(kmf);
}
/**
* certificate and key in order to provide it to OpenSSL.
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<artifactId>mqtt-client</artifactId>
<version>1.12</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.eclipse.paho</groupId>
<artifactId>org.eclipse.paho.client.mqttv3</artifactId>
<version>1.0.2</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.eclipse.jetty.websocket</groupId>
<artifactId>websocket-client</artifactId>
<version>9.2.0.M1</version>
<scope>test</scope>
MqttQoS qos = lowerQosToTheSubscriptionDesired(subscription, retainedQos);
final ByteBuf origPayload = retainedMsg.payload();
ByteBuf payload = origPayload.retainedDuplicate();
targetSession.sendRetainedPublishOnSessionAtQos(subscription.getTopicFilter(), qos, payload);
for (RetainedMessage retainedMsg : retainedMsgs) {
final MqttQoS retainedQos = retainedMsg.qosLevel();
MqttQoS qos = lowerQosToTheSubscriptionDesired(subscription, retainedQos);
// final ByteBuf origPayload = retainedMsg.getPayload();
final ByteBuf payloadBuf = Unpooled.wrappedBuffer(retainedMsg.getPayload());
// ByteBuf payload = origPayload.retainedDuplicate();
targetSession.sendRetainedPublishOnSessionAtQos(subscription.getTopicFilter(), qos, payloadBuf);
}
}
CNode updatedCnode = cnode.copy().addSubscription(newSubscription);
if (inode.compareAndSet(cnode, updatedCnode)) {
return Action.OK;
} else {
return Action.REPEAT;
}
}
private Action createNodeAndInsertSubscription(Topic topic, INode inode, Subscription newSubscription) {
INode newInode = createPathRec(topic, newSubscription);
CNode cnode = inode.mainNode();
CNode updatedCnode = cnode.copy();
updatedCnode.add(newInode);
return inode.compareAndSet(cnode, updatedCnode) ? Action.OK : Action.REPEAT;
}
private INode createPathRec(Topic topic, Subscription newSubscription) {
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
import java.util.Objects;
import io.moquette.BrokerConstants;
import io.moquette.BrokerConstants;
import io.moquette.server.config.IConfig;
import io.moquette.server.config.IConfig;
import io.moquette.spi.security.ISslContextCreator;
import io.moquette.spi.security.ISslContextCreator;
import org.slf4j.Logger;
import io.netty.handler.ssl.ClientAuth;
import org.slf4j.LoggerFactory;
import io.netty.handler.ssl.SslContext;
import io.netty.handler.ssl.SslContextBuilder;
import io.netty.handler.ssl.SslProvider;
import javax.net.ssl.KeyManagerFactory;
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Show comments
View file
Edit file
Delete file
@@ -390,7 +390,7 @@ public void cleanRetainedMessageStoreWhenPublishWithRetainedQos0IsReceived() {
sut.receivedPublishQos1(connection, new Topic(NEWS_TOPIC), TEST_USER, anyPayload, 1, true,
sut.receivedPublishQos1(connection, new Topic(NEWS_TOPIC), TEST_USER, anyPayload, 1, true,
publishMsg);
publishMsg);
assertMessageIsRetained(NEWS_TOPIC);
assertMessageIsRetained(NEWS_TOPIC, anyPayload);
// publish a QoS0 retained message
// publish a QoS0 retained message
// Exercise
// Exercise
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
Watch
159
Star
1.7k
Fork
670
Code
+0
−129
mapdb_storage/pom.xml
+1
−1
osgi_test/README.md
+22
−0
osgi_test/build.gradle
+0
−183
+0
−129
h2_storage/pom.xml
+23
−0
Sign up
moquette-io
/
moquette
Watch
159
Star
Dropped support for MINA
Fix Issue 15 (bad re-activation of client's subscriptions after a recconection)
Fix Issue 16 (bad re-publish of stored messages after a client reconnection)
Fixed a bug in unsubscribe due to missed clientID check
Fixed Issue 18 (descriptor of a disconnected (not active) client)
Bug fix for override subscriptions to the same /topic but with different QoS (latest wins)
Added test to check the downgrading of QoS of messages sent to registered subscribers (fixed a bug of double delivery of QoS2 messages)
Version 0.3:
Added Netty IO connectors
Dropped tests based on Fuse source client lib moving to Paho java client
Version 0.2:
Fixed issues (10, 11, 12, 13)
Fixed interdependency bug in test
import org.slf4j.LoggerFactory;
/**
* Moquette server implementation to load SSL certificate from local filesystem path configured in
@@ -38,77 +53,120 @@
private static final Logger LOG = LoggerFactory.getLogger(DefaultMoquetteSslContextCreator.class);
private IConfig props;
private final IConfig props;
DefaultMoquetteSslContextCreator(IConfig props) {
this.props = props;
this.props = Objects.requireNonNull(props);
}
@Override
public SSLContext initSSLContext() {
public SslContext initSSLContext() {
LOG.info("Checking SSL configuration properties...");
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
* <p>
* TODO: SNI is currently not supported, we use only the first found private key.
*/
private static SslContextBuilder builderWithOpenSSLProvider(KeyStore ks, String keyPassword)
throws GeneralSecurityException {
for (String alias : Collections.list(ks.aliases())) {
if (ks.entryInstanceOf(alias, KeyStore.PrivateKeyEntry.class)) {
PrivateKey key = (PrivateKey) ks.getKey(alias, keyPassword.toCharArray());
Certificate[] chain = ks.getCertificateChain(alias);
X509Certificate[] certChain = new X509Certificate[chain.length];
System.arraycopy(chain, 0, certChain, 0, chain.length);
return SslContextBuilder.forServer(key, certChain);
}
}
throw new KeyManagementException("the SSL key-store does not contain a private key");
}
private static void addClientAuthentication(KeyStore ks, SslContextBuilder contextBuilder)
</dependency>
<dependency>
<groupId>org.assertj</groupId>
<artifactId>assertj-core</artifactId>
<!-- use 2.6.0 for Java 7 projects -->
<version>2.6.0</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>org.awaitility</groupId>
<artifactId>awaitility</artifactId>
<version>3.0.0</version>
<scope>test</scope>
</dependency>
<dependency>
<groupId>com.h2database</groupId>
}
24
broker/src/main/java/io/moquette/broker/RetainedMessage.java
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,24 @@
package io.moquette.broker;
import io.netty.handler.codec.mqtt.MqttQoS;
import java.io.Serializable;
public class RetainedMessage implements Serializable{
private final MqttQoS qos;
private final byte[] payload;
Topic remainingTopic = topic.exceptHeadToken();
if (!remainingTopic.isEmpty()) {
INode inode = createPathRec(remainingTopic, newSubscription);
CNode cnode = new CNode();
cnode.token = topic.headToken();
cnode.add(inode);
return new INode(cnode);
} else {
return createLeafNodes(topic.headToken(), newSubscription);
}
}
private INode createLeafNodes(Token token, Subscription newSubscription) {
CNode newLeafCnode = new CNode();
newLeafCnode.token = token;
newLeafCnode.addSubscription(newSubscription);
return new INode(newLeafCnode);
import javax.net.ssl.KeyManagerFactory;
import javax.net.ssl.SSLContext;
import javax.net.ssl.TrustManager;
import javax.net.ssl.TrustManagerFactory;
import javax.net.ssl.TrustManagerFactory;
import java.io.*;
import org.slf4j.Logger;
import java.net.URL;
import org.slf4j.LoggerFactory;
import java.security.*;
import java.security.cert.CertificateException;
/**
/**
* Moquette server implementation to load SSL certificate from local filesystem path configured in
* Moquette server implementation to load SSL certificate from local filesystem path configured in
@@ -38,77 +53,120 @@
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
@@ -406,8 +406,10 @@ public void cleanRetainedMessageStoreWhenPublishWithRetainedQos0IsReceived() {
assertTrue("Retained message for topic /news must be cleared", retainedRepository.isEmpty());
assertTrue("Retained message for topic /news must be cleared", retainedRepository.isEmpty());
}
}
private void assertMessageIsRetained(String expectedTopicName) {
private void assertMessageIsRetained(String expectedTopicName, ByteBuf expectedPayload) {
MqttPublishMessage msg = retainedRepository.retainedOnTopic(expectedTopicName);
List<RetainedMessage> msgs = retainedRepository.retainedOnTopic(expectedTopicName);
assertEquals(expectedTopicName, msg.variableHeader().topicName());
assertEquals(1, msgs.size());
RetainedMessage msg = msgs.get(0);
assertEquals(ByteBufUtil.hexDump(expectedPayload), ByteBufUtil.hexDump(msg.getPayload()));
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
osgi_test/pom.xml
+28
−38
osgi_test/src/test/java/io/moquette/test/osgi/MoquetteOsgiTest.java
+9
−0
perf/build.gradle
+0
−142
perf/pom.xml
+0
−235
pom.xml
+16
−0
settings.gradle
mapdb_storage/build.gradle
+0
−129
mapdb_storage/pom.xml
+1
−1
osgi_test/README.md
+22
−0
osgi_test/build.gradle
+0
−183
osgi_test/pom.xml
+28
−38
osgi_test/src/test/java/io/moquette/test/osgi/MoquetteOsgiTest.java
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
final String keyPassword = props.getProperty(BrokerConstants.KEY_MANAGER_PASSWORD_PROPERTY_NAME);
if (keyPassword == null || keyPassword.isEmpty()) {
LOG.warn("The key manager password is null or empty. The SSL context won't be initialized.");
return null;
}
try {
SslProvider sslProvider = getSSLProvider();
KeyStore ks = loadKeyStore();
SslContextBuilder contextBuilder;
switch (sslProvider) {
case JDK:
contextBuilder = builderWithJdkProvider(ks, keyPassword);
break;
case OPENSSL:
case OPENSSL_REFCNT:
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
throws NoSuchAlgorithmException, KeyStoreException {
LOG.warn("Client authentication is enabled. The keystore will be used as a truststore.");
// use keystore as truststore, as server needs to trust certificates signed by the server certificates
TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
tmf.init(ks);
contextBuilder.clientAuth(ClientAuth.REQUIRE);
contextBuilder.trustManager(tmf);
}
private SslProvider getSSLProvider() {
String providerName = props.getProperty(BrokerConstants.SSL_PROVIDER, SslProvider.JDK.name());
try {
return SslProvider.valueOf(providerName);
} catch (IllegalArgumentException e) {
LOG.warn("unknown SSL Provider {}, falling back on JDK provider", providerName);
return SslProvider.JDK;
}
<artifactId>h2</artifactId>
<version>1.4.191</version>
<scope>test</scope>
</dependency>
</dependencies>
<build>
<plugins>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-surefire-plugin</artifactId>
<configuration>
<systemPropertyVariables>
<io.netty.leakDetectionLevel>PARANOID</io.netty.leakDetectionLevel>
</systemPropertyVariables>
<includes>
<include>**/*Test.java</include>
public RetainedMessage(MqttQoS qos, byte[] payload) {
this.qos = qos;
this.payload = payload;
}
public MqttQoS qosLevel() {
return qos;
}
public byte[] getPayload() {
return payload;
}
}
5
broker/src/main/java/io/moquette/broker/Server.java
Show comments
View file
Edit file
}
public void removeFromTree(Topic topic, String clientID) {
Action res;
do {
res = remove(clientID, topic, this.root, NO_PARENT);
} while (res == Action.REPEAT);
}
private Action remove(String clientId, Topic topic, INode inode, INode iParent) {
Token token = topic.headToken();
if (!topic.isEmpty() && (inode.mainNode().anyChildrenMatch(token))) {
Topic remainingTopic = topic.exceptHeadToken();
INode nextInode = inode.mainNode().childOf(token);
return remove(clientId, remainingTopic, nextInode, inode);
} else {
final CNode cnode = inode.mainNode();
private static final Logger LOG = LoggerFactory.getLogger(DefaultMoquetteSslContextCreator.class);
private static final Logger LOG = LoggerFactory.getLogger(DefaultMoquetteSslContextCreator.class);
private IConfig props;
private final IConfig props;
DefaultMoquetteSslContextCreator(IConfig props) {
DefaultMoquetteSslContextCreator(IConfig props) {
this.props = props;
this.props = Objects.requireNonNull(props);
}
}
@Override
@Override
public SSLContext initSSLContext() {
public SslContext initSSLContext() {
LOG.info("Checking SSL configuration properties...");
LOG.info("Checking SSL configuration properties...");
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
}
}
}
}
Toggle all file notes
0 comments
on commit 2138513
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
3
.editorconfig
Show comments
View file
Edit file
Delete file
@@ -11,3 +11,6 @@ charset = utf-8
indent_style = space
indent_style = space
indent_size = 4
indent_size = 4
max_line_length=120
max_line_length=120
[*.gradle]
indent_size = 2
+9
−0
perf/build.gradle
+0
−142
perf/pom.xml
+0
−235
pom.xml
+16
−0
settings.gradle
3
.editorconfig
Show comments
View file
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
contextBuilder = builderWithOpenSSLProvider(ks, keyPassword);
break;
default:
LOG.error("unsupported SSL provider {}", sslProvider);
return null;
}
// if client authentification is enabled a trustmanager needs to be added to the ServerContext
String sNeedsClientAuth = props.getProperty(BrokerConstants.NEED_CLIENT_AUTH, "false");
if (Boolean.valueOf(sNeedsClientAuth)) {
addClientAuthentication(ks, contextBuilder);
}
contextBuilder.sslProvider(sslProvider);
SslContext sslContext = contextBuilder.build();
LOG.info("The SSL context has been initialized successfully.");
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
}
private InputStream jksDatastore(String jksPath) throws FileNotFoundException {
URL jksUrl = getClass().getClassLoader().getResource(jksPath);
if (jksUrl != null) {
return getClass().getClassLoader().getResourceAsStream(jksPath);
}
LOG.warn("No keystore has been found in the bundled resources. Scanning filesystem...");
File jksFile = new File(jksPath);
if (jksFile.exists()) {
LOG.info("Loading external keystore. Url = {}.", jksFile.getAbsolutePath());
</includes>
</configuration>
</plugin>
<!-- Generate the test-jar -->
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-jar-plugin</artifactId>
<version>3.0.2</version>
<executions>
<execution>
<goals>
Delete file
@@ -162,21 +162,24 @@ public void startServer(IConfig config, List<? extends InterceptHandler> handler
final ISubscriptionsRepository subscriptionsRepository;
final IQueueRepository queueRepository;
final IRetainedRepository retainedRepository;
if (persistencePath != null && !persistencePath.isEmpty()) {
LOG.trace("Configuring H2 subscriptions store to {}", persistencePath);
h2Builder = new H2Builder(config, scheduler).initStore();
subscriptionsRepository = h2Builder.subscriptionsRepository();
queueRepository = h2Builder.queueRepository();
retainedRepository = h2Builder.retainedRepository();
if (cnode instanceof TNode) {
// this inode is a tomb, has no clients and should be cleaned up
// Because we implemented cleanTomb below, this should be rare, but possible
// Consider calling cleanTomb here too
return Action.OK;
}
if (cnode.containsOnly(clientId) && topic.isEmpty() && cnode.allChildren().isEmpty()) {
// last client to leave this node, AND there are no downstream children, remove via TNode tomb
if (inode == this.root) {
return inode.compareAndSet(cnode, inode.mainNode().copy()) ? Action.OK : Action.REPEAT;
}
TNode tnode = new TNode();
return inode.compareAndSet(cnode, tnode) ? cleanTomb(inode, iParent) : Action.REPEAT;
} else if (cnode.contains(clientId) && topic.isEmpty()) {
CNode updatedCnode = cnode.copy();
final String keyPassword = props.getProperty(BrokerConstants.KEY_MANAGER_PASSWORD_PROPERTY_NAME);
if (keyPassword == null || keyPassword.isEmpty()) {
LOG.warn("The key manager password is null or empty. The SSL context won't be initialized.");
return null;
}
try {
SslProvider sslProvider = getSSLProvider();
KeyStore ks = loadKeyStore();
SslContextBuilder contextBuilder;
switch (sslProvider) {
case JDK:
contextBuilder = builderWithJdkProvider(ks, keyPassword);
break;
case OPENSSL:
case OPENSSL_REFCNT:
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
4
.gitignore
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,5 @@
/build
*/build/
/target/
/target/
/parser/target/
/parser/target/
/benchmarking/target/
Edit file
Delete file
@@ -11,3 +11,6 @@ charset = utf-8
indent_style = space
indent_size = 4
max_line_length=120
[*.gradle]
indent_size = 2
4
.gitignore
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,5 @@
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
return sslContext;
} catch (GeneralSecurityException | IOException ex) {
LOG.error("Unable to initialize SSL context.", ex);
return null;
}
}
private KeyStore loadKeyStore() throws IOException, GeneralSecurityException {
final String jksPath = props.getProperty(BrokerConstants.JKS_PATH_PROPERTY_NAME);
LOG.info("Initializing SSL context. KeystorePath = {}.", jksPath);
if (jksPath == null || jksPath.isEmpty()) {
// key_store_password or key_manager_password are empty
LOG.warn("The keystore path is null or empty. The SSL context won't be initialized.");
return null;
}
// if we have the port also the jks then keyStorePassword and keyManagerPassword
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
Pull requests · moquette-io/moquette · GitHub
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
8
Milestones
6
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
😄
🎉
😕
❤️
🚀
👀
Retained message with QoS 0
#125
opened Nov 11, 2015 by
env3d
5
[FR]Moquette clusters
feature req
#131
opened Dec 11, 2015 by
pabloa
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
return new FileInputStream(jksFile);
}
throw new FileNotFoundException("The keystore file does not exist. Url = " + jksFile.getAbsolutePath());
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
<goal>test-jar</goal>
</goals>
</execution>
</executions>
</plugin>
<!-- Includes to generate OSGi headers -->
<plugin>
<artifactId>maven-jar-plugin</artifactId>
<configuration>
<archive>
</archive>
</configuration>
<executions>
<execution>
<goals>
<goal>test-jar</goal>
</goals>
} else {
LOG.trace("Configuring in-memory subscriptions store");
subscriptionsRepository = new MemorySubscriptionsRepository();
queueRepository = new MemoryQueueRepository();
retainedRepository = new MemoryRetainedRepository();
}
ISubscriptionsDirectory subscriptions = new CTrieSubscriptionDirectory();
subscriptions.init(subscriptionsRepository);
SessionRegistry sessions = new SessionRegistry(subscriptions, queueRepository);
dispatcher = new PostOffice(subscriptions, authorizatorPolicy, new MemoryRetainedRepository(), sessions,
dispatcher = new PostOffice(subscriptions, authorizatorPolicy, retainedRepository, sessions,
interceptor);
final BrokerConfiguration brokerConfig = new BrokerConfiguration(config);
MQTTConnectionFactory connectionFactory = new MQTTConnectionFactory(brokerConfig, authenticator, sessions,
5
broker/src/main/java/io/moquette/persistence/H2Builder.java
updatedCnode.removeSubscriptionsFor(clientId);
return inode.compareAndSet(cnode, updatedCnode) ? Action.OK : Action.REPEAT;
} else {
//someone else already removed
return Action.OK;
}
}
}
/**
*
* Cleans Disposes of TNode in separate Atomic CAS operation per
* http://bravenewgeek.com/breaking-and-entering-lose-the-lock-while-embracing-concurrency/
*
* We roughly follow this theory above, but we allow CNode with no Subscriptions to linger (for now).
*
*
contextBuilder = builderWithOpenSSLProvider(ks, keyPassword);
break;
default:
LOG.error("unsupported SSL provider {}", sslProvider);
return null;
}
// if client authentification is enabled a trustmanager needs to be added to the ServerContext
String sNeedsClientAuth = props.getProperty(BrokerConstants.NEED_CLIENT_AUTH, "false");
if (Boolean.valueOf(sNeedsClientAuth)) {
addClientAuthentication(ks, contextBuilder);
}
contextBuilder.sslProvider(sslProvider);
SslContext sslContext = contextBuilder.build();
LOG.info("The SSL context has been initialized successfully.");
return sslContext;
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
156 Closed
14 Open
156 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Labels
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
/benchmarking/target/
@@ -31,7 +33,6 @@ broker/runner
.mtj.tmp/
.mtj.tmp/
# Package Files #
# Package Files #
*.jar
*.war
*.war
*.ear
*.ear
@@ -43,3 +44,4 @@ broker/nb-configuration.xml
broker/nbactions-Server.xml
broker/nbactions-Server.xml
maven-metadata.xml
/build
*/build/
/target/
/parser/target/
/benchmarking/target/
@@ -31,7 +33,6 @@ broker/runner
.mtj.tmp/
# Package Files #
*.jar
*.war
*.ear
@@ -43,3 +44,4 @@ broker/nb-configuration.xml
broker/nbactions-Server.xml
maven-metadata.xml
/.gradle/
10
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Pull requests · moquette-io/moquette · GitHub
// has to be defined
final String keyStorePassword = props.getProperty(BrokerConstants.KEY_STORE_PASSWORD_PROPERTY_NAME);
final String keyManagerPassword = props.getProperty(BrokerConstants.KEY_MANAGER_PASSWORD_PROPERTY_NAME);
if (keyStorePassword == null || keyStorePassword.isEmpty()) {
// key_store_password or key_manager_password are empty
LOG.warn("The keystore password is null or empty. The SSL context won't be initialized.");
return null;
}
if (keyManagerPassword == null || keyManagerPassword.isEmpty()) {
// key_manager_password or key_manager_password are empty
LOG.warn("The key manager password is null or empty. The SSL context won't be initialized.");
return null;
String ksType = props.getProperty(BrokerConstants.KEY_STORE_TYPE, "jks");
final KeyStore keyStore = KeyStore.getInstance(ksType);
LOG.info("Loading keystore. KeystorePath = {}.", jksPath);
try (InputStream jksInputStream = jksDatastore(jksPath)) {
Pull requests · moquette-io/moquette · GitHub
Issues · moquette-io/moquette · GitHub
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
Pull requests · moquette-io/moquette · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
0.9
19
Avoid OutOfMemory error
feature req
#141
opened Jan 17, 2016 by
andsel
0.9
3
Allow for multiple server side clients to share a topic with queue behavior...
feature req
#158
opened Mar 4, 2016 by
redboy1972
4
Authentication interface should return Optional< Principal>
🎉
😕
❤️
🚀
👀
[FR]Moquette clusters
feature req
#131
opened Dec 11, 2015 by
pabloa
0.9
19
How to forcefully disconnect the client from the broker?
#469
opened Apr 8, 2019 by
giri110890
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
</execution>
</executions>
</plugin>
<plugin>
<groupId>org.apache.felix</groupId>
<artifactId>maven-bundle-plugin</artifactId>
<executions>
<execution>
<id>bundle-manifest</id>
<phase>process-classes</phase>
<goals>
<goal>manifest</goal>
</goals>
</execution>
</executions>
Show comments
View file
Edit file
Delete file
@@ -2,6 +2,7 @@
import io.moquette.BrokerConstants;
import io.moquette.broker.IQueueRepository;
import io.moquette.broker.IRetainedRepository;
import io.moquette.broker.ISubscriptionsRepository;
import io.moquette.broker.config.IConfig;
import org.h2.mvstore.MVStore;
@@ -57,4 +58,8 @@ public void closeStore() {
* @param inode inode that handle to the tomb node.
* @param iParent inode parent.
* @return REPEAT if the this methods wasn't successful or OK.
*/
private Action cleanTomb(INode inode, INode iParent) {
CNode updatedCnode = iParent.mainNode().copy();
updatedCnode.remove(inode);
return iParent.compareAndSet(iParent.mainNode(), updatedCnode) ? Action.OK : Action.REPEAT;
}
public int size() {
SubscriptionCounterVisitor visitor = new SubscriptionCounterVisitor();
dfsVisit(this.root, visitor, 0);
return visitor.getResult();
}
public String dumpTree() {
} catch (GeneralSecurityException | IOException ex) {
LOG.error("Unable to initialize SSL context.", ex);
return null;
}
}
private KeyStore loadKeyStore() throws IOException, GeneralSecurityException {
final String jksPath = props.getProperty(BrokerConstants.JKS_PATH_PROPERTY_NAME);
final String jksPath = props.getProperty(BrokerConstants.JKS_PATH_PROPERTY_NAME);
LOG.info("Initializing SSL context. KeystorePath = {}.", jksPath);
LOG.info("Initializing SSL context. KeystorePath = {}.", jksPath);
if (jksPath == null || jksPath.isEmpty()) {
if (jksPath == null || jksPath.isEmpty()) {
// key_store_password or key_manager_password are empty
LOG.warn("The keystore path is null or empty. The SSL context won't be initialized.");
LOG.warn("The keystore path is null or empty. The SSL context won't be initialized.");
return null;
🎉
😕
❤️
🚀
👀
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
updated Oct 22, 2020
1
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
micw
updated Sep 16, 2020
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
maven-metadata.xml
/.gradle/
10
.travis.yml
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,13 @@
language: java
language: java
jdk:
jdk:
- oraclejdk8
- oraclejdk8
.travis.yml
Show comments
View file
Edit file
Delete file
@@ -1,3 +1,13 @@
language: java
jdk:
- oraclejdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
directories:
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
client can't reconnect to the broker once exception happened inner processSubscribe()
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
keyStore.load(jksInputStream, keyStorePassword.toCharArray());
}
return keyStore;
}
// if client authentification is enabled a trustmanager needs to be
// added to the ServerContext
String sNeedsClientAuth = props.getProperty(BrokerConstants.NEED_CLIENT_AUTH, "false");
boolean needsClientAuth = Boolean.valueOf(sNeedsClientAuth);
private static SslContextBuilder builderWithJdkProvider(KeyStore ks, String keyPassword)
throws GeneralSecurityException {
LOG.info("Initializing key manager...");
final KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
kmf.init(ks, keyPassword.toCharArray());
LOG.info("Initializing SSL context...");
return SslContextBuilder.forServer(kmf);
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Clear current search query, filters, and sorts
63 Open
314 Closed
63 Open
314 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
feature req
#176
opened May 6, 2016 by
windbender
2
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
stayclean
1
Server API to get subscriptions information
feature req
#207
opened Sep 14, 2016 by
9
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
republishing messages fails....
bug
#234
opened Nov 17, 2016 by
windbender
7
distribute
#458
opened Mar 18, 2019 by
dqqzj
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
<configuration>
<instructions>
<Export-Package>
io.moquette.persistence,
io.moquette.server.config,
io.moquette.spi,
io.moquette.spi.impl.subscriptions,
</Export-Package>
<Embed-Dependency>
com.bugsnag;bugsnag,
com.librato.metrics;metrics-librato,
com.librato.metrics;librato-java,
</Embed-Dependency>
</instructions>
</configuration>
public IQueueRepository queueRepository() {
return new H2QueueRepository(mvStore);
}
public IRetainedRepository retainedRepository() {
return new H2RetainedRepository(mvStore);
}
}
55
broker/src/main/java/io/moquette/persistence/H2RetainedRepository.java
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,55 @@
package io.moquette.persistence;
DumpTreeVisitor visitor = new DumpTreeVisitor();
dfsVisit(this.root, visitor, 0);
return visitor.getResult();
}
private void dfsVisit(INode node, IVisitor<?> visitor, int deep) {
if (node == null) {
return;
}
visitor.visit(node.mainNode(), deep);
++deep;
for (INode child : node.mainNode().allChildren()) {
dfsVisit(child, visitor, deep);
}
}
}
return null;
}
}
// if we have the port also the jks then keyStorePassword and keyManagerPassword
// has to be defined
final String keyStorePassword = props.getProperty(BrokerConstants.KEY_STORE_PASSWORD_PROPERTY_NAME);
final String keyStorePassword = props.getProperty(BrokerConstants.KEY_STORE_PASSWORD_PROPERTY_NAME);
final String keyManagerPassword = props.getProperty(BrokerConstants.KEY_MANAGER_PASSWORD_PROPERTY_NAME);
if (keyStorePassword == null || keyStorePassword.isEmpty()) {
if (keyStorePassword == null || keyStorePassword.isEmpty()) {
// key_store_password or key_manager_password are empty
LOG.warn("The keystore password is null or empty. The SSL context won't be initialized.");
LOG.warn("The keystore password is null or empty. The SSL context won't be initialized.");
return null;
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
opened Jul 23, 2020 by
dsoulayrol
updated Jul 23, 2020
NullPointerException in CTrie.evaluate
#529
opened May 13, 2020 by
hylkevds
updated May 25, 2020
1
3
Publish javadoc & sources of 0.13
#528
opened May 13, 2020 by
hylkevds
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
🎉
😕
❤️
🚀
👀
Allow for multiple server side clients to share a topic with queue behavior...
feature req
#158
opened Mar 4, 2016 by
redboy1972
updated Jun 4, 2016
4
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
stayclean
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
directories:
- $HOME/.gradle/caches/
- $HOME/.gradle/wrapper/
script:
- ./gradlew install test
5
README.md
Show comments
View file
Edit file
- $HOME/.gradle/caches/
- $HOME/.gradle/wrapper/
script:
- ./gradlew install test
5
README.md
Show comments
View file
Edit file
Delete file
@@ -64,6 +64,7 @@ Include dependency in your project:
## Build from sources
After a git clone of the repository, cd into the cloned sources and: `mvn clean package`.
In distribution/target directory will be produced the selfcontained tar for the broker with all dependencies and a running script.
After a git clone of the repository, cd into the cloned sources and: `./gradlew clean distribution:distMoquetteTar` or
#388
opened Feb 6, 2018 by
fjcyue
6
Add Ping Request handling to the interceptors
#481
opened Jun 5, 2019 by
djbr-david
6
Potential Bug in NextPacketID
bug
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
}
try {
LOG.info("Loading keystore. KeystorePath = {}.", jksPath);
InputStream jksInputStream = jksDatastore(jksPath);
SSLContext serverContext = SSLContext.getInstance("TLS");
final KeyStore ks = KeyStore.getInstance("JKS");
ks.load(jksInputStream, keyStorePassword.toCharArray());
LOG.info("Initializing key manager...");
final KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
kmf.init(ks, keyManagerPassword.toCharArray());
TrustManager[] trustManagers = null;
if (needsClientAuth) {
LOG.warn(
"Client authentication is enabled. "
+ "The keystore will be used as a truststore. KeystorePath = {}.",
jksPath);
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
😕
❤️
🚀
👀
client can't reconnect to the broker once exception happened inner processSubscribe()
#388
opened Feb 6, 2018 by
fjcyue
6
Add Ping Request handling to the interceptors
#481
opened Jun 5, 2019 by
djbr-david
6
Potential Bug in NextPacketID
teranisi
3
Intermittent concurrentModificationExceptions
bug
#208
opened Sep 14, 2016 by
kjayashankar
1
when protocol processor is inited with ssl port the word "disabled" is used to indicate the server name
#209
opened Sep 15, 2016 by
windbender
checkHeaderAvailability don't check max remaininglength
#217
opened Oct 12, 2016 by
7
Add Ping Request handling to the interceptors
#481
opened Jun 5, 2019 by
djbr-david
6
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
mpe85
6
client can't reconnect to the broker once exception happened inner processSubscribe()
#388
opened Feb 6, 2018 by
fjcyue
</plugin>
</plugins>
</build>
<distributionManagement>
<repository>
<id>bintray</id>
</repository>
</distributionManagement>
</project>
Copy lines
Copy permalink
View git blame
import io.moquette.broker.IRetainedRepository;
import io.moquette.broker.RetainedMessage;
import io.moquette.broker.subscriptions.Topic;
import io.netty.buffer.ByteBuf;
import io.netty.handler.codec.mqtt.MqttPublishMessage;
import org.h2.mvstore.MVMap;
import org.h2.mvstore.MVStore;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
public class H2RetainedRepository implements IRetainedRepository {
private final MVMap<Topic, RetainedMessage> queueMap;
public H2RetainedRepository(MVStore mvStore) {
this.queueMap = mvStore.openMap("retained_store");
}
@Override
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit 80daadf
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
return null;
}
}
if (keyManagerPassword == null || keyManagerPassword.isEmpty()) {
String ksType = props.getProperty(BrokerConstants.KEY_STORE_TYPE, "jks");
// key_manager_password or key_manager_password are empty
final KeyStore keyStore = KeyStore.getInstance(ksType);
LOG.warn("The key manager password is null or empty. The SSL context won't be initialized.");
LOG.info("Loading keystore. KeystorePath = {}.", jksPath);
return null;
try (InputStream jksInputStream = jksDatastore(jksPath)) {
keyStore.load(jksInputStream, keyStorePassword.toCharArray());
}
}
return keyStore;
}
updated May 13, 2020
Buffering settings to reduce latency
#527
opened May 8, 2020 by
impliedx
updated May 13, 2020
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
mjacoby
updated Mar 31, 2020
queue is full
#521
opened Mar 28, 2020 by
arifainchtein
😕
❤️
🚀
👀
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
4
Make the number of Netty worker threads number configurable
#468
opened Apr 8, 2019 by
komamitsu
1
fix trie match bug and bytesMetrics bug
#479
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Messages are delayed ~1s
#535
by micw
was closed Sep 16, 2020
2
I tried to build a broker server with my own authentication of users,but it doesn't work
updated Sep 12, 2016
1
Authentication interface should return Optional< Principal>
feature req
#176
opened May 6, 2016 by
windbender
updated Sep 12, 2016
2
Server API to get subscriptions information
feature req
#207
opened Sep 14, 2016 by
teranisi
updated Sep 14, 2016
3
when protocol processor is inited with ssl port the word "disabled" is used to indicate the server name
Delete file
@@ -64,6 +64,7 @@ Include dependency in your project:
## Build from sources
## Build from sources
After a git clone of the repository, cd into the cloned sources and: `mvn clean package`.
After a git clone of the repository, cd into the cloned sources and: `./gradlew clean distribution:distMoquetteTar` or
In distribution/target directory will be produced the selfcontained tar for the broker with all dependencies and a running script.
`./gradlew clean distribution:distMoquetteZip`.
In distribution/build directory will be produced the selfcontained file for the broker with all dependencies and a running script.
51
broker/build.gradle
Show comments
View file
`./gradlew clean distribution:distMoquetteZip`.
In distribution/build directory will be produced the selfcontained file for the broker with all dependencies and a running script.
51
broker/build.gradle
Show comments
View file
Edit file
Delete file
@@ -0,0 +1,51 @@
description = 'Moquette - broker'
apply plugin: 'osgi'
apply plugin: 'maven'
dependencies {
compile group: 'io.netty', name: 'netty-common', version: nettyVersion
compile group: 'io.netty', name: 'netty-buffer', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport', version: nettyVersion
#237
opened Nov 29, 2016 by
peacecoder
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
zhengyangyong
3
Will Message lost if client reconnect before server clear the old connection
#366
opened Oct 22, 2017 by
fjcyue
1
1
Mqtt websocket http
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
// use keystore as truststore, as server needs to trust certificates signed by the
// server certificates
TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
tmf.init(ks);
trustManagers = tmf.getTrustManagers();
/**
* certificate and key in order to provide it to OpenSSL.
* <p>
* TODO: SNI is currently not supported, we use only the first found private key.
*/
private static SslContextBuilder builderWithOpenSSLProvider(KeyStore ks, String keyPassword)
throws GeneralSecurityException {
for (String alias : Collections.list(ks.aliases())) {
if (ks.entryInstanceOf(alias, KeyStore.PrivateKeyEntry.class)) {
PrivateKey key = (PrivateKey) ks.getKey(alias, keyPassword.toCharArray());
Certificate[] chain = ks.getCertificateChain(alias);
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Server API to get subscriptions information
feature req
#207
opened Sep 14, 2016 by
teranisi
3
Publish javadoc & sources of 0.13
#528
opened May 13, 2020 by
hylkevds
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
opened Jul 23, 2020 by
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
if unchecked exception is throw while running processSubscription then remove() will never be called
#316
opened May 19, 2017 by
windbender
Publish javadoc & sources of 0.13
#528
opened May 13, 2020 by
hylkevds
Moquette & 2-way SSL authentication
#508
opened Nov 25, 2019 by
lukaszsoszynski
Will it be compatible with Graalvm in the future?
#509
opened Dec 12, 2019 by
coolbeevip
bug
#237
opened Nov 29, 2016 by
peacecoder
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
zhengyangyong
3
Will Message lost if client reconnect before server clear the old connection
#366
opened Oct 22, 2017 by
fjcyue
1
1
Mqtt websocket http
beyondfengyu
1
republishing messages fails....
bug
#234
opened Nov 17, 2016 by
windbender
7
processConnectionLost miss to remove the subscriptions of the client
question
#236
opened Nov 18, 2016 by
shuzhongling
1
Potential Bug in NextPacketID
bug
6
Retained message with QoS 0
#125
opened Nov 11, 2015 by
env3d
5
Bridging to a cloud broker [Microsoft Azure -- IOT Hub] ?
#513
opened Jan 17, 2020 by
carlsberg-stack
5
Allow for multiple server side clients to share a topic with queue behavior...
feature req
#158
opened Mar 4, 2016 by
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
public void cleanRetained(Topic topic) {
queueMap.remove(topic);
}
@Override
public void retain(Topic topic, MqttPublishMessage msg) {
final ByteBuf payload = msg.content();
byte[] rawPayload = new byte[payload.readableBytes()];
payload.getBytes(0, rawPayload);
final RetainedMessage toStore = new RetainedMessage(msg.fixedHeader().qosLevel(), rawPayload);
queueMap.put(topic, toStore);
}
@Override
public boolean isEmpty() {
return queueMap.isEmpty();
}
@Override
public List<RetainedMessage> retainedOnTopic(String topic) {
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
// if client authentification is enabled a trustmanager needs to be
private static SslContextBuilder builderWithJdkProvider(KeyStore ks, String keyPassword)
// added to the ServerContext
throws GeneralSecurityException {
String sNeedsClientAuth = props.getProperty(BrokerConstants.NEED_CLIENT_AUTH, "false");
LOG.info("Initializing key manager...");
boolean needsClientAuth = Boolean.valueOf(sNeedsClientAuth);
final KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
kmf.init(ks, keyPassword.toCharArray());
LOG.info("Initializing SSL context...");
return SslContextBuilder.forServer(kmf);
}
try {
/**
LOG.info("Loading keystore. KeystorePath = {}.", jksPath);
InputStream jksInputStream = jksDatastore(jksPath);
updated Mar 28, 2020
java.lang.NoSuchMethodError: No static method encodeHexString([B)Ljava/lang/String; in class Lorg/apache/commons/codec/binary/Hex; or its super classes
#518
opened Feb 27, 2020 by
carlsberg-stack
updated Feb 28, 2020
BUG - null Session in subscribe procedure
#517
opened Feb 14, 2020 by
BigGitWorld
updated Feb 14, 2020
Question: disconnecting a client when authentication details removed
#516
opened Jan 23, 2020 by
MattyyttaM
updated Jan 23, 2020
opened Jun 2, 2019 by
ilylia
4
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
#526
by abcdef123ghi
was closed May 16, 2020
3
java.lang.NoClassDefFoundError
#525
by manish9161
was closed May 13, 2020
1
is Moquette thread safe?
#524
by freelanceroad
was closed May 13, 2020
#209
opened Sep 15, 2016 by
windbender
updated Sep 15, 2016
Intermittent concurrentModificationExceptions
bug
#208
opened Sep 14, 2016 by
kjayashankar
updated Sep 22, 2016
1
checkHeaderAvailability don't check max remaininglength
Edit file
Delete file
@@ -0,0 +1,51 @@
description = 'Moquette - broker'
apply plugin: 'osgi'
apply plugin: 'maven'
dependencies {
compile group: 'io.netty', name: 'netty-common', version: nettyVersion
compile group: 'io.netty', name: 'netty-buffer', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport', version: nettyVersion
compile group: 'io.netty', name: 'netty-handler', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-http', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-mqtt', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport-native-epoll', version: nettyVersion, classifier: 'linux-x86_64'
compile group: 'io.netty', name: 'netty-handler', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-http', version: nettyVersion
compile group: 'io.netty', name: 'netty-codec-mqtt', version: nettyVersion
compile group: 'io.netty', name: 'netty-transport-native-epoll', version: nettyVersion, classifier: 'linux-x86_64'
compile group: 'io.dropwizard.metrics', name: 'metrics-core', version:'3.2.2'
compile group: 'io.dropwizard.metrics', name: 'metrics-jvm', version:'3.2.2'
compile group: 'com.librato.metrics', name: 'metrics-librato', version:'5.1.0'
compile group: 'com.librato.metrics', name: 'librato-java' , version:'2.1.0'
compile group: 'com.bugsnag', name: 'bugsnag', version:'[3.0,4.0)'
compile group: 'commons-codec', name: 'commons-codec', version:'1.10'
// compile group: 'org.hdrhistogram', name: 'HdrHistogram', version:'2.1.4'
#538
opened Oct 22, 2020 by
strautins
1
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
mpe85
6
Buffering settings to reduce latency
#527
opened May 8, 2020 by
impliedx
1
checkHeaderAvailability don't check max remaininglength
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
X509Certificate[] certChain = new X509Certificate[chain.length];
System.arraycopy(chain, 0, certChain, 0, chain.length);
return SslContextBuilder.forServer(key, certChain);
}
// init sslContext
LOG.info("Initializing SSL context...");
serverContext.init(kmf.getKeyManagers(), trustManagers, null);
LOG.info("The SSL context has been initialized successfully.");
}
throw new KeyManagementException("the SSL key-store does not contain a private key");
}
return serverContext;
} catch (NoSuchAlgorithmException | UnrecoverableKeyException | CertificateException | KeyStoreException
| KeyManagementException | IOException ex) {
LOG.error(
ex.getCause(),
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
dsoulayrol
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
edenmob
1
Significant (>90%) message loss under heavy load
#480
opened Jun 5, 2019 by
flonix8
2
InterceptAcknowledgedMessage.StoredMessage is inaccessible
#444
opened Jan 14, 2019 by
austinw-fineart
0.13
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
moquette-io
/
moquette
Watch
159
Star
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
queue is full
#521
opened Mar 28, 2020 by
arifainchtein
Publish Failed Acknowledgment
#433
opened Oct 22, 2018 by
BigGitWorld
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
#538
opened Oct 22, 2020 by
strautins
1
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
mpe85
6
Buffering settings to reduce latency
#527
opened May 8, 2020 by
impliedx
1
checkHeaderAvailability don't check max remaininglength
#237
opened Nov 29, 2016 by
peacecoder
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
ThomasSchemmer
3
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
redboy1972
4
NullPointerException in CTrie.evaluate
#529
opened May 13, 2020 by
hylkevds
1
3
failed to allocate 16777216 byte(s) of direct memory
#466
opened Apr 4, 2019 by
FengXMGeek
3
NullPointerException.I think is a bug
#473
opened Apr 22, 2019 by
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
final Topic searchTopic = new Topic(topic);
final List<RetainedMessage> matchingMessages = new ArrayList<>();
for (Map.Entry<Topic, RetainedMessage> entry : queueMap.entrySet()) {
final Topic scanTopic = entry.getKey();
if (searchTopic.match(scanTopic)) {
matchingMessages.add(entry.getValue());
}
}
return matchingMessages;
}
}
10
broker/src/test/java/io/moquette/broker/PostOfficePublishTest.java
Show comments
View file
Edit file
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
* certificate and key in order to provide it to OpenSSL.
SSLContext serverContext = SSLContext.getInstance("TLS");
* <p>
final KeyStore ks = KeyStore.getInstance("JKS");
* TODO: SNI is currently not supported, we use only the first found private key.
ks.load(jksInputStream, keyStorePassword.toCharArray());
*/
LOG.info("Initializing key manager...");
private static SslContextBuilder builderWithOpenSSLProvider(KeyStore ks, String keyPassword)
final KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
throws GeneralSecurityException {
kmf.init(ks, keyManagerPassword.toCharArray());
for (String alias : Collections.list(ks.aliases())) {
NullPointerException.I think is a bug
#473
opened Apr 22, 2019 by
liuhanjim
updated Jan 22, 2020
3
Bridging to a cloud broker [Microsoft Azure -- IOT Hub] ?
#513
opened Jan 17, 2020 by
carlsberg-stack
updated Jan 20, 2020
5
Moquette shows topics, but subscribers won't receive anything - Subscription missing?
#510
opened Dec 18, 2019 by
beniroquai
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
one get
#520
opened Mar 4, 2020 by
luoliangtiger
Bugfix/stop broker interceptor
#530
opened May 26, 2020 by
Northram511
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
1
Publish message takes 1 second to arrive on consumer
#515
by janssk1
was closed Apr 11, 2020
0.13
8
Broker not working for Android API greater than 26
#514
by salmanshkt
was closed Jan 22, 2020
1
Could not instantiate class
#512
by rasik1991
was closed Jan 7, 2020
#217
opened Oct 12, 2016 by
beyondfengyu
updated Oct 14, 2016
1
Potential Bug in NextPacketID
bug
#237
opened Nov 29, 2016 by
peacecoder
updated Dec 13, 2016
processConnectionLost miss to remove the subscriptions of the client
question
#236
opened Nov 18, 2016 by
shuzhongling
updated Dec 14, 2016
compile group: 'io.dropwizard.metrics', name: 'metrics-core', version:'3.2.2'
compile group: 'io.dropwizard.metrics', name: 'metrics-jvm', version:'3.2.2'
compile group: 'com.librato.metrics', name: 'metrics-librato', version:'5.1.0'
compile group: 'com.librato.metrics', name: 'librato-java' , version:'2.1.0'
compile group: 'com.bugsnag', name: 'bugsnag', version:'[3.0,4.0)'
compile group: 'commons-codec', name: 'commons-codec', version:'1.10'
// compile group: 'org.hdrhistogram', name: 'HdrHistogram', version:'2.1.4'
compile group: 'com.hazelcast', name: 'hazelcast', version:'3.5.4'
testCompile group: 'org.fusesource.mqtt-client', name: 'mqtt-client', version:'1.12'
testCompile group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version:'1.0.2'
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.191'
}
task createPom () {
}
compile group: 'com.hazelcast', name: 'hazelcast', version:'3.5.4'
testCompile group: 'org.fusesource.mqtt-client', name: 'mqtt-client', version:'1.12'
testCompile group: 'org.eclipse.paho', name: 'org.eclipse.paho.client.mqttv3', version:'1.0.2'
testCompile group: 'org.eclipse.jetty.websocket', name: 'websocket-client', version:'9.2.0.M1'
testCompile group: 'com.h2database', name: 'h2', version:'1.4.191'
}
task createPom () {
}
jar {
manifest {
instruction 'Bundle-Description', 'Moquette lightweight MQTT Broker'
instruction 'Bundle-License', 'http://www.apache.org/licenses/LICENSE-2.0.txt, http://www.eclipse.org/org/documents/epl-v10.php'
instruction 'Import-Package', '!com.codahale.metrics*, !com.bugsnag*, !com.librato.metrics*, *'
#217
opened Oct 12, 2016 by
beyondfengyu
1
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
opened Jul 23, 2020 by
dsoulayrol
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
edenmob
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
ex.getMessage());
return null;
private static void addClientAuthentication(KeyStore ks, SslContextBuilder contextBuilder)
throws NoSuchAlgorithmException, KeyStoreException {
LOG.warn("Client authentication is enabled. The keystore will be used as a truststore.");
// use keystore as truststore, as server needs to trust certificates signed by the server certificates
TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
tmf.init(ks);
contextBuilder.clientAuth(ClientAuth.REQUIRE);
contextBuilder.trustManager(tmf);
}
private SslProvider getSSLProvider() {
String providerName = props.getProperty(BrokerConstants.SSL_PROVIDER, SslProvider.JDK.name());
try {
return SslProvider.valueOf(providerName);
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Issues
63
Pull requests
14
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
3
distribute
#458
opened Mar 18, 2019 by
dqqzj
7
Question: disconnecting a client when authentication details removed
#516
opened Jan 23, 2020 by
MattyyttaM
Add Ping Request handling to the interceptors
1.7k
Fork
670
Code
Issues
63
Pull requests
14
Actions
Projects
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
8
Milestones
6
mjacoby
Connection dropped when publishing message with payload greater 8KB.
#503
opened Aug 30, 2019 by
r-t-s
java.lang.NoSuchMethodError: No static method encodeHexString([B)Ljava/lang/String; in class Lorg/apache/commons/codec/binary/Hex; or its super classes
#518
opened Feb 27, 2020 by
carlsberg-stack
Error processing protocol message: PUBACK
#217
opened Oct 12, 2016 by
beyondfengyu
1
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
opened Jul 23, 2020 by
dsoulayrol
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
edenmob
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
if unchecked exception is throw while running processSubscription then remove() will never be called
#316
opened May 19, 2017 by
windbender
Message size >64kB is not handled via Websocket connection.
#319
opened May 25, 2017 by
raipratheek
1
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
edenmob
1
Netty Leak Detection
liuhanjim
3
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
ThomasSchemmer
3
The server throws an exception when the message is received
#406
opened Jun 4, 2018 by
ma-yadong
3
Server API to get subscriptions information
feature req
#207
Reject
Save preferences
Delete file
@@ -390,7 +390,7 @@ public void cleanRetainedMessageStoreWhenPublishWithRetainedQos0IsReceived() {
sut.receivedPublishQos1(connection, new Topic(NEWS_TOPIC), TEST_USER, anyPayload, 1, true,
publishMsg);
assertMessageIsRetained(NEWS_TOPIC);
assertMessageIsRetained(NEWS_TOPIC, anyPayload);
// publish a QoS0 retained message
// Exercise
@@ -406,8 +406,10 @@ public void cleanRetainedMessageStoreWhenPublishWithRetainedQos0IsReceived() {
assertTrue("Retained message for topic /news must be cleared", retainedRepository.isEmpty());
}
private void assertMessageIsRetained(String expectedTopicName) {
MqttPublishMessage msg = retainedRepository.retainedOnTopic(expectedTopicName);
assertEquals(expectedTopicName, msg.variableHeader().topicName());
private void assertMessageIsRetained(String expectedTopicName, ByteBuf expectedPayload) {
TrustManager[] trustManagers = null;
if (ks.entryInstanceOf(alias, KeyStore.PrivateKeyEntry.class)) {
if (needsClientAuth) {
PrivateKey key = (PrivateKey) ks.getKey(alias, keyPassword.toCharArray());
LOG.warn(
Certificate[] chain = ks.getCertificateChain(alias);
"Client authentication is enabled. "
X509Certificate[] certChain = new X509Certificate[chain.length];
+ "The keystore will be used as a truststore. KeystorePath = {}.",
System.arraycopy(chain, 0, certChain, 0, chain.length);
jksPath);
return SslContextBuilder.forServer(key, certChain);
// use keystore as truststore, as server needs to trust certificates signed by the
// server certificates
TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
tmf.init(ks);
updated Jan 2, 2020
1
Will it be compatible with Graalvm in the future?
#509
opened Dec 12, 2019 by
coolbeevip
updated Dec 12, 2019
Subscription breaks during performance test
#505
opened Oct 4, 2019 by
JinseonyLee
updated Dec 10, 2019
1
Moquette & 2-way SSL authentication
hylkevds
1
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Bump junit from 4.8.2 to 4.13.1
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
2
IOException: Address already in use
#511
by rasik1991
was closed Jan 7, 2020
1
a broker for Android
#502
by PCBzan
was closed Oct 1, 2019
1
Android: java.lang.NoSuchMethodError: No static method join
#501
by hasanalpzengin
was closed Oct 1, 2019
1
republishing messages fails....
bug
#234
opened Nov 17, 2016 by
windbender
updated Dec 14, 2016
7
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
ThomasSchemmer
updated Jan 24, 2017
3
Avoid OutOfMemory error
jar {
manifest {
instruction 'Bundle-Description', 'Moquette lightweight MQTT Broker'
instruction 'Bundle-License', 'http://www.apache.org/licenses/LICENSE-2.0.txt, http://www.eclipse.org/org/documents/epl-v10.php'
instruction 'Import-Package', '!com.codahale.metrics*, !com.bugsnag*, !com.librato.metrics*, *'
}
from "build/pom.xml"
}
}
jar.dependsOn createPom
282
broker/pom.xml
Show comments
}
from "build/pom.xml"
}
}
jar.dependsOn createPom
282
broker/pom.xml
Show comments
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
Oops, something went wrong.
mjacoby
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
micw
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
Significant (>90%) message loss under heavy load
#480
opened Jun 5, 2019 by
flonix8
2
In BytesMetrics wroteBytes always return 0
#425
Wiki
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
0 Open
1 Closed
} catch (IllegalArgumentException e) {
LOG.warn("unknown SSL Provider {}, falling back on JDK provider", providerName);
return SslProvider.JDK;
}
}
@@ -124,7 +182,6 @@ private InputStream jksDatastore(String jksPath) throws FileNotFoundException {
LOG.info("Loading external keystore. Url = {}.", jksFile.getAbsolutePath());
return new FileInputStream(jksFile);
}
LOG.warn("The keystore file does not exist. Url = {}.", jksFile.getAbsolutePath());
return null;
throw new FileNotFoundException("The keystore file does not exist. Url = " + jksFile.getAbsolutePath());
}
}
Oops, something went wrong.
Security
Insights
Labels
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
0 Open
0 Closed
0 Open
Actions
Projects
Wiki
Security
Insights
Pinned issues
MQTT durable subscription exception
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
Open
1
Labels
#481
opened Jun 5, 2019 by
djbr-david
6
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
zhengyangyong
3
Will Message lost if client reconnect before server clear the old connection
#366
opened Oct 22, 2017 by
fjcyue
1
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
0 Open
1 Closed
0 Open
1 Closed
Author
Filter by author
Label
Filter by label
#483
opened Jun 13, 2019 by
Demitrius
New configuration parameter : setting the HandshakeTimeout on SslHandler
#531
opened Jul 23, 2020 by
dsoulayrol
Question: disconnecting a client when authentication details removed
#516
opened Jan 23, 2020 by
MattyyttaM
when protocol processor is inited with ssl port the word "disabled" is used to indicate the server name
#209
opened Sep 15, 2016 by
windbender
How one port supports both unidirectional and two-way certificate authentication for TLS
#491
mjacoby
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
micw
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
Significant (>90%) message loss under heavy load
#480
opened Jun 5, 2019 by
flonix8
2
#356
opened Aug 31, 2017 by
somejavadev
1
cannot make a distinction between bad user and not authorized when connect
#359
opened Sep 5, 2017 by
rongwei84n
2
Will Message lost if client reconnect before server clear the old connection
#366
opened Oct 22, 2017 by
fjcyue
1
1
opened Sep 14, 2016 by
teranisi
3
Avoid OutOfMemory error
feature req
#141
opened Jan 17, 2016 by
andsel
0.9
3
InterceptAcknowledgedMessage.StoredMessage is inaccessible
#444
opened Jan 14, 2019 by
austinw-fineart
0.13
3
List<RetainedMessage> msgs = retainedRepository.retainedOnTopic(expectedTopicName);
assertEquals(1, msgs.size());
RetainedMessage msg = msgs.get(0);
assertEquals(ByteBufUtil.hexDump(expectedPayload), ByteBufUtil.hexDump(msg.getPayload()));
}
}
Toggle all file notes
0 comments
on commit 2138513
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
trustManagers = tmf.getTrustManagers();
}
}
// init sslContext
}
LOG.info("Initializing SSL context...");
throw new KeyManagementException("the SSL key-store does not contain a private key");
serverContext.init(kmf.getKeyManagers(), trustManagers, null);
}
LOG.info("The SSL context has been initialized successfully.");
return serverContext;
private static void addClientAuthentication(KeyStore ks, SslContextBuilder contextBuilder)
} catch (NoSuchAlgorithmException | UnrecoverableKeyException | CertificateException | KeyStoreException
throws NoSuchAlgorithmException, KeyStoreException {
| KeyManagementException | IOException ex) {
#508
opened Nov 25, 2019 by
lukaszsoszynski
updated Nov 25, 2019
MQTT SSL not working
#499
opened Aug 20, 2019 by
francesco98
updated Nov 9, 2019
1
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
updated Oct 10, 2019
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dsoulayrol
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
3
Connection Lost on Subscribe Message
#500
by hasanalpzengin
was closed Aug 27, 2019
1
OutOfMemory Error
#496
by BigGitWorld
was closed Aug 13, 2019
Is Moquette realtime?
question
#495
by BigGitWorld
was closed Aug 13, 2019
1
feature req
#141
opened Jan 17, 2016 by
andsel
updated Apr 14, 2017
0.9
3
if unchecked exception is throw while running processSubscription then remove() will never be called
#316
opened May 19, 2017 by
windbender
updated May 19, 2017
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
View file
Edit file
Delete file
Load diff
This file was deleted.
Oops, something went wrong.
Retry
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit e8b105f
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Retry
Toggle all file notes
0 comments
on commit e8b105f
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
opened Jul 27, 2018 by
mjpatelsls
1
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
ConcurrentModificationException while stress testing
invalid
#427
opened Aug 9, 2018 by
rakechan
2
BrokerInterceptor thread pool never closing on serverStop
0 Open
1 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Retry
Toggle all file notes
0 comments
on commit d50a291
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
8
Milestones
6
Labels
8
Milestones
6
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
1
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
1
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
mpe85
6
Buffering settings to reduce latency
8
Milestones
6
Labels
8
Milestones
6
New pull request
New
Clear current search query, filters, and sorts
14 Open
154 Closed
14 Open
154 Closed
Author
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
opened Jul 30, 2019 by
cnneillee
Deploy -javadoc and -source jars
#465
opened Apr 1, 2019 by
joker1
Subscription storage
#482
opened Jun 12, 2019 by
BigGitWorld
Abnormal disconnection of the connection will result in InterceptHandler.onConnectionLost() called twice
#430
opened Sep 20, 2018 by
CoderBigL
getSubscriptions() always return an Empty list
#438
In BytesMetrics wroteBytes always return 0
#425
opened Jul 27, 2018 by
mjpatelsls
1
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
ConcurrentModificationException while stress testing
invalid
#427
opened Aug 9, 2018 by
rakechan
2
client can't reconnect to the broker once exception happened inner processSubscribe()
#388
opened Feb 6, 2018 by
fjcyue
6
The server throws an exception when the message is received
#406
opened Jun 4, 2018 by
ma-yadong
3
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
zhengyangyong
3
In BytesMetrics wroteBytes always return 0
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
zhengyangyong
3
Significant (>90%) message loss under heavy load
#480
opened Jun 5, 2019 by
flonix8
2
ConcurrentModificationException while stress testing
invalid
#427
opened Aug 9, 2018 by
rakechan
2
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
LOG.warn("Client authentication is enabled. The keystore will be used as a truststore.");
LOG.error(
// use keystore as truststore, as server needs to trust certificates signed by the server certificates
TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
ex.getCause(),
tmf.init(ks);
ex.getMessage());
contextBuilder.clientAuth(ClientAuth.REQUIRE);
return null;
contextBuilder.trustManager(tmf);
}
private SslProvider getSSLProvider() {
String providerName = props.getProperty(BrokerConstants.SSL_PROVIDER, SslProvider.JDK.name());
try {
return SslProvider.valueOf(providerName);
} catch (IllegalArgumentException e) {
failed to allocate 16777216 byte(s) of direct memory
#466
opened Apr 4, 2019 by
FengXMGeek
updated Sep 27, 2019
3
Plans to support MQTT 5?
#490
opened Jul 23, 2019 by
mpe85
updated Sep 20, 2019
6
Connection dropped when publishing message with payload greater 8KB.
#503
opened Aug 30, 2019 by
r-t-s
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Question : Persistent session in Moquette
#494
by BigGitWorld
was closed Aug 5, 2019
1
[Q] Embeded server. How to subscribe internal consumer
#493
by bademux
was closed Aug 1, 2019
5
Retained repository retainedOnTopic method calls Topic.match incorrectly
#488
by davesters
was closed Jul 21, 2019
1
canSkipQueue() returns false in QOS=1 while subscriber is connected to the broker
updated Jun 21, 2017
7
[FR]Moquette clusters
feature req
#131
opened Dec 11, 2015 by
pabloa
updated Jul 11, 2017
0.9
19
Retained message with QoS 0
#125
opened Nov 11, 2015 by
env3d
updated Aug 8, 2017
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
#506
opened Oct 9, 2019 by
bobrowskim
license is missing in artifact
#492
opened Jul 30, 2019 by
ascheman
Subscription breaks during performance test
#505
opened Oct 4, 2019 by
JinseonyLee
1
MQTT SSL not working
#499
opened Aug 20, 2019 by
Approved review
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
1 Open
0 Closed
1 Open
0 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
#527
opened May 8, 2020 by
impliedx
1
checkHeaderAvailability don't check max remaininglength
#217
opened Oct 12, 2016 by
beyondfengyu
1
Broker does not reject connections with clientId longer than 23 characters for MQTT v3.1
#522
opened Mar 31, 2020 by
mjacoby
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Reviews
Filter by reviews
No reviews
Review required
Approved review
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
No results matched your search.
opened Nov 19, 2018 by
abdollahpour
BUG - null Session in subscribe procedure
#517
opened Feb 14, 2020 by
BigGitWorld
license is missing in artifact
#492
opened Jul 30, 2019 by
ascheman
Potential Bug in NextPacketID
bug
#237
opened Nov 29, 2016 by
peacecoder
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
license is missing in artifact
#492
opened Jul 30, 2019 by
ascheman
Subscription breaks during performance test
#505
opened Oct 4, 2019 by
JinseonyLee
1
MQTT SSL not working
#499
opened Aug 20, 2019 by
#425
opened Jul 27, 2018 by
mjpatelsls
1
Previous 1 2 3 Next
Previous Next
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Authentication interface should return Optional< Principal>
feature req
#176
opened May 6, 2016 by
windbender
2
cannot make a distinction between bad user and not authorized when connect
#359
opened Sep 5, 2017 by
rongwei84n
2
Moquette shows topics, but subscribers won't receive anything - Subscription missing?
#510
opened Dec 18, 2019 by
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
LOG.warn("unknown SSL Provider {}, falling back on JDK provider", providerName);
return SslProvider.JDK;
}
}
}
}
@@ -124,7 +182,6 @@ private InputStream jksDatastore(String jksPath) throws FileNotFoundException {
LOG.info("Loading external keystore. Url = {}.", jksFile.getAbsolutePath());
LOG.info("Loading external keystore. Url = {}.", jksFile.getAbsolutePath());
return new FileInputStream(jksFile);
return new FileInputStream(jksFile);
}
}
LOG.warn("The keystore file does not exist. Url = {}.", jksFile.getAbsolutePath());
throw new FileNotFoundException("The keystore file does not exist. Url = " + jksFile.getAbsolutePath());
updated Aug 30, 2019
Will Message lost if client reconnect before server clear the old connection
#366
opened Oct 22, 2017 by
fjcyue
updated Aug 13, 2019
1
1
How to forcefully disconnect the client from the broker?
#469
opened Apr 8, 2019 by
giri110890
updated Aug 9, 2019
9
license is missing in artifact
#492
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
#487
by BigGitWorld
was closed Aug 10, 2019
3
Subscriber client does not receive pulished messages to the server
#485
by BigGitWorld
was closed Aug 10, 2019
9
java.lang.ClassNotFoundException: org.eclipse.moquette.spi.impl.subscriptions.Subscription in Android
#484
by mstranne
was closed Jun 18, 2019
6
Duplicate subscription
#477
5
Netty Leak Detection
#356
opened Aug 31, 2017 by
somejavadev
updated Aug 31, 2017
1
Authorizator based on client Certificate information
#328
opened Jun 15, 2017 by
edenmob
updated Sep 14, 2017
1
cannot make a distinction between bad user and not authorized when connect
#359
opened Sep 5, 2017 by
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
francesco98
1
Netty Leak Detection.
#467
opened Apr 4, 2019 by
kopens
1
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
ThomasSchemmer
3
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
😄
🎉
😕
❤️
🚀
👀
No results matched your search.
You could search all of GitHub or try an advanced search.
ProTip!
Mix and match filters to narrow down what you’re looking for.
© 2020 GitHub, Inc.
Terms
Privacy
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
😕
❤️
🚀
👀
No results matched your search.
You could search all of GitHub or try an advanced search.
ProTip!
Filter pull requests by the default branch with base:master.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Filter by milestone
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
micw
Error processing protocol message: PUBACK
#483
opened Jun 13, 2019 by
Demitrius
In BytesMetrics wroteBytes always return 0
#425
opened Jul 27, 2018 by
mjpatelsls
1
java.lang.ClassCastException: io.netty.handler.codec.http.HttpObjectAggregator$AggregatedFullHttpRequest cannot be cast to io.moquette.parser.proto.messages.AbstractMessage
#290
opened Mar 23, 2017 by
leesangboo
7
ConcurrentModificationException while stress testing
Changes requested
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
You could search all of GitHub or try an advanced search.
ProTip!
no:milestone will show everything without a milestone.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Embedding example throws java.lang.UnsupportedOperationException: direct buffer
#534
opened Sep 16, 2020 by
micw
Netty Leak Detection.
#467
opened Apr 4, 2019 by
kopens
1
Mqtt websocket http
#538
opened Oct 22, 2020 by
strautins
1
Previous 1 2 3 Next
Previous Next
francesco98
1
Netty Leak Detection.
#467
opened Apr 4, 2019 by
kopens
1
Exception: java.lang.NoClassDefFoundError: org/mapdb/DBMaker
#248
opened Jan 5, 2017 by
ThomasSchemmer
3
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
beniroquai
1
Previous 1 2 3 Next
Previous Next
ProTip!
Exclude everything labeled bug with -label:bug.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
return null;
}
}
}
}
Oops, something went wrong.
Retry
Toggle all file notes
0 comments
on commit d50a291
Please
sign in to comment.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
opened Jul 30, 2019 by
ascheman
updated Jul 30, 2019
Previous 1 2 3 Next
Previous Next
ProTip!
Adding no:label will show everything without a label.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
by BigGitWorld
was closed May 13, 2019
7
Subscribe to topics with wildcards
#476
by BigGitWorld
was closed May 13, 2019
2
Netty Leak Detected.
duplicate
#474
by kopens
was closed Apr 28, 2019
1
java.lang.NoSuchMethodError: io.netty.handler.codec.mqtt.MqttPublishVariableHeader.packetId()
bug
rongwei84n
updated Apr 29, 2018
2
The server throws an exception when the message is received
#406
opened Jun 4, 2018 by
ma-yadong
updated Jun 6, 2018
3
client can't reconnect to the broker once exception happened inner processSubscribe()
#388
opened Feb 6, 2018 by
fjcyue
updated Jul 26, 2018
6
stayclean
1
Previous 1 2 3 Next
Previous Next
ProTip!
Add no:assignee to see everything that’s not assigned.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
😕
❤️
🚀
👀
MQTT durable subscription exception
bug
#455
opened Mar 8, 2019 by
OleksandrBerezianskyi
0.13
1
ProTip!
Type g p on any issue or pull request to go back to the pull request listing page.
© 2020 GitHub, Inc.
Terms
Privacy
invalid
#427
opened Aug 9, 2018 by
rakechan
2
BrokerInterceptor thread pool never closing on serverStop
#506
opened Oct 9, 2019 by
bobrowskim
MQTT SSL not working
#499
opened Aug 20, 2019 by
francesco98
1
Netty Leak Detection.
#467
😕
❤️
🚀
👀
Moved flow of CONNECT completely inside MQTTConnection
#548
opened Nov 7, 2020 by
andsel
Added configuration item for handshake timeout on SSL channel (#531)
#547
opened Nov 5, 2020 by
dsoulayrol
Bump junit from 4.8.2 to 4.13.1
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
ProTip!
Exclude everything labeled bug with -label:bug.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
stayclean
1
Previous 1 2 3 Next
Previous Next
ProTip!
What’s not been updated in a month: updated:<2020-10-11.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
#472
by noordawod
was closed Apr 21, 2019
0.13
2
doesn't work with apache Httpd2.4?
#471
by cleverpig
was closed Apr 28, 2019
2
command between clients of two server
#470
by BigGitWorld
was closed Apr 28, 2019
5
In BytesMetrics wroteBytes always return 0
#425
opened Jul 27, 2018 by
mjpatelsls
updated Aug 6, 2018
1
Memory grows infinitely when Qos set 2
#423
opened Jul 10, 2018 by
zhengyangyong
updated Aug 12, 2018
3
Abnormal disconnection of the connection will result in InterceptHandler.onConnectionLost() called twice
#430
opened Sep 20, 2018 by
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
opened Apr 4, 2019 by
kopens
1
Repeating receiving non clear session messages.
bug
#197
opened Aug 11, 2016 by
stayclean
1
Previous 1 2 3 Next
Previous Next
ProTip!
Type g i on any issue or pull request to go back to the issue listing page.
© 2020 GitHub, Inc.
Terms
Privacy
dependencies
#544
opened Nov 2, 2020 by
dependabot
bot
Fix java 11+ build and tests
#533
opened Aug 14, 2020 by
hylkevds
1
Fixes #529, #505: NPE caused by matching on a TNode
#532
opened Aug 13, 2020 by
hylkevds
1
Bugfix/stop broker interceptor
Learn more
Accept
Reject
Save preferences
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Previous 1 2 3 4 5 … 12 13 Next
Previous Next
ProTip!
What’s not been updated in a month: updated:<2020-10-11.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
CoderBigL
updated Sep 20, 2018
Publish Failed Acknowledgment
#433
opened Oct 22, 2018 by
BigGitWorld
updated Oct 22, 2018
Previous 1 2 3 Next
Previous Next
ProTip!
Find all open issues with in progress development work with linked:pr.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
#530
opened May 26, 2020 by
Northram511
one get
#520
opened Mar 4, 2020 by
luoliangtiger
fixed throw NullPointerException when new connection
#519
opened Mar 2, 2020 by
luoliangtiger
Authentication changes
#507
opened Oct 11, 2019 by
ndchandar
2
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Java 11 compatibility
#498
opened Aug 17, 2019 by
qbast
Clean test storage on exit to prevent assert in next test
#497
opened Aug 16, 2019 by
qbast
fix trie match bug and bytesMetrics bug
#479
opened Jun 2, 2019 by
ilylia
4
Make the number of Netty worker threads number configurable
#468
Learn more
Accept
Reject
Save preferences
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
opened Apr 8, 2019 by
komamitsu
1
Fix a bug Session#resendInflightNotAcked() fails due to handling a freed ByteBuf
#464
opened Mar 31, 2019 by
komamitsu
4
ProTip!
Updated in the last three days: updated:>2020-11-08.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
