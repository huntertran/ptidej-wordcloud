Eclipse hawkBit
Eclipse hawkBit
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
IoT. Update. Device.
Eclipse hawkBit™ is a domain independent back-end framework for rolling out software updates
to constrained
edge devices as well as more powerful controllers and gateways connected to IP based networking
infrastructure.
Interfaces
hawkBit offers a direct device integration via HTTP or a device management federation API
which allows to connect devices with different protocol adapter. Users can make use of the graphical
user interface
and other service can interact with hawkBit through the RESTful management API.
Rollout
hawkBit supports an easy and flexible rollout management which allows you to update a large
amount of devices in separated groups.
Cascading start of the deployment groups based on installation status of the previous
group.
Emergency shutdown of the rollout in case a group exceeds the defined error threshold.
Rollout progress monitoring for the entire rollout and the individual groups.
Package Model
A software update does not always contain only a single file. The hawkBit meta model allows
you to configure your files in virtual software and distribution packages.
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Release notes - Eclipse hawkBit
Release notes
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Release notes
0.3.0M6
Release Date: Friday, January 17, 2020
Tag /
Release
0.3.0M5
Release Date: Tuesday, July 29, 2019
Tag /
Release
0.3.0M4
Release Date: Thursday, June 6, 2019
Tag /
Release
0.3.0M3
Release Date: Tuesday, May 21, 2019
Tag /
Release
0.3.0M2
Release Date: Tuesday, April 2, 2019
Tag /
Release
0.3.0M1
Release Date: Saturday, February 2, 2019
Tag /
Release
0.2.5
Release Date: Friday, November 30, 2018
Tag /
Release
0.2.4
Getting Started - Eclipse hawkBit
Release Date: Friday, October 26, 2018
Tag /
Release
0.2.3
Release Date: Monday, October 1, 2018
Tag /
Release
0.2.2
Release Date: Thursday, September 21, 2018
Tag /
Release
0.2.1
Release Date: Friday, July 6, 2018
Tag /
Release
0.2.0
First Eclipse hawkBit release including:
Core features:
Device and Software Repository
Update Management Management UI/Console
Artifact Content Delivery
Rollout/Campaign Management
Interfaces:
Management API
Direct Device Integration (DDI) API
Getting Started
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Getting Started
On Sandbox
We offer a sandbox installation that is free for everyone to try out hawkBit’s Management UI,
Management API, and Direct Device Integration API:
Device Management Federation (DMF) API
Release Date: Friday, June 15, 2018
Tag /
Release /
Eclipse
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Next
Community
What is hawkBit? - Eclipse hawkBit
https://hawkbit.eclipse.org
The sandbox is a shared installation that will be reset from time to time. Therefore, it is not allowed to upload
any personal data.
In addition, the following vendors offer free trial accounts for their Eclipse hawkBit compatible products:
Bosch IoT Rollouts (by Bosch Software Innovations GmbH)
From Docker Image
Overview
Service / Container
A
B
C
hawkBit Update Server
✓
✓
✓
hawkBit Device Simulator
✓
MySQL
✓
✓
RabbitMQ
✓
✓
A: Run hawkBit Update Server as Docker Container
Start the hawkBit Update Server as a single container
What is hawkBit?
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
What is hawkBit?
Eclipse hawkBit™ is an domain-independent back-end framework for rolling out software updates to constrained edge devices as well as more powerful controllers and gateways connected to IP based networking infrastructure.
Why Software Updates in IoT?
Having software update capabilities ensures a secure IoT by means that it gives IoT projects a fighting chance against pandora’s box that they opened the moment their devices got connected. From that moment on devices are at the forefront of IT security threats many embedded software developers historically never had to face. Shipping for instance a Linux powered device connected to the Internet without any security updates ever applied during its lifetime is kind of a suicidal act these days.
Management UI - Eclipse hawkBit
Distributionsets
Features - Eclipse hawkBit
Architecture - Eclipse hawkBit
$ docker run -p 8080:8080 hawkbit/hawkbit-update-server:latest
B: Run hawkBit Update Server with services as Docker Compose
Start the hawkBit Update Server together with an MySQL and RabbitMQ instance as containers
$ git clone https://github.com/eclipse/hawkbit.git
$ cd hawkbit/hawkbit-runtime/docker
$ docker-compose up -d
C: Run hawkBit Update Server with services as Docker Stack
Start the hawkBit Update Server and Device Simulator together with an MySQL and RabbitMQ instance as services within a swarm
$ git clone https://github.com/eclipse/hawkbit.git
$ cd hawkbit/hawkbit-runtime/docker
$ docker swarm init
$ docker stack deploy -c docker-compose-stack.yml hawkbit
From Sources
1: Clone and build hawkBit
$ git clone https://github.com/eclipse/hawkbit.git
$ cd hawkbit
$ mvn clean install
2: Start hawkBit update server
$ java -jar ./hawkbit-runtime/hawkbit-update-server/target/hawkbit-update-server-#version#-SNAPSHOT.jar
3: Build hawkBit examples
$ git clone https://github.com/eclipse/hawkbit-examples.git
$ cd hawkbit-examples
$ mvn clean install
4: Start hawkBit Device Simulator
A more charming argument for software update is that it enables agile development for hardware and hardware near development. Concepts like a minimum viable product can be applied for devices as not all features need to be ready at manufacturing time. Changes on the cloud side of the IoT project can be applied to the devices at runtime as well.
Sometimes Software Update is a business model on its own as it makes devices much more attractive to the customer if they are updateable, i.e. they do not only buy a product because of its current feature set but make also a bet on its future capabilities. In addition new revenue streams may arise from the fact that feature extensions can potentially be monetized (e.g. Apps) without the need to design, manufacture and ship a new device (revision).
Why hawkBit?
Updating software (components) on constrained edge devices as well as more powerful controllers and gateways is as mentioned before a common requirement in most IoT scenarios.
At the time being, this process is usually handled by the IoT solution itself, sometimes backed by a full fledged device management system. We believe that this approach generates unnecessary duplicate work in the IoT space, in particular when considering the challenges of implementing a safe and reliable remote software update process: the software update process must never fail and also must never be compromised as, at the one hand, it can be used to fix almost any issue/problem on the device but at the same time also poses the greatest security threat if mis-used to introduce malicious code to the device.
In addition we believe the software update process to be relatively independent from particular application domains when seen from the back-end (cloud) perspective. Updating the software for an entire car may differ from updating the firmware of a single sensor with regard to the connectivity of the device to the cloud and also to the complexity of the software package update process on the device. However, the process of rolling out the software, e.g. uploading an artifact to the repository, assigning it to eligible devices, managing the roll out campaign for a large number of devices, orchestrating content delivery networks to distribute the package, monitoring and reporting the progress of the roll-out and last but not least requirements regarding security and reliability are quite similar.
Existing device management systems usually lack the capability to efficiently organize roll outs at IoT scale, e.g. splitting the roll out into sub groups, cascading them, automatically stopping the roll out after a defined error threshold etc. They are also usually restricted to a single device management protocol, either a proprietary one or one of the existing standard protocols like LWM2M, OMA-DM or TR-069. Even if they support more than one such protocol, they are often a result of the device management protocol they started with and restricted in their adoption capabilities to others.
As a result we have the need for a domain independent solution
that works for the majority of IoT projects
that goes beyond the pure update and handles more complex roll out strategies needed by large scale IoT projects.
that at the same time is focused on software updates in the IoT space
and that is able to work on its own for simple scenarios while having the capability to integrate with existing device management systems and protocols.
Cloud Ready
Technical Scalability: connect millions of devices and ship terabytes of software on a global scale.
Functional Scalability: rollouts with hundreds of thousands of individual devices in it.
Reliability: software update as the last line of defense against device faults and vulnerabilities.
Managed device complexity: device topologies inside each individual provisioning target.
Guides - Eclipse hawkBit
Community - Eclipse hawkBit
Apis - Eclipse hawkBit
Management UI
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Management UI
The hawkBit Management UI provides several views for the different use cases:
Deployment Management view for target administration and manual deployment.
Distribution Management view software repository metadata management.
Artifact Management view to manage the artifacts.
eclipse/hawkbit - Gitter
Distributionsets
Table of Contents
GET /rest/v1/distributionsets
POST /rest/v1/distributionsets
Additional content
GET /rest/v1/distributionsets
Implementation notes
Handles the GET request of retrieving all distribution sets within SP. Required permission: READ_REPOSITORY
Get paged list of Distribution Sets
Curl
$ curl 'https://management-api.host.com/rest/v1/distributionsets' -i -X GET \
-H 'Accept: application/json'
Request URL
GET /rest/v1/distributionsets HTTP/1.1
Accept: application/json
Host: management-api.host.com
Request query parameter
Parameter
Description
limit
The maximum number of entries in a page (default is 50).
sort
The query parameter sort allows to define the sort order for the result of a query. A sort criteria consists of the name of a field and the sort direction (ASC for ascending and DESC descending). The sequence of the sort criteria (multiple can be used) defines the sort order of the entities in the result.
Features
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Features
Device and Software Repository
Repository that holds the provisioning targets and assignable software distributions.
That includes a full software update history for every device.
Support for pre-commission devices in the repository and plug and play, i.e. device is created if it is authenticated for the first time.
Architecture
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Architecture
Overview of hawkBit modules and used 3rd party technology:
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
Concepts - Eclipse hawkBit
$ java -jar ./hawkbit-device-simulator/target/hawkbit-device-simulator-#version#.jar
5: Generate Getting Started data with Example Management API Client
$ java -jar ./hawkbit-example-mgmt-simulator/target/hawkbit-example-mgmt-simulator-#version#.jar
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Integration flexibility: connect and integrate through various (non-)standardized device management protocols directly or through federated device managements.
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Getting Started
Guides
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Pages in Guides
Run hawkBit
In this guide we describe how to run a full featured hawkBit setup based on a production ready infrastructure. It is based on the hawkBit example modules and update server. [...]
Community
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Community
Presentations
Here you can find links to arbitrary material covering Eclipse hawkBit which has been presented at events, conferences and meet-ups.
09/23/2015 - Eclipse IoT Working Group meeting - slides
04/11/2015 - EclipseCon Europe 2015 - slides
03/09/2016 - EclipseCon North America 2016 - slides
Direct Device Integration API - Eclipse hawkBit
Management API - Eclipse hawkBit
Apis
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Pages in Apis
Management API
The Management API is a RESTful API that enables to perform Create/Read/Update/Delete operations for provisioning targets (i.e. devices) and repository content (i.e. software). [...]
Direct Device Integration API
The hawkBit update server provides REST resources which are consumed by the device to retrieve software update tasks.
Target Filter Management view to manage target filters that can be used both in Deployment and Rollout Management views.
Rollout Management for large scale rollout orchestration.
Deployment Management
Purpose
Target status overview, target management and manual deployments.
Feature explained
Target Status: check status of all targets.
Target list allows filters based on:
Assigned/installed DistributionSet (drag and drop a set on the filter icon on the top of the list)
Target update status: click 1-X status to reduce the list of targets that have one of them.
Target tag: click 1-X tags to reduce the list to targets that have one of them.
Name, description: use search button on the top of the list.
DistributionSet list allows filters based on:
DistributionSet tag: click 1-X tags to reduce the list of sets that have one of them.
Name, description: use search button on the top of the list.
Start roll out by drag and drop targets on a DS.
Target list supports CTRL-A for “select all”.
Delete sets, tags or targets by dragging them on delete icon.
Select Target to see Action History.
Bulk target upload: create bulk targets by upload.
Hints for bulk upload:
- Expected file type : csv.
- Expected file format : Each line with two values (ControllerID,Target Name). ControllerID is mandatory.
- Example:
Controller_id_1,targetName1
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
Run hawkBit - Eclipse hawkBit
offset
The paging offset (default is 0).
q
Query fields based on the Feed Item Query Language (FIQL). See Entity Definitions for available fields.
Request query parameter example
GET /rest/v1/distributionsets?offset=1&limit=2&sort=version%3ADESC&q=name%3D%3DtestDS* HTTP/1.1
Accept: application/json
Host: management-api.host.com
Response (Status 200)
Response fields
Path
Type
Description
Allowed Values
total
Number
Total number of elements
size
Number
Current page size
content
Array
List of distribution sets.
Update Management
Directly deploy a defined software distribution to a device (by Management UI or API).
Update handling is independent of the device type, integration approach or connectivity.
Management UI
Create/Read/Update/Delete operations for provisioning targets (i.e. devices) and repository content (i.e. software).
Manage and monitor software update operations.
Optimized for professional users, e.g. administrators, developers and 2nd/3rd level support staff.
Ease of use drag-and-drop paradigm.
Flexible grouping of data.
Flexible filters for data browsing.
Responsive to resolution.
Lazy loading of data.
All information on one page.
Optional integration with Bosch IoT Permissions service for full multi user support with fine granular permission based authorization.
Artifact Content Delivery
Partial downloads supported.
Download resume supported (RFC7233).
Content management by RESTful API and UI (see above).
Authorization based on software assignment, i.e. a device can only download what has been assigned to it in the first place.
Delta artifact hosting supported.
Artifact signature hosting supported.
Rollout/Campaign Management
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Management UI
Next
Target State Machine
Concepts
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Pages in Concepts
Authentication
A hawkBit update server can be accessed in four different ways:
Direct Device Integration (DDI) API by targets.
Management API by 3rd party applications.
Device Management Federation (DMF) API by 3rd party applications through AMQP.
Run hawkBit
Next
What is hawkBit?
Next
Targets API
Feign Client
In this guide we describe how to create a Feign Rest Client based on a Spring Boot Application. [...]
Clustering
hawkBit is able to run in a cluster with some constraints. This guide provides insights in the basic concepts and how to setup your own cluster. You can find additional information in the hawkBit runtimes’s README. [...]
Custom Theme
This guide provides details about using and creating themes that control the visual look of Eclipse hawkBit Management UI. Theme customization is done using Sass, which is an extension of CSS (Cascading Style Sheets). [...]
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
05/16/2016 - Eclipse Virtual IoT Meetup - video - slides
03/20/2017 - Eclipse IoT Day SanJose, CA - video - slides
09/12/2017 - Eclipse IoT Day ThingMonk 2017 - video
01/10/2018 - Eclipse Virtual IoT Meetup - video - slides
10/22/2018 - Community Day EclipseCon Europe 2018 - slides
10/21/2019 - Community Day EclipseCon Europe 2019 - slides
Articles
10/27/2015 - Why software provisioning goes open source - article
05/25/2016 - jaxenter: Eclipse hawkBit - english - german
09/27/2016 - Eclipse Newsletter - ‘IoT is the new black’ - article
Ask a question
Visit stackoverflow.com to find questions or raise your own tagged with eclipse-hawkbit.
Chat
Searching for a quick response from the team behind hawkBit and the hawkBit community, join the Gitter Chat.
Mailing List
A great way to stay up to date with hawkBit activity is to subscribe to the Mailing list provided by Eclipse. Sign up for the mailing list here.
Issue Tracker
Issues and bugs related to hawkBit are tracked with the Github Issue tracking system. If you find any issues, please report them here.
Contributing
An overview of the contribution process is here. Checkout the Contribution Guidelines on the Eclipse hawkBit GitHub Repository.
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Direct Device Integration API
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Direct Device Integration API
The hawkBit update server provides REST resources which are consumed by the device to retrieve software update tasks.
This API is based on HTTP standards and a polling mechanism.
In DDI the target is identified using a controllerId. Controller is used as a term for the actual service/client on the device. That allows users to have in some cases even multiple clients on the same target for different tasks, e.g. Firmware update and App management.
State Machine Mapping
Management API
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Management API
The Management API is a RESTful API that enables to perform Create/Read/Update/Delete operations for provisioning targets (i.e. devices) and repository content (i.e. software).
Based on the Management API you can manage and monitor software update operations via HTTP/HTTPS. The Management API supports JSON payload with hypermedia as well as filtering, sorting and paging. Furthermore the Management API provides permission based access control and standard roles as well as custom role creation.
The API is protected and needs authentication and authorization based on the security concept.
API Version
hawkBit provides an consistent Management API interface that guarantees backwards compatibility for future releases by version control.
This API is based on HTTP standards and a polling mechanism. [...]
Device Management Federation API
The DMF API provides Java classes which allows that the message body can be deserialized at runtime into a Java object. Also Java classes can be used to serialize Java objects into JSON bodies to send a message to hawkBit.
Currently, bodies of messages are based on JSON. [...]
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Controller_id_2,targetName2
Distribution Management
Purpose
Distribution Set view to manage software repository metadata, i.e. Distribution Sets, their Software Modules and the respective types.
Features explained
Browse, create, delete and update Distribution Sets.
Browse, create, delete and update Distribution Set Types.
Browse, create, delete and update Software Modules.
Browse, create, delete and update Software Module Types.
Assign Software Modules to Distribution Sets.
Artifact Management
Purpose
Software artifact management, both metadata (i.e. Software Modules) and artifacts themselves.
Features explained
Browse, create, delete and update Software Modules.
Browse, create, delete and update Software Module Types.
Upload and delete software artifacts for a module.
Rollout Management
Purpose
Software rollout in large scale, rollout status overview and rollout management.
Features explained
Create, update, copy and delete of rollouts.
Start, pause and resume of rollouts.
Progress monitoring for the entire rollout and the individual groups.
eclipse/hawkbit - Gitter
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Run hawkBit
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Run hawkBit
In this guide we describe how to run a full featured hawkBit setup based on a production ready infrastructure. It is based on the hawkBit example modules and update server.
The update server can in fact be run stand alone. However, only with an embedded H2, no Device Management Federation API and no artifact storage.
System Architecture
This guide describes a target architecture that is more like one that you will expect in a production system.
content[].id
Number
The technical identifier of the entity
content[].name
String
The name of the entity
content[].description
String
The description of the entity
content[].createdBy
String
Entity was originally created by User, AMQP-Controller, anonymous etc.)
content[].createdAt
Number
Entity was originally created at (timestamp UTC in milliseconds)
content[].lastModifiedBy
String
Entity was last modified by User, AMQP-Controller, anonymous etc.)
content[].lastModifiedAt
Number
Entity was last modified at (timestamp UTC in milliseconds)
Secure handling of large volumes of devices at rollout creation time.
Flexible deployment group definition as part of a rollout.
Monitoring of the rollout progress.
Emergency rollout shutdown in case of update failures.
Interfaces
Management API
RESTful API
Create/Read/Update/Delete operations for provisioning targets (i.e. devices) and repository content (i.e. software).
Manage and monitor software update operations.
Online API documentation.
JSON payload with Hypermedia support.
Supports filtering, sorting and paging.
Direct Device Integration API
RESTful HTTP based API for direct device integration
JSON payload.
Traffic optimized (content based Etag generation, not modified).
Feedback channel from device.
TLS encryption.
Device Management Federation API
Indirect device integration through a device management service or application into hawkBit.
Optimized for high service to service throughput with AMQP messaging interface.
Separate AMQP vHost per tenant for maximum security.
© 2020 The Eclipse hawkBit Project –
Management UI by users.
[...]
Authorization
Authorization is handled separately for Direct Device Integration (DDI) API and Device Management Federation (DMF) API (where successful authentication includes full authorization) and Management API and UI which is based on Spring security authorities. [...]
Data Model
The hawkBit data model was designed to have enough flexibility to define complex software structures (e.g. operating system, runtimes, apps, different kind of artifacts) on one side and simplicity compared to the capabilities of a full blown configuration management on the other. [...]
Rollout Management
Software update operations in large scale IoT scenarios with hundreds of thousands of devices require special handling. [...]
Target State Machine
A target has a current state which reflects the provisioning status of the device at this point in time. State changes are driven either by the update server by means of starting an update or by the controller on the provisioning target that gives feedback to the update server, e.g. “I am here”, “I am working on a provisioning”, “I have finished a provisioning”. [...]
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Release notes
Next
Device Management Federation API
For historical reasons the DDI has a different state machine and status messages than the Target State Machine of the hawkBit update server.
This is kept in order to ensure that DDI stays compatible for devices out there in the field. A future version “2” of DDI might change that. DDI also defines more states than the update server, e.g. multiple DDI states are currently mapped by the DDI implementation to RUNNING state. It is possible that in the future hawkBit will fully leverage these additional states.
The DDI API allows the device to provide the following feedback messages:
DDI status.execution type
handling by update server
Mapped ActionStatus type
CANCELED
This is send by the target as confirmation of a cancellation request by the update server.
CANCELED
REJECTED
This is send by the target in case an update of a cancellation is rejected, i.e. cannot be fulfilled at this point in time. Note: the target should send a CLOSED->ERROR if it believes it will not be able to proceed the action at all.
WARNING
CLOSED
Target completes the action either with status.result.finished SUCCESS or FAILURE as result. Note: DDI defines also a status NONE which will not be interpreted by the update server and handled like SUCCESS.
ERROR (DDI FAILURE) or FINISHED (DDI SUCCESS or NONE)
PROCEEDING
This can be used by the target to inform that it is working on the action.
RUNNING
SCHEDULED
This can be used by the target to inform that it scheduled on the action.
RUNNING
RESUMED
This can be used by the target to inform that it continued to work on the action.
RUNNING
The current version of the Management API is version 1 (v1) with the URI http://localhost:8080/rest/v1/
API Resources
Supported HTTP-methods are:
GET
POST
PUT
DELETE
Available Management APIs resources are:
Targets
Distribution sets
Distribution set types
Software modules
Software module types
Target tag
Distribution set tag
Rollouts
Target filters
System configuration
Headers
For all requests an Authorization header has to be set.
Username: Tenant\username
Password: password
Also have a look to the Security chapter.
Drill down to see the groups in a rollout and targets in each group.
Rollout attributes:
Selection of targets as input for the rollout based on target filter
Selection of distribution set
Auto-splitting of the input target list based on group number defined
Trigger threshold to define the percentage of installation to be completed , to trigger the start of next group
Error threshold defines the percentage of error tolerance of a group before calling for a emergency shutdown of a rollout
Deletion of targets which are in a rollout, changes the rollout statistics.
Target Filter Management
Purpose
Custom target filter overview and filter management.
Features explained
Custom target filter allows user to filter targets by defining custom query.
Displays custom target filter list and user can search any particular filter.
Create, update and delete features are supported for target filters.
Auto assignment of a distribution set to filtered targets.
How to Filter
The basic syntax to filter is: field<basic_operator>value <composite_operator> field<basic_operator>value <...>
field: is the name of the resource field.
value: is the value of the target field
<basic_operator>: Are operators to do simple queries. Supported basic operators are:
== : equal
!= : not equal
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
hawkBit Update Server.
MariaDB for the repository.
RabbitMQ for DMF communication.
For testing and demonstration purposes we will also use:
hawkBit Device Simulator.
hawkBit Management API example client.
Prerequisites
You have a working hawkBit core build.
You have a working hawkBit examples build.
Adapt hawkBit Update Server and Device Simulator to your environment.
As mentioned you can create your own application with hawkBit inside or adapt the existing example app. The second option will be shown here.
Set MariaDB dependency to compile in the update server POM
<dependency>
<groupId>org.mariadb.jdbc</groupId>
<artifactId>mariadb-java-client</artifactId>
<scope>compile</scope>
</dependency>
Configure MariaDB/MySQL connection settings.
content[].type
String
The type of the distribution set.
content[].requiredMigrationStep
Boolean
True if DS is a required migration step for another DS. As a result the DS’s assignment will not be cancelled when another DS is assigned (note: updatable only if DS is not yet assigned to a target)
content[].complete
Boolean
True of the distribution set software module setup is complete as defined by the distribution set type.
content[].deleted
Boolean
Deleted flag, used for soft deleted entities
content[].version
String
Package version.
Response example
HTTP/1.1 200 OK
Content-Length: 2341
Content-Type: application/json;charset=UTF-8
{
"content" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108846477,
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Authentication
Next
Custom Theme
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Device Management Federation API
Next
Management API
CSV export of target data from Target Filter View. by Sergey-G-dev · Pull Request #1046 · eclipse/hawkbit · GitHub
In addition, for POST and PUT requests the Content-Type header has to be set. Accepted content-types are.
application/json
application/hal+json
Request Body
Besides the relevant data (name, description, createdBy etc.) of a resource entity, a resource entity also has URIs (_links) to linked resource entities.
A Distribution Set entity may have for example URIs to artifacts, Software Modules, Software Module Types and metadata.
"_links": {
"artifacts": {
"href": "http://localhost:8080/rest/v1/softwaremodules/83/artifacts"
},
"self": {
"href": "http://localhost:8080/rest/v1/softwaremodules/83"
},
"type": {
"href": "http://localhost:8080/rest/v1/softwaremoduletypes/43"
},
"metadata": {
"href": "http://localhost:8080/rest/v1/softwaremodules/83/metadata?offset=0&limit=50"
}
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
Use =IN= for ‘in’ parameter.(Example: name=IN=(target1,target2).
<composite_operator>: Are operators to join simple queries: Supported composite operators are:
and
or
Use =IN= for ‘in’ parameter.(Example: name=IN=(target1,target2).
Use * for wildcard matches.
Examples
Custom query
Description
updatestatus==error
Gives all targets in ‘error’ state.
controllerId!=192.168.2.42
Gives all targets that do not have the controllerId 192.168.2.42.
name==*CCU*
Gives all targets which contain the term ‘CCU’ in there name.
name==*CCU* or description==*CCU*
Gives all targets that either have the term ‘CCU’ in their name or their description.
name==*SHC* and description==*SHC*
Gives all targets that have the term SHC in their name and their description.
name==CCU* and updatestatus==pending
Gives all targets with their name starting with ‘CCU’ and which are in ‘pending’ state.
(assignedds.name==‘ECU-DS’ and description==test) or updatestatus!=error
Gives all targets which are either assigned to ‘ECU-DS’ and have description equals to ‘test’ or which are not in error status.
Rollout Management - Eclipse hawkBit
Data Model - Eclipse hawkBit
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
For this you can either edit the existing application.properties or create a new profile.
spring.jpa.database=MYSQL
spring.datasource.url=jdbc:mysql://localhost:3306/YOUR_SCHEMA
spring.datasource.username=YOUR_USER
spring.datasource.password=YOUR_PWD
spring.datasource.driverClassName=org.mariadb.jdbc.Driver
Configure RabbitMQ connection settings for update server and device simulator (optional).
We provide already defaults that should work with a standard Rabbit installation. Otherwise configure the following in the application.properties of the two services:
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest
spring.rabbitmq.virtualHost=/
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
Adapt hostname of example scenario creation script
Should only be necessary if your system does not run on localhost or uses a different port than the example app.
Adapt application.properties in this case:
hawkbit.url=localhost:8080
or provide the parameter on command line:
hawkbit-example-mgmt-simulator-##VERSION##.jar --hawkbit.url=YOUR_HOST:PORT
Compile & Run
Compile & Run your “production ready” app
see update server
Compile & Run example scenario creation script (optional)
This has to be done before the device simulator is started. hawkBit creates the mandatory tenant metadata with first login into either Management UI or API (which is done by this client).
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108846527,
"name" : "DS",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0",
"modules" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108846361,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108846650,
"name" : "Firmware",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.67",
"type" : "os",
"vendor" : "vendor Limited Inc, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/73"
}
},
"id" : 73
}, {
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Direct Device Integration API
Next
Management UI
(updatestatus!=In_sync or updatestatus!=error) and name==*SHC1*
Gives all targets that do not have the update status In_sync or error and that contains the term SHC1 in their name.
(updatestatus!=error or updatestatus!=pending) and (name==*CCU* or description==*CCU*)
Gives all targets that either have the term ‘CCU’ in their name or their description and that either have the update status not in state error or pending.
Auto assignment
It is possible to assign some distribution set with different action types (forced, soft, or download only) to all targets that belong to the corresponding custom target filter, including the ones, that are registered later on.
In order to activate the auto-assignment, one should first click on Auto assignment cell in Custom Filters table, and then check the corresponding checkbox. After that, the action type and distribution set for auto-assignment should be selected and confirmed.
As long as the auto-assignment stays active, the scheduler will try to assign selected distribution set to corresponding custom filter targets, that have never seen it before.
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Rollout Management
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Rollout Management
Software update operations in large scale IoT scenarios with hundreds of thousands of devices require special handling.
That includes:
- Technical Scalability by means of horizontal scale of the hawkBit server cluster in the cloud.
- Global artifact content delivery capacities.
- Functional Scalability by means of:
Data Model
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Data Model
The hawkBit data model was designed to have enough flexibility to define complex software structures (e.g. operating system, runtimes, apps, different kind of artifacts) on one side and simplicity compared to the capabilities of a full blown configuration management on the other.
It does define a hierarchy of software that starts with a distribution, which can have (sub-)modules and these may have multiple artifacts. However, it does not consider any kind of dependency definitions between modules or artifacts. As a result dependency checks if necessary have to be done outside hawkBit, i.e. on the device itself or before the entity creation in hawkBit by the origin.
Provisioning Target Definition
A Provisioning Target is a neutral definition that may be an actual real device (e.g. gateway, embedded sensor) or a virtual device (e.g. vehicle, smart home).
The definition in hawkBit might reflect the transactional behavior if necessary on the device side. A vehicle might be updated device by device or as a whole. As a result one way of defining a vehicle in hawkBit could be to have one all inclusive Software Module or one module per (sub-) device.
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
RalfMengwasser
@RalfMengwasser
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
However, this is not done by DMF which is in fact used by the device simulator, i.e. without calling Management API first hawkBit would drop all DMF messages as the tenant is unknown.
Compile & Run device simulator (optional)
see device simulator
Enjoy hawkBit with a real database, artifact storage and all interfaces available
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Feign Client
Next
Getting Started
"createdBy" : "bumlux",
"createdAt" : 1582108846209,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108846585,
"name" : "application",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.71",
"type" : "application",
"vendor" : "vendor Limited, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/71"
}
},
"id" : 71
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108846280,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108846629,
"name" : "app runtime",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.97",
"type" : "runtime",
hawkbit/application-cloudsandbox.properties at master · eclipse/hawkbit · GitHub
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Management API
Next
Architecture
- Secure handling of large volumes of devices at rollout creation time.
- Monitoring of the rollout progress.
- Emergency rollout shutdown in case of problems on to many devices.
Reporting capabilities for a complete understanding of the rollout progress at each point in time.
Eclipse hawkBit sees these capabilities under the term Rollout Management.
The following capabilities are currently supported by the Rollout Management:
- Create, update and start of rollouts.
- Selection of a DistributionSet.
- Auto-splitting of the input target list into a defined number deployment groups.
- Approval workflow
- Has to be enabled explicitly in configuration.
- Enables a workflow that requires a user with adequate permissions to review any new or updated rollout before it
can be started.
- Allows integration with 3rd party workflow engines.
Cascading start of the deployment groups based on installation status of the previous group.
Emergency shutdown of the rollout in case a group exceeds the defined error threshold.
Rollout progress monitoring for the entire rollout and the individual groups.
Cascading Deployment Group Execution
The cascading execution of the deployment groups is based on two thresholds that can be defined by the rollout creator.
- success condition by means of percentage of successfully installed targets in the current groups triggers.
- error condition by means of absolute or percentage of failed installations which triggers an emergency shutdown of the entire rollout.
Rollout state machine
Software Structure Definition
The structure defines the model of the supported software by the provisioning target
Distribution Set Type: defines a package structure that is supported by certain devices
Consists of Software Module Types both for
Firmware - device can have only one module of that type (e.g. the operating system)
Software - device can have multiple modules of that type (e.g. “Apps”)
Software Content Definition
Distribution Set: can be deployed to a provisioning target
Software Module: is a sub element of the distribution
e.g. OS, application, firmware X, firmware Y
Artifact: binaries for a software module. Note: the decision which artifacts have to be downloaded are done on the device side.
e.g. Full package, signatures, binary deltas
Entity Relationships
The public defined entities and their relation which are reflected by the Management API.
Deleting and Archiving Software Modules
When a user deletes a Software Module, the update server cannot simply remove all the corresponding data. Because when the Software Module is already assigned to a Distribution Set or was assigned to a Target in the past, the hawkBit server has to make sure that remains a clean and full update history for every target. The history contains all information (e.g. name, version) of the software, which was assigned to a specific Target. Obviously storing the binary data of the artifacts is not necessary for the history purpose.
The delete process which is performed, when there are historical connections to targets is called SoftDelete. This process marks the Software Module as deleted and removes the artifact, but it won’t delete the meta data, which describes the SoftwareModule and the associated Artifacts. SoftwareModules, which are marked as delete won’t be visible for the user, when he is requesting all SoftwareModules.
Just in case there are no connections to Distribution Sets and targets the server will perform a HardDelete. This process deletes all stored data, including all meta information.
In case of of a SoftDelete the unique constraints are still in place, i.e. you cannot create an entity with the same name/key. This constraint might be removed in future versions because of the impact on the user experience (i.e. he does not see the soft deleted module but cannot create a new one).
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
"vendor" : "vendor GmbH, Stuttgart, Germany",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/72"
}
},
"id" : 72
} ],
"requiredMigrationStep" : false,
"type" : "test_default_ds_type",
"complete" : true,
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/distributionsets/27"
}
},
"id" : 27
} ],
"total" : 1,
"size" : 1
}
Error responses
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Docker Hub
eclipse/hawkbit - Gitter
State Machine on Rollout
State Machine on Rollout Deployment Group
Multi-Assignments (beta)
One of the main paradigms of Eclipse hawkBit is, that a Distribution Set represents the currently installed software of a device. Hence, a device can have only one Distribution Set assigned/installed at a time. With Multi-Assignments enabled, this paradigm shifts. Multi-Assignments allows to assign multiple Distribution Sets to a device simultaneously, without cancelling each other. As a consequence, an operator can trigger multiple campaigns addressing the same devices in parallel.
Action weight
To differentiate between important and less important updates a property called weight is used. When multi-assignments is enabled every action has a weight value between (and including) 0 and 1000. The higher the weight the more important is the assignment represented by the action. Also when defining a rollout or an auto-assignment and multi-assignments is enabled a weight value has to be provided. This value is passed to the actions created during the execution of these rollouts and auto-assignments. If no weight was provided the highest value of 1000 is used instead.
Consequences
While this feature provides more flexibility to the user and enables new use-cases, there are also some consequences one should be aware of:
Critical
This feature is in beta and may change unannounced.
For now, this feature is opt-in only. Once activated, it cannot be deactivated.
Minor
While on DMF-API a MULTI_ACTION request is sent, DDI-API only exposes the next action which has the highest priority in the list of open actions(according to their weight property).
All information regarding the currently assigned or installed Distribution Set does only respect the last assignment, as well as the last successfully installed Distribution set. This also affects:
Pinning a target or Distribution Set in Deployment View.
Statistics about installed or assigned Distribution Sets.
Auto close running actions, when a new Distribution Set is assigned (repository.actions.autoclose.enabled) is deactivated.
Marking a Distribution Set to be a Required Migration Step is deactivated.
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Rollout Management
Next
Authorization
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
POST /rest/v1/distributionsets
Implementation Notes
Handles the POST request of creating new distribution sets within SP. The request body must always be a list of sets. Required permission: CREATE_REPOSITORY
Create Distribution Sets
CURL
$ curl 'https://management-api.host.com/rest/v1/distributionsets/' -i -X POST \
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Target State Machine
Next
Data Model
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
_
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
-H 'Content-Type: application/json;charset=UTF-8' \
-d '[ {
"requiredMigrationStep" : false,
"name" : "one",
"description" : "nisl quam id taciti eleifend vehicula commodo risus vitae mus",
"type" : "test_default_ds_type",
"version" : "one",
"modules" : [ {
"id" : 69
}, {
"id" : 70
} ]
}, {
"requiredMigrationStep" : false,
"name" : "two",
"description" : "praesent ultricies inceptos volutpat venenatis posuere facilisi auctor consequat ornare",
"type" : "test_default_ds_type",
"version" : "two",
"modules" : [ {
"id" : 69
}, {
"id" : 70
} ]
}, {
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
CSV export of target data from Target Filter View.
#1046
Open
Sergey-G-dev
wants to merge
3
commits into
eclipse:master
base:
master
from
hawkBit UI - Login
You have to enable javascript in your browser to use an application built with Vaadin.
eclipse/hawkbit - Gitter
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
"requiredMigrationStep" : true,
"name" : "three",
"description" : "elit sem dictumst facilisis ut nascetur pharetra nascetur proin iaculis",
"type" : "test_default_ds_type",
"version" : "three",
"modules" : [ {
"id" : 69
}, {
"id" : 70
} ]
} ]'
Request URL
POST /rest/v1/distributionsets/ HTTP/1.1
Content-Type: application/json;charset=UTF-8
Content-Length: 809
Host: management-api.host.com
[ {
"requiredMigrationStep" : false,
"name" : "one",
"description" : "nisl quam id taciti eleifend vehicula commodo risus vitae mus",
"type" : "test_default_ds_type",
"version" : "one",
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sergey-G-dev:export-csv
Open
CSV export of target data from Target Filter View.
#1046
Sergey-G-dev
wants to merge
3
commits into
eclipse:master
from
Sergey-G-dev:export-csv
Conversation
0
Commits
3
Checks
0
Files changed
Conversation
Copy link
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
eclipse/hawkbit - Gitter
Maven Central Repository Search
Sorry, your browser does not support JavaScript!
Java 11 support · Issue #955 · eclipse/hawkbit · GitHub
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
"modules" : [ {
"id" : 69
}, {
"id" : 70
} ]
}, {
"requiredMigrationStep" : false,
"name" : "two",
"description" : "praesent ultricies inceptos volutpat venenatis posuere facilisi auctor consequat ornare",
"type" : "test_default_ds_type",
"version" : "two",
"modules" : [ {
"id" : 69
}, {
"id" : 70
} ]
}, {
"requiredMigrationStep" : true,
"name" : "three",
"description" : "elit sem dictumst facilisis ut nascetur pharetra nascetur proin iaculis",
"type" : "test_default_ds_type",
"version" : "three",
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
master
hawkbit/hawkbit-runtime/hawkbit-update-server/src/main/resources/application-cloudsandbox.properties
Go to file
Go to file
T
Go to line
L
Copy path
schabdo
Fixed outdated sandbox config
…
Latest commit
2d88ed4
Apr 3, 2019
History
Signed-off-by: Dominic Schabel <dominic.schabel@bosch-si.com>
3
contributors
Quote reply
Contributor
Sergey-G-dev
commented
Nov 16, 2020
•
edited
Column separator is hardcoded to ";" (semicolon). Column entries are put into double quotes. Can be opened by Excel with one click.
CSV export of target data from Target Filter View.
…
Loading status checks…
bb37fb9
Signed-off-by: Sergey Gerasimov <sergey.gerasimov@devolo.de>
Sergey-G-dev
force-pushed the
Sergey-G-dev:export-csv
branch
from
bd048ae
to
bb37fb9
Nov 17, 2020
Device Management Federation API - Eclipse hawkBit
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
_
Sign in to start talking
"modules" : [ {
"id" : 69
}, {
"id" : 70
} ]
} ]
Request fields
Path
Type
Description
Allowed Values
Mandatory
[]name
String
The name of the entity
X
[]description
String
The description of the entity
X
[]version
String
Package version.
X
Users who have contributed to this file
40 lines (35 sloc)
2.24 KB
Raw
Blame
#
# Copyright (c) 2018 Bosch Software Innovations GmbH and others.
#
# All rights reserved. This program and the accompanying materials
# are made available under the terms of the Eclipse Public License v1.0
# which accompanies this distribution, and is available at
# http://www.eclipse.org/legal/epl-v10.html
#
server.use-forward-headers=true
# Sandbox, small files only
spring.servlet.multipart.max-file-size=100KB
spring.servlet.multipart.max-request-size=-1
## Configuration for building download URLs - START
hawkbit.artifact.url.protocols.download-http.rel=download-http
hawkbit.artifact.url.protocols.download-http.protocol=https
hawkbit.artifact.url.protocols.download-http.supports=DMF,DDI
hawkbit.artifact.url.protocols.download-http.hostname=hawkbit.eclipse.org
hawkbit.artifact.url.protocols.md5sum-http.rel=md5sum-http
Added devolo 2020 copyright header Maven entry.
…
Loading status checks…
257e5c2
Signed-off-by: Sergey Gerasimov <sergey.gerasimov@devolo.de>
Sergey-G-dev
force-pushed the
Sergey-G-dev:export-csv
branch
from
9c01bdf
to
257e5c2
Nov 18, 2020
Changed CSV separator to semicolon, set CSV fields in quotes.
…
Loading status checks…
75610ef
Signed-off-by: Sergey Gerasimov <sergey.gerasimov@devolo.de>
Sergey-G-dev
force-pushed the
Sergey-G-dev:export-csv
branch
Device Management Federation API
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Device Management Federation API
The DMF API provides Java classes which allows that the message body can be deserialized at runtime into a Java object. Also Java classes can be used to serialize Java objects into JSON bodies to send a message to hawkBit.
Currently, bodies of messages are based on JSON.
Basics
There are three basic concepts of AMQP:
Exchanges - what you publish to.
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
[]requiredMigrationStep
Boolean
True if DS is a required migration step for another DS. As a result the DS’s assignment will not be cancelled when another DS is assigned (note: updatable only if DS is not yet assigned to a target)
[]type
String
The type of the distribution set.
X
Response (Status 200)
Response fields
Path
Type
Description
Allowed Values
[]id
Number
The technical identifier of the entity
[]name
String
The name of the entity
[]description
String
The description of the entity
[]createdBy
String
hawkbit.artifact.url.protocols.md5sum-http.supports=DDI
## Configuration for building download URLs - END
spring.security.user.name=demo
hawkbit.server.security.require-ssl=true
hawkbit.server.ui.demo.disclaimer=<small>By signing in, you consent that we store the following data for up to one week: \
<ul><li><b>IP-Address:</b> Your client's IP-Address, as well as, the IP-Address of any device you connect to the \
application are stored for the purpose of misuse prevention.</li></ul>\
<p>You are not permitted to store any kind of personal data in this application, since this is a shared account. \
Furthermore, this sandbox is reset once a week deleting all data.</p> \
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
from
69da6ec
to
75610ef
Nov 19, 2020
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
1 participant
Add this suggestion to a batch that can be applied as a single commit.
Release 0.3.0 · Issue #784 · eclipse/hawkbit · GitHub
CircleCILoading
DB and RabbitMQ integration tests and PostgreSQL testing/bug fixing by kaizimmerm · Pull Request #1047 · eclipse/hawkbit · GitHub
Issues · eclipse/hawkbit · GitHub
Fix/problematic rollout handling #1049 by a-sayyed · Pull Request #1050 · eclipse/hawkbit · GitHub
0.2.0 | projects.eclipse.org
Queues - what you consume from.
Bindings - configuration that maps an exchange to a queue.
Queues are just a place for receiving messages.
Bindings determine how messages get put in this place
Queues can also be bound to multiple exchanges.
Exchanges are just publish messages.
The user decides who can produce on an exchange and who can create bindings on that exchange for delivery to a specific queue.
hawkBit will create all necessary queues, exchanges and bindings for the user, making it easy to get started.
The exchange name for outgoing messages is dmf.exchange.
The user has to set a reply_to header (see chapter below), in order to specify the exchange to which hawkBit should reply to.
The following chapter describes the message body, header and properties.
Note: the DMF protocol was intended to be compatible to other use cases by design. As a result, DMF uses the term thing and not target but they are actually synonyms in this case.
Messages sent to hawkBit (Client -> hawkBit)
THING_CREATED
Message to register and update a provisioning target.
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “THING_CREATED”
true
thingId
The ID of the registered provisioning target
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
Sign in to start talking
Entity was originally created by User, AMQP-Controller, anonymous etc.)
[]createdAt
Number
Entity was originally created at (timestamp UTC in milliseconds)
[]lastModifiedBy
String
Entity was last modified by User, AMQP-Controller, anonymous etc.)
[]lastModifiedAt
Number
Entity was last modified at (timestamp UTC in milliseconds)
[]type
String
The type of the distribution set.
[]requiredMigrationStep
Boolean
True if DS is a required migration step for another DS. As a result the DS’s assignment will not be cancelled when another DS is assigned (note: updatable only if DS is not yet assigned to a target)
[]complete
Boolean
True of the distribution set software module setup is complete as defined by the distribution set type.
[]deleted
Boolean
Deleted flag, used for soft deleted entities
[]version
String
Package version.
Response example
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Google Tag Manager Skip to main content
Log in
Manage Cookies
projects.eclipse.org
Download
ProjectsWorking GroupsMembersCommunity MarketplaceEventsPlanet EclipseNewsletterVideosBlogsParticipate Report a BugForumsMailing ListsWikiIRCResearchEclipse IDE DownloadLearn MoreDocumentationGetting Started / SupportHow to ContributeIDE and ToolsNewcomer Forum
More
CommunityMarketplaceEventsPlanet EclipseNewsletterVideosBlogsParticipateReport a BugForumsMailing ListsWikiIRCResearchEclipse IDEDownloadLearn MoreDocumentationGetting Started / SupportHow to ContributeIDE and ToolsNewcomer Forum
Toggle navigation
Home
Projects
Eclipse IoT
Eclipse hawkBit
0.2.0
Eclipse hawkBit 0.2.0
Primary tabsOverview(active tab)
Issues
Release Plan
Review Information
First Eclipse hawkBit release including:
Core features:
String
true
tenant
The tenant this provisioning target belongs to
String
true
sender
Name of the message sender
String
false
Message Properties
Description
Type
Mandatory
content_type
The content type of the payload
String
true
reply_to
Exchange to reply to
String
true
Example headers and payload:
Header
MessageProperties
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
_
Dominic Schabel
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
eclipse/hawkbit - Gitter
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
HTTP/1.1 201 Created
Content-Type: application/hal+json;charset=UTF-8
Content-Length: 4685
[ {
"createdBy" : "bumlux",
"createdAt" : 1582108845599,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108845599,
"name" : "one",
"description" : "nisl quam id taciti eleifend vehicula commodo risus vitae mus",
"version" : "one",
"modules" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108845483,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108845483,
"name" : "application",
"description" : "sapien sociis condimentum metus quisque senectus amet ullamcorper ad netus",
"version" : "1.0",
"type" : "application",
"vendor" : "Vendor Limited, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/69"
}
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Device and Software Repository
Update Management Management UI/Console
Artifact Content Delivery
Rollout/Campaign Management
Interfaces:
Management API
Direct Device Integration (DDI) API
Device Management Federation (DMF) API
Release Date: Friday, June 15, 2018
Review: 0.2.0 Release ReviewRelease Type: Minor releaseIP Due Diligence Type: Type B - Full IP Due Diligience (License, Provenance, Scanning)
Project Links
Website
Related Projects
Project Hierarchy:Eclipse IoT
Eclipse hawkBit
Eclipse Hara
Tags
Technology TypesInternet of Things
Eclipse Foundation
About UsContact UsDonateMembersGovernanceCode of ConductLogo and ArtworkBoard of Directors
Legal
Privacy PolicyTerms of UseCopyright AgentEclipse Public LicenseLegal Resources
Useful Links
Report a BugDocumentationHow to ContributeMailing ListsForumsMarketplace
Other
type=THING_CREATED tenant=default thingId=abc sender=myClient
content_type=application/json reply_to=myExchangeToReplyTo
Payload Template (optional):
{
"name": "String"
}
The “name” property specifies the name of the thing, which by default is the thing ID. This property is optional.
THING_REMOVED
Message to request the deletion of a provisioning target.
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “THING_REMOVED”
true
thingId
The ID of the registered provisioning target
String
true
tenant
The tenant this provisioning target belongs to
String
false
Message Properties
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
Dismiss
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Java 11 support
#955
Open
schabdo opened this issue
Mar 31, 2020
· 2 comments
Open
Java 11 support
#955
schabdo opened this issue
Mar 31, 2020
· 2 comments
eclipse/hawkbit - Gitter
hawkbit/CONTRIBUTING.md at master · eclipse/hawkbit · GitHub
},
"id" : 69
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108845495,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108845495,
"name" : "os",
"description" : "dictum tincidunt sociis vehicula tempor sapien volutpat aliquam facilisi ornare",
"version" : "1.0",
"type" : "os",
"vendor" : "Vendor Limited, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/70"
}
},
"id" : 70
} ],
"requiredMigrationStep" : false,
"type" : "test_default_ds_type",
Custom Theme - Eclipse hawkBit
hawkbit/README.md at master · eclipse/hawkbit · GitHub
hawkbit/SpPermission.java at master · eclipse/hawkbit · GitHub
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
IDE and ToolsProjectsWorking GroupsResearch@EclipseReport a VulnerabilityService Status
Copyright © Eclipse Foundation, Inc. All Rights Reserved.
Back to the top
Description
Type
Mandatory
content_type
The content type of the payload
String
true
Example headers
Header
MessageProperties
type=THING_REMOVED tenant=default thingId=abc
content_type=application/json
UPDATE_ATTRIBUTES
Message to update target attributes. This message can be send in response to a _REQUEST_ATTRIBUTESUPDATE event, sent by hawkBit.
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “EVENT”
true
topic
Topic name identifying the event
Fixed string “UPDATE_ATTRIBUTES”
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
_
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
_
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Labels
task
Comments
Copy link
Quote reply
Member
schabdo
commented
Mar 31, 2020
•
edited
As Java 8-10 will be obsolete soon, hawkBit has to support Java 11
Preconditions
Migration to Vaadin 8 (#980)
Required EclipseLink upgrade will brake SQLServer support (#1045)
Release 0.3.0 (on Java 8) (#784)
ToDo
JDK11 build on source level 8 (#1037)
Migrate hawkBit (#1038)
Migrate hawkBit Extensions
Migrate hawkBit Examples
Bump Java source level to 11
Update Dockerfiles
CircleCI build on JDK 11
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
"complete" : true,
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/distributionsets/24"
}
},
"id" : 24
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108845609,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108845609,
"name" : "two",
"description" : "praesent ultricies inceptos volutpat venenatis posuere facilisi auctor consequat ornare",
"version" : "two",
"modules" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108845483,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108845483,
"name" : "application",
"description" : "sapien sociis condimentum metus quisque senectus amet ullamcorper ad netus",
"version" : "1.0",
"type" : "application",
Custom Theme
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Custom Theme
This guide provides details about using and creating themes that control the visual look of Eclipse hawkBit Management UI. Theme customization is done using Sass, which is an extension of CSS (Cascading Style Sheets).
The mechanism described below is the rather simple case by customizing the theme by means of configuring a set of variables as defined by the hawkBit default theme. A full customization be means of copying the hawkBit theme and customize it completely is not described here but of course possible.
Example App
An example application with customized theme can be found here.
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
15
Milestones
2
Labels
15
Milestones
2
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
eclipse/hawkbit - Gitter
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Restructure Tenant Configuration View to make it more flexible for adaptations by Nkyn · Pull Request #1043 · eclipse/hawkbit · GitHub
true
thingId
The ID of the registered thing
String
true
tenant
The tenant this thing belongs to
String
false
Message Properties
Description
Type
Mandatory
content_type
The content type of the payload
String
true
Example header and payload:
Header
MessageProperties
type=EVENT tenant=default thingId=abc topic=UPDATE_ATTRIBUTES
content_type=application/json
Payload Template:
{
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
Update Documentation
schabdo
added
the
task
label
Mar 31, 2020
Copy link
bantu
commented
Aug 18, 2020
•
edited
Attempting to compile master at eae34e6 using the compiler provided by the openjdk-11-jdk Debian 10 package fails with
[INFO] Compiling module org.eclipse.hawkbit.ui.AppWidgetSet
[INFO] [ERROR] Hint: Check that your module inherits 'com.google.gwt.core.Core' either directly or indirectly (most often by inheriting module 'com.google.gwt.user.User')
On closer inspection this seems to be caused by GWT.
Maybe the Java 8 source code can be compiled using OpenJDK 11 after updating GWT. This would be a first step towards moving to Java 11 entirely.
👍
1
Copy link
Member
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
"vendor" : "Vendor Limited, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/69"
}
},
"id" : 69
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108845495,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108845495,
"name" : "os",
"description" : "dictum tincidunt sociis vehicula tempor sapien volutpat aliquam facilisi ornare",
"version" : "1.0",
"type" : "os",
"vendor" : "Vendor Limited, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/70"
}
},
"id" : 70
Overview
Vaadin separates the appearance of the user interface from its logic using themes. Themes can include Sass or CSS style sheets, custom HTML layouts, and any necessary graphics.
Theme resources can also be accessed from application code as ThemeResource objects. Custom themes are placed under the src/main/resources/VAADIN/themes/ folder of the application.
This location is fixed – the VAADIN folder contains static resources that are served by the Vaadin servlet. The servlet augments the files stored in the folder by resources found from corresponding VAADIN folders contained in JARs in the class path.The base theme and all the corresponding custom themes are placed under the above mentioned folder.
If a new custom theme has to be created, it should always be placed under the src/main/resources/VAADIN/themes/ folder.
Every custom theme should always refer the base theme and customization can be done by the use of variables mentioned in the XXXXvariable.scss. For details of the creation of the custom theme please refer the next section.
Procedure to create a theme
Create a new folder “XXXtheme” (significant to the new theme) under src/main/resources/VAADIN/themes/ folder.
Create a folder named as “customstyles”.
Create a XXXvariables.scss file under customstyles folder, putting all the variables inside the same file. For more details about the variables we recommend to take a look at the hawkBit defaults.
Create styles.scss file under the “XXXtheme” folder.
Any images should be placed under the sub folder “images” folder.
Within the styles.scss file, import XXXvariables.scss and the base theme (hawkBit theme as mentioned in previous chapter Overview . Please find below the syntax:
@import "../hawkbit/customstyles/hawkbitvariables";
@import "customstyles/examplevariables";
@import "../hawkbit/hawkbittheme";
@import "addons";
.exampletheme {
@include addons;
@include hawkbittheme;
}
Finally the structure should be as in the example app.
Procedure to add a custom footer
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Release 0.3.0
#784
Open
schabdo opened this issue
Jan 23, 2019
· 0 comments
Open
Release 0.3.0
#784
schabdo opened this issue
Jan 23, 2019
· 0 comments
Labels
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
DB and RabbitMQ integration tests and PostgreSQL testing/bug fixing
#1047
Open
kaizimmerm
wants to merge
18
commits into
eclipse:master
base:
master
from
kaizimmerm:db-test-matrix
Open
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
39 Open
189 Closed
39 Open
189 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Fix/problematic rollout handling #1049
#1050
Open
a-sayyed
wants to merge
3
commits into
eclipse:master
base:
master
from
bosch-io:fix/problematic_rollout_handling_#1049
Open
Fix/problematic rollout handling #1049
#1050
a-sayyed
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
"attributes": {
"exampleKey1" : "exampleValue1",
"exampleKey2" : "exampleValue2"
},
"mode": "String"
}
The “mode” property specifies the update mode that should be applied. This property is optional. Possible mode values:
Value
Description
MERGE
The target attributes specified in the payload are merged into the existing attributes. This is the default mode that is applied if no “mode” property is specified in the payload.
REPLACE
The existing attributes are replaced with the target attributes specified in the payload.
REMOVE
The target attributes specified in the payload are removed from the existing attributes.
UPDATE_ACTION_STATUS
Message to send an action status event to hawkBit.
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “EVENT”
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Author
schabdo
commented
Sep 24, 2020
Exactly! I already prepared some stuff to achieve exactly what you're proposing (cf. #674). However back in the days (as you mentioned) Vaadin 7 was always the show-stopper. Since a couple of days master is on Vaadin 8, we are one step further: Now WidgetSet could be complied based on JDK 11 (with source level to 1.8). However it seems that the XML bind dependency/module is missing for the tests:
[ERROR] javax/xml/bind/annotation/XmlElement
[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process
[ERROR] javax/xml/bind/annotation/XmlElement
[ERROR] at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:656)
schabdo
mentioned this issue
Oct 26, 2020
Java 11 support for hawkBit
#1038
Merged
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
task
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
} ],
"requiredMigrationStep" : false,
"type" : "test_default_ds_type",
"complete" : true,
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/distributionsets/26"
}
},
"id" : 26
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108845618,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108845618,
"name" : "three",
"description" : "elit sem dictumst facilisis ut nascetur pharetra nascetur proin iaculis",
"version" : "three",
"modules" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108845483,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108845483,
"name" : "application",
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Features
Next
Clustering
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
task
Milestone
0.3.0
Comments
Copy link
Quote reply
Member
schabdo
commented
Jan 23, 2019
•
edited
Preconditions
Migrate to Vaadin 8 (#980)
Bump Vaadin version to 8.11.x (#1010)
Migrate to Spring Boot 2.3.x (#1018)
EclipseLink version upgrade will brake SQLServer support (#1045)
Release PRE steps
Check for missing CQs
Create project plan
Request PMC approval
Generate IP Log
Release
DB and RabbitMQ integration tests and PostgreSQL testing/bug fixing
#1047
kaizimmerm
wants to merge
18
commits into
eclipse:master
from
kaizimmerm:db-test-matrix
+557
−114
Conversation
0
Commits
18
Checks
0
Files changed
27
Conversation
Copy link
Assignee
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
If a rollout fails to be created, any subsequently created rollouts will also fail to create
#1049
opened Nov 19, 2020 by
a-sayyed
eclipse/hawkbit - Gitter
Java 11 support for hawkBit by schabdo · Pull Request #1038 · eclipse/hawkbit · GitHub
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
wants to merge
3
commits into
eclipse:master
from
bosch-io:fix/problematic_rollout_handling_#1049
+127
−76
Conversation
8
Commits
3
Checks
0
Files changed
7
Conversation
Copy link
Quote reply
Contributor
a-sayyed
commented
Nov 20, 2020
Fixes #1049
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
true
topic
Topic name identifying the event
Fixed string “UPDATE_ACTION_STATUS”
true
tenant
The tenant this thing belongs to
String
false
Message Properties
Description
Type
Mandatory
content_type
The content type of the payload
String
true
Payload Template (the Java representation is ActionUpdateStatus):
{
"actionId": long,
"softwareModuleId": long,
"actionStatus":"String",
"message":["String"]
}
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
Projects
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
2 participants
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
eclipse/hawkbit - Gitter
Issues · eclipse/packages · GitHub
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
Make use of GitHub actions by ctron · Pull Request #998 · eclipse/hawkbit · GitHub
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
schabdo edited #955
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
"description" : "sapien sociis condimentum metus quisque senectus amet ullamcorper ad netus",
"version" : "1.0",
"type" : "application",
"vendor" : "Vendor Limited, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/69"
}
},
"id" : 69
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108845495,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108845495,
"name" : "os",
"description" : "dictum tincidunt sociis vehicula tempor sapien volutpat aliquam facilisi ornare",
"version" : "1.0",
"type" : "os",
"vendor" : "Vendor Limited, California",
"deleted" : false,
"_links" : {
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
master
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Check that all CQs are completed
Complete Release Review
Technical Release 0.3.0 on Maven Central
Update release notes and docker setup
schabdo
added
the
task
label
Jan 23, 2019
schabdo
added this to the 0.3.0 milestone
Jan 23, 2019
schabdo
mentioned this issue
Sep 18, 2020
When can we expect the next release?
#1005
Open
schabdo
mentioned this issue
Oct 21, 2020
Java 11 support
Quote reply
Member
kaizimmerm
commented
Nov 16, 2020
Hi,
because of #1045 I worked a bit on an integration test matrix. Leveraging Azure Pipelines up to 10 jobs in parallel capability it can be done in reasonable time. See https://dev.azure.com/kaizimmerm/eclipse/_build/results?buildId=66&view=results I also created a .devcontainer config (I cannot live without these nowadays :))
While at it I also added integration tests for the PostgreSQL support. However, the tests showed quite a lot of issues that needed fixing.
What is left is a general different behavior in RSQL queries as PostgreSQL is handling numbers not like strings. That is ok imho but I had to make some of the tests aware of that behavior.
I reverted also the Eclipselink version bump from @schabdo as this would fix #1045 for the time being. Any thoughts on that one?
Kai
kaizimmerm
added 16 commits
Nov 15, 2020
Initial matrixSigned-off-by: Kai Zimmermann <kai.zimmermann@microsoft…
…
3b35c32
….com>
License header
1
JPA Repository broken with SQLServer after Eclipselink update
bug
#1045
opened Nov 15, 2020 by
kaizimmerm
1
2
Using NATS instead of RabbitMQ
#1041
opened Nov 6, 2020 by
lab-w
Unable to install distributionset after Download Only
#1039
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
a-sayyed
added 2 commits
Nov 20, 2020
Fixed problematic Rollout creation
…
fe894b2
Signed-off-by: Ahmed Sayed <ahmed.sayed@bosch.io>
added extra information in forEachTenant execution error message
…
Loading status checks…
b64f8c1
Signed-off-by: Ahmed Sayed <ahmed.sayed@bosch.io>
a-sayyed
reviewed
Nov 20, 2020
View changes
...repository-jpa/src/main/java/org/eclipse/hawkbit/repository/jpa/JpaDeploymentManagement.java
Outdated
try {
return DeploymentHelper.runInNewTransaction(txManager, "startScheduledActions-" + rolloutId,
status -> startScheduledActions(rolloutId, distributionSetId, rolloutGroupParentId,
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
Possible actionStatus values:
Value
Description
DOWNLOAD
Device is downloading
DOWNLOADED
Device completed download
RETRIEVED
Device has retrieved the artifact
RUNNING
Update is running
FINISHED
Update process finished successful
ERROR
Error during update process
WARNING
Warning during update process
CANCELED
Cancel update process successful
CANCEL_REJECTED
Cancel update process has been rejected
Example header and payload:
Header
MessageProperties
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
master
hawkbit/CONTRIBUTING.md
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
121 lines (85 sloc)
5.23 KB
Raw
Blame
Contributing to eclipse hawkBit
👍 First off, thanks for taking the time to contribute! We really appreciate this. 👍
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/70"
}
},
"id" : 70
} ],
"requiredMigrationStep" : true,
"type" : "test_default_ds_type",
"complete" : true,
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/distributionsets/25"
}
},
"id" : 25
} ]
Error responses
HTTP Status Code
Reason
Response Model
hawkbit/hawkbit-runtime/hawkbit-update-server/README.md
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
65 lines (45 sloc)
1.59 KB
Raw
Blame
hawkBit Update Server
The hawkBit Update Server is a standalone spring-boot application with an embedded servlet container .
On your own workstation
Run
java -jar hawkbit-runtime/hawkbit-update-server/target/hawkbit-update-server-*-SNAPSHOT.jar
(Note: you have to add the JDBC driver also to your class path if you intend to use another database than H2.)
Or:
run org.eclipse.hawkbit.app.Start
Usage
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
Sign up for free
Dismiss
master
hawkbit/hawkbit-security-core/src/main/java/org/eclipse/hawkbit/im/authentication/SpPermission.java
/
Jump to
Code definitions
SpPermission
Class
getAllAuthorities
Method
SpringEvalExpressions
Class
Code navigation index up-to-date
Go to file
Go to file
T
Go to line
L
Go to definition
R
Copy path
Cannot retrieve contributors at this time
#955
Open
3 of 11 tasks complete
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
task
Projects
None yet
Milestone
0.3.0
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
6a7dcd5
MySQL DB testSigned-off-by: Kai Zimmermann <kai.zimmermann@microsoft.…
…
f7b0481
…com>
Create matrix for DBsSigned-off-by: Kai Zimmermann <kai.zimmermann@mi…
…
f260baa
…crosoft.com>
RabbitMQ and H2Signed-off-by: Kai Zimmermann <kai.zimmermann@microsof…
…
4d58d91
…t.com>
MySQL 8.0Signed-off-by: Kai Zimmermann <kai.zimmermann@microsoft.com>
1d7011d
Postgresql test supportSigned-off-by: Kai Zimmermann <kai.zimmermann@…
…
e44609c
…microsoft.com>
Postgresql test supportSigned-off-by: Kai Zimmermann <kai.zimmermann@…
opened Nov 3, 2020 by
mhoffm2
Drop support for MySQL 5.6
task
#1036
opened Oct 22, 2020 by
schabdo
artifact duplication in reported json for download-http
bug
#1025
opened Oct 13, 2020 by
badevos
3
Unnecessary SQL queries when editing target filters.
enhancement
#1023
opened Oct 8, 2020 by
Sergey-G-dev
4
UI bug with Action History table header
enhancement
good first issue
help wanted
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
JpaDeploymentManagement.ACTION_PAGE_LIMIT));
This comment has been minimized.
Sign in to view
a-sayyed
Nov 20, 2020
Author
Contributor
can the ACTION_PAGE_LIMIT be inlined further?
a-sayyed
reviewed
Nov 20, 2020
View changes
...it-repository-jpa/src/main/java/org/eclipse/hawkbit/repository/jpa/JpaRolloutManagement.java
Outdated
"countRolloutTargetGroupByRolloutGroup",
count -> rolloutTargetGroupRepository.countByRolloutGroup(group));
final long currentlyInGroup = inNewTransaction("countRolloutTargetGroupByRolloutGroup",
count -> rolloutTargetGroupRepository.countByRolloutGroup(group)).orElse(0L);
This comment has been minimized.
Sign in to view
a-sayyed
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
type=EVENT tenant=default topic=UPDATE_ACTION_STATUS
content_type=application/json
{
"actionId":137,
"softwareModuleId":17,
"actionStatus":"DOWNLOAD",
"message":["The download has started"]
}
PING
hawkBit allows DMF clients to check the availability of the DMF service. For this scenario DMF specifies a PING message that can be sent by the client:
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “PING”
true
tenant
The tenant the PING belongs to
String
false
Message Properties
Description
Type
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Sign in to start talking
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
_
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
Target State Machine - Eclipse hawkBit
Authorization - Eclipse hawkBit
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Please read this if you intend to contribute to the project.
Conventions
Code Style
Java files:
we follow the standard eclipse IDE (built in) code formatter with the following changes:
Tab policy: spaces only: 4
We recommend using at least Eclipse Mars IDE release. It seems that the Java code formatter line break handling has been changed between Luna and Mars.
XML files:
we follow the standard eclipse IDE XML formatter with the following changes:
Indent using spaces only: 3
SCSS files:
we follow the standard scss-lint rules with the following exception:
disabled rules: ImportantRule, PropertySortOrder
Sonarqube:
Our rule set can be found here with navigating to the tab "Quality Profiles", selecting "hawkBit", and then selecting "Actions" - "Back up"
Utility library usage
hawkBit has currently both guava and Apache commons lang on the classpath in several of its modules. However, we see introducing too many utility libraries problematic as we force these as transitive dependencies on hawkBit users. We in fact are looking into reducing them in future not adding new ones.
So we kindly ask contributors:
not introduce extra utility library dependencies
keep them out of the core modules (e.g. hawkbit-core, hawkbit-rest-core, hawkbit-http-security) to avoid that all modules have them as transitive dependency
use Spring utility classes if feasible
use guava if feasible
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
409 Conflict
E.g. in case an entity is created or modified by another user in another request at the same time. You may retry your modification request.
See Error body
415 Unsupported Media Type
The request was attempt with a media-type which is not supported by the server for this resource.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Handles the DELETE request for a single Distribution Set within SP. Required permission: DELETE_REPOSITORY
Delete Distribution Set
CURL
$ curl 'https://management-api.host.com/rest/v1/distributionsets/9' -i -X DELETE
Request URL
The Management UI can be accessed via http://localhost:8080/UI
The Management API can be accessed via http://localhost:8080/rest/v1
Enable Clustering (experimental)
Clustering in hawkBit is based on Spring Cloud Bus. It is not enabled in the example app by default.
Add to your application.properties :
spring.cloud.bus.enabled=true
Add to your pom.xml :
<dependency>
<groupId>org.springframework.cloud</groupId>
<artifactId>spring-cloud-stream-binder-rabbit</artifactId>
</dependency>
Optional as well is the addition of Protostuff based message payload serialization for improved performance.
Add to your application.properties :
spring.cloud.stream.bindings.springCloudBusInput.content-type=application/binary+protostuff
spring.cloud.stream.bindings.springCloudBusOutput.content-type=application/binary+protostuff
Add to your pom.xml :
<dependency>
<groupId>io.protostuff</groupId>
<artifactId>protostuff-core</artifactId>
</dependency>
<dependency>
<groupId>io.protostuff</groupId>
<artifactId>protostuff-runtime</artifactId>
</dependency>
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
437 lines (383 sloc)
18 KB
Raw
Blame
/**
* Copyright (c) 2015 Bosch Software Innovations GmbH and others.
*
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* which accompanies this distribution, and is available at
* http://www.eclipse.org/legal/epl-v10.html
*/
package org.eclipse.hawkbit.im.authentication;
import java.lang.annotation.Target;
import java.lang.reflect.Field;
import java.lang.reflect.Modifier;
import java.util.ArrayList;
import java.util.List;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.security.access.prepost.PreAuthorize;
import org.springframework.security.core.GrantedAuthority;
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
…
93c535d
…microsoft.com>
Merge branch 'db-test-matrix' of github.com:kaizimmerm/hawkbit into d…
…
f83936d
…b-test-matrix
Signed-off-by: Kai Zimmermann <kai.zimmermann@microsoft.com>
Fix DB issues post and mssql
…
60f15dd
Signed-off-by: Kai Zimmermann <kai.zimmermann@microsoft.com>
Wait MSSQL
…
404eadf
Signed-off-by: Kai Zimmermann <kai.zimmermann@microsoft.com>
Fix postgresql tests.
…
f2af382
Signed-off-by: Kai Zimmermann <kai.zimmermann@microsoft.com>
MSSQL startup fix.Signed-off-by: Kai Zimmermann <kai.zimmermann@micro…
#1014
opened Sep 23, 2020 by
Sergey-G-dev
2
Update hawkBit's license to EPL 2.0
task
#1008
opened Sep 15, 2020 by
laverman
When can we expect the next release?
question
#1005
opened Sep 7, 2020 by
endianjoakim
1
Update Spring Boot to version 2.3.x
enhancement
#999
opened Aug 24, 2020 by
AmmarBikic
0.3.0M7
1
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Sergey Gerasimov
@Sergey-G-dev
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 20, 2020
Author
Contributor
maybe we don't need to have an optional with a 'default' value, maybe we can delegate the exception to the catch block?
minor fixes
…
Loading status checks…
e41e046
Signed-off-by: Ahmed Sayed <ahmed.sayed@bosch.io>
a-sayyed
reviewed
Nov 20, 2020
View changes
...it-repository-jpa/src/main/java/org/eclipse/hawkbit/repository/jpa/JpaRolloutManagement.java
});
}
private void createAssignmentOfTargetsToGroup(final Page<Target> targets, final RolloutGroup group) {
targets.forEach(target -> rolloutTargetGroupRepository.save(new RolloutTargetGroup(group, target)));
}
@Override
This comment has been minimized.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Restructure Tenant Configuration View to make it more flexible for adaptations
#1043
Open
Nkyn
wants to merge
9
commits into
eclipse:master
base:
master
from
bosch-io:feature_anonymous_download_config
Open
Restructure Tenant Configuration View to make it more flexible for adaptations
#1043
Mandatory
correlationId
CorrelationId that allows the client to map a PING request to PING_RESPONSE
String
true
Messages sent by hawkBit (hawkBit -> Client)
CANCEL_DOWNLOAD
Message to cancel an update task.
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “Event”
true
thingId
The ID of the registered provisioning target
String
true
topic
Topic name identifying the event
Fixed string “CANCEL_DOWNLOAD”
true
tenant
The tenant this provisioning target belongs to
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
Target State Machine
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Target State Machine
A target has a current state which reflects the provisioning status of the device at this point in time. State changes are driven either by the update server by means of starting an update or by the controller on the provisioning target that gives feedback to the update server, e.g. “I am here”, “I am working on a provisioning”, “I have finished a provisioning”.
Defined states
State
Description
UNKNOWN
Authorization
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Authorization
Authorization is handled separately for Direct Device Integration (DDI) API and Device Management Federation (DMF) API (where successful authentication includes full authorization) and Management API and UI which is based on Spring security authorities.
However, keep in mind that hawkBit does not offer an off the shelf authentication provider to leverage these permissions and the underlying multi user/tenant capabilities of hawkBit but it supports authentication providers offering an OpenID Connect interface. Check out Spring security documentation for further information. In hawkBit SecurityAutoConfiguration is a good starting point for integration.
The default implementation is single user/tenant with basic auth and the logged in user is provided with all permissions. Additionally, the application properties may be configured for multiple static users; see Multiple Users for details.
DDI API
An authenticated target is permitted to:
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
packages
Watch
14
Star
25
Fork
23
Code
Issues
8
Pull requests
5
Actions
Projects
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
eclipse/hawkbit - Gitter
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
_
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
use Apache commons lang if feasible
Examples:
Prefer Arrays.asList(...) from JDK over guava's Lists.newArrayList(...)
Prefer StringUtils from Spring over guava's Strings Apache's StringUtils
Test documentation
Please documented the test cases that you contribute by means of Allure annotations and proper test method naming.
All test classes are documented with Allure's @Feature and @Story annotations in the following format:
@Feature("TEST_TYPE - HAWKBIT_COMPONENT")
@Story("Test class description")
Test types are:
Unit Tests - for single units tests with a mocked environment
Component Tests - for complete components including lower layers, e.g. Spring MVC test on rest API including repository and database.
Integration Tests - including clients, e.g. Selenium UI tests with various browsers.
System Tests - on target environments, e.g. Cloud Foundry.
Examples for hawkBit components:
Management API
Direct Device Integration API
Device Management Federation API
Management UI
Repository
DELETE /rest/v1/distributionsets/9 HTTP/1.1
Host: management-api.host.com
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
Response (Status 200)
Response example
HTTP/1.1 200 OK
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
404 Not Found
Not Found Target.
See Error body
405 Method Not Allowed
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
/**
* <p>
* Software provisioning permissions that are technically available as
* </p>
*
* <p>
* The Permissions cover CRUD for two data areas:
*
* </p>
*/
public final class SpPermission {
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
…
fd103f0
…soft.com>
Fix syntax error
…
a6aea09
Signed-off-by: Kai Zimmermann <kai.zimmermann@microsoft.com>
Further fix postgres tests.Signed-off-by: Kai Zimmermann <kai.zimmerm…
…
28f9a70
…ann@microsoft.com>
Revert unnecessary changes.
…
Loading status checks…
07ee5b6
Signed-off-by: Kai Zimmermann <kai.zimmermann@microsoft.com>
Roll-out-create failure with openid connect
question
#992
opened Aug 3, 2020 by
slv-009
Optimization of AutoAssignment Checks
question
#983
opened Jul 29, 2020 by
Sergey-G-dev
1
Permissions documentation
documentation
question
#966
opened May 12, 2020 by
Informatic
2
Hawkbit auth not working with client certificate
question
#964
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Sign in to view
a-sayyed
Nov 20, 2020
•
edited
Author
Contributor
@ Reviewer: this overrides parent with exactly the same implementation, is this intended?
This comment has been minimized.
Sign in to view
bogdan-bondar
Nov 23, 2020
Contributor
good catch, you are right, there should be only one implementation of this method. The only thing you should pay attention to/verify is the @async annotation, not sure if the one defined on the parent abstract class is taken over and respected in a child class. Additionally, could you double check if the AbstractRolloutManagement is needed at all, thanks.
bogdan-bondar
suggested changes
Nov 23, 2020
View changes
...it-repository-jpa/src/main/java/org/eclipse/hawkbit/repository/jpa/JpaRolloutManagement.java
@@ -435,29 +432,14 @@ private Long assignTargetsToGroupInNewTransaction(final JpaRollout rollout, fina
createAssignmentOfTargetsToGroup(targets, group);
Nkyn
wants to merge
9
commits into
eclipse:master
from
bosch-io:feature_anonymous_download_config
+1,089
−902
Conversation
42
Commits
9
Checks
0
Files changed
25
Conversation
Copy link
Quote reply
Contributor
Nkyn
commented
Nov 10, 2020
String
false
Message Properties
Description
Type
Mandatory
content_type
The content type of the payload
String
true
Payload template:
{
"actionId": long
}
Example Headers and Payload:
Header
MessageProperties
type=EVENT tenant=default thingId=abc topic=CANCEL_DOWNLOAD
content_type=application/json
{
"actionId":137
}
After sending this message, an action status event with either actionStatus=CANCELED or actionStatus=CANCEL_REJECTED has to be returned.
Example header and payload when cancellation is successful:
Set by default for a pre-commissioned target until first status update received from the target. Is the initial starting point for targets created by UI or management API.
IN_SYNC
Assigned Distribution Set is installed.
PENDING
Installation of assigned Distribution Set is not yet confirmed.
ERROR
Installation of assigned Distribution Set has failed.
REGISTERED
Target registered at the update server but no Distribution Set assigned. Is the initial starting point for plug-and-play devices.
Transitions
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Architecture
Next
Rollout Management
- retrieve commands from the server
- provide feedback to the the server
- download artifacts that are assigned to it
A target might be permitted to download artifacts without authentication (if enabled, see above). Only the download can be permitted to disable the authentication. This can be used in scenarios where the artifacts itself are e.g. signed and secured.
Management API and UI
Multiple Users
hawkBit optionally supports configuring multiple static users through the application properties. In this case, the user and password Spring security properties are ignored.
An example configuration is given below.
hawkbit.server.im.users[0].username=admin
hawkbit.server.im.users[0].firstname=Test
hawkbit.server.im.users[0].lastname=Admin
hawkbit.server.im.users[0].email=admin@test.de
hawkbit.server.im.users[0].permissions=ALL
hawkbit.server.im.users[1].username=test
hawkbit.server.im.users[1].firstname=Test
hawkbit.server.im.users[1].lastname=Tester
hawkbit.server.im.users[1].email=test@tester.com
hawkbit.server.im.users[1].permissions=READ_TARGET,UPDATE_TARGET,CREATE_TARGET,DELETE_TARGET
OpenID Connect
hawkbit supports authentication providers which use the OpenID Connect standard, an authentication layer built on top of the OAuth 2.0 protocol.
An example configuration is given below.
spring.security.oauth2.client.registration.oidc.client-id=clientID
spring.security.oauth2.client.registration.oidc.client-secret=oidc-client-secret
Eclipse hawkBit
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
0
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Security
Insights
Labels
16
Milestones
0
Labels
16
Milestones
0
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
Security
@Feature("Component Tests - Management API")
@Story("Distribution Set Type Resource")
In addition all test method's name describes in camel case what the test is all about and has in addition a long description in Allures @Description annotation.
Legal considerations for your contribution
Before your contribution can be accepted by the project team contributors must
electronically sign the Eclipse Contributor Agreement (ECA).
Commits that are provided by non-committers must have a Signed-off-by field in
the footer indicating that the author is aware of the terms by which the
contribution has been provided to the project. The non-committer must
additionally have an Eclipse Foundation account and must have a signed Eclipse
Contributor Agreement (ECA) on file.
For more information, please see the Eclipse Committer Handbook:
https://www.eclipse.org/projects/handbook/#resources-commit
HowTo "Sign-off" your commits:
You do this by adding the -s flag when you make the commit(s), e.g.
git commit -s -m "Shave the yak some more"
Making your changes
Fork the repository on GitHub
Create a new branch for your changes
Make your changes
Make sure you include tests
Make sure the tests pass after your changes
Commit your changes into that branch
Use descriptive and meaningful commit messages
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Handles the GET request of retrieving a single distribution set within SP. Required permission: READ_REPOSITORY
Get Distribution Set
CURL
$ curl 'https://management-api.host.com/rest/v1/distributionsets/5' -i -X GET \
-H 'Accept: application/json'
Request URL
GET /rest/v1/distributionsets/5 HTTP/1.1
Accept: application/json
Host: management-api.host.com
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
Response (Status 200)
Response fields
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
private static final Logger LOGGER = LoggerFactory.getLogger(SpPermission.class);
/**
* Permission to read the targets from the
* corresponds in REST API to GET.
*/
public static final String READ_TARGET = "READ_TARGET";
/**
* Permission to read the target security token. The security token is
* security concerned and should be protected. So the combination
* able to read the security token of an target.
*/
public static final String READ_TARGET_SEC_TOKEN = "READ_TARGET_SECURITY_TOKEN";
/**
* Permission to change/edit/update targets in the
* corresponds in REST API to POST.
*/
public static final String UPDATE_TARGET = "UPDATE_TARGET";
/**
* including their meta information and or/relations or
*/
public static final String CREATE_TARGET = "CREATE_TARGET";
/**
kaizimmerm
requested a review
from schabdo
Nov 16, 2020
kaizimmerm
marked this pull request as draft
Nov 17, 2020
kaizimmerm
force-pushed the
kaizimmerm:db-test-matrix
branch
12 times, most recently
from
ee36a74
to
c3cb284
Nov 17, 2020
kaizimmerm
force-pushed the
kaizimmerm:db-test-matrix
branch
5 times, most recently
from
49b05f2
opened May 4, 2020 by
papipano
5
Java 11 support
task
#955
opened Mar 31, 2020 by
schabdo
3 of 11
2
DMF API: What does "Forced" vs "Soft" assignment mean?
feature request
question
#953
opened Mar 27, 2020 by
ertanden
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Java 11 support for hawkBit
#1038
Merged
laverman
merged 3 commits into
eclipse:master
from
bosch-io:feature-java11
Oct 29, 2020
Merged
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
return Long.valueOf(targets.getNumberOfElements());
return (long) targets.getNumberOfElements();
This comment has been minimized.
Sign in to view
bogdan-bondar
Nov 23, 2020
Contributor
TransactionCallback can't work with primitive type, meaning that if you return primitive long here you would introduce unnecessary autoboxing.
...it-repository-jpa/src/main/java/org/eclipse/hawkbit/repository/jpa/JpaRolloutManagement.java
});
}
private void createAssignmentOfTargetsToGroup(final Page<Target> targets, final RolloutGroup group) {
targets.forEach(target -> rolloutTargetGroupRepository.save(new RolloutTargetGroup(group, target)));
}
@Override
This comment has been minimized.
Sign in to view
bogdan-bondar
•
edited
To get a more flexible Tenant Configuration View and thus be able to adapt the view more easily or adding/removing views, the view is restructured. The individual views are not instantiated inside the general Configuration view anymore, but with a list of beans.
Copy link
hawkbit-bot
commented
Nov 10, 2020
Can one of the admins verify this patch?
Nkyn
reviewed
Nov 10, 2020
View changes
...test/java/org/eclipse/hawkbit/amqp/AmqpMessageDispatcherServiceTest.java
Outdated
Show resolved
Hide resolved
Nkyn
reviewed
Header
MessageProperties
type=EVENT tenant=default topic=UPDATE_ACTION_STATUS
content_type=application/json
{
"actionId":137,
"softwareModuleId":17,
"actionStatus":"CANCELED",
"message":["The update was canceled."]
}
Example header and payload when cancellation is rejected:
Header
MessageProperties
type=EVENT tenant=default topic=UPDATE_ACTION_STATUS
content_type=application/json
{
"actionId":137,
"softwareModuleId":17,
"actionStatus":"CANCEL_REJECTED",
"message":["The cancellation was not possible since the target sent an unexpected response."]
spring.security.oauth2.client.provider.oidc.issuer-uri=https://oidc-provider/issuer-uri
spring.security.oauth2.client.provider.oidc.authorization-uri=https://oidc-provider/authorization-uri
spring.security.oauth2.client.provider.oidc.token-uri=https://oidc-provider/token-uri
spring.security.oauth2.client.provider.oidc.user-info-uri=https://oidc-provider/user-info-uri
spring.security.oauth2.client.provider.oidc.jwk-set-uri=https://oidc-provider/jwk-set-uri
Delivered Permissions
READ/UPDATE/CREATE_/DELETE_TARGETS for:
Target entities including metadata (that includes also the installed and assigned distribution sets)
Target tags
Target actions
Target registration rules
Bulk operations
Target filters
READ/UPDATE/CREATE_/DELETE_REPOSITORY for:
Distribution sets
Software Modules
Artifacts
DS tags
READ_TARGET_SECURITY_TOKEN
Permission to read the target security token. The security token is security concerned and should be protected.
DOWNLOAD_REPOSITORY_ARTIFACT
Permission to download artifacts of a software module (Note: READ_REPOSITORY allows only to read the metadata).
TENANT_CONFIGURATION
Permission to administrate the tenant settings.
Community Day - Eclipse hawkBit
EclipseCon Europe 2019
Welcome...
Kai Zimmermann
Project Lead - Microsoft
Jeroen Laverman
Project Lead - Bosch
About
Eclipse hawkBit aims to create a domain independent back end solution for rolling out
software
updates
to constrained edge devices as well as more powerful controllers and gateways connected to IP based
networking infrastructure
Big picture
Project update...
Statistics (10/2019)
hawkbit Core: 207
(+58)
stars, 717 (+95) PRs, 172 (+35) issues
hawkbit
Extensions: 41 (+11) PRs
hawkbit
Examples: 35 (+10) PRs
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Clear current search query, filters, and sorts
6 Open
5 Closed
6 Open
5 Closed
Author
Filter by author
Label
Filter by label
Use alt + click/return to exclude labels.
Projects
Filter by project
Milestones
Filter by milestone
Assignee
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
Authentication - Eclipse hawkBit
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
Eclipse hawkBit: Bei Dingen einfach die Software aktualisieren - JAXenter
Newest 'eclipse-hawkbit' Questions - Stack Overflow
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Make use of GitHub actions
#998
Open
ctron
wants to merge
1
commit into
eclipse:master
base:
master
from
ctron:feature/github_actions_1
Open
Make use of GitHub actions
#998
eclipse/hawkbit - Gitter
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
_
Sergey Gerasimov
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
_
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
_
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
If you have a lot of commits squash them into a single commit
Make sure you use the -s flag when committing as explained above.
Push your changes to your branch in your forked repository
Submitting the changes
Submit a pull request via the normal GitHub UI (desktop or web).
After submitting
Do not use your branch for any other development, otherwise further changes that you make will be visible in the PR.
Further information
Eclipse Project Page
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
Path
Type
Description
Allowed Values
id
Number
The technical identifier of the entity
name
String
The name of the entity
description
String
The description of the entity
createdBy
String
Entity was originally created by User, AMQP-Controller, anonymous etc.)
createdAt
Number
Entity was originally created at (timestamp UTC in milliseconds)
lastModifiedBy
String
Entity was last modified by User, AMQP-Controller, anonymous etc.)
lastModifiedAt
Number
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
* corresponds in REST API to DELETE.
*/
public static final String DELETE_TARGET = "DELETE_TARGET";
/**
* That corresponds in REST API to GET.
*/
public static final String READ_REPOSITORY = "READ_REPOSITORY";
/**
* in REST API to POST.
*/
public static final String UPDATE_REPOSITORY = "UPDATE_REPOSITORY";
/**
* the repository. That corresponds in REST API to PUT.
*/
public static final String CREATE_REPOSITORY = "CREATE_REPOSITORY";
/**
* from the repository. That corresponds in REST API to DELETE.
*/
public static final String DELETE_REPOSITORY = "DELETE_REPOSITORY";
to
8c209d0
Nov 17, 2020
Add SonarCloud Signed-off-by: Kai Zimmermann <kai.zimmermann@microsof…
…
Loading status checks…
9e8a923
…t.com>
kaizimmerm
force-pushed the
kaizimmerm:db-test-matrix
branch
from
8c209d0
to
9e8a923
Nov 17, 2020
kaizimmerm
marked this pull request as ready for review
Nov 17, 2020
kaizimmerm
force-pushed the
kaizimmerm:db-test-matrix
5
Accepting cancellation doesn't work
documentation
#952
opened Mar 26, 2020 by
ctron
3
No "weight" field present in UI in case a user enables "multiple distribution"
feature request
#940
opened Feb 28, 2020 by
vipulbhatia
0.3.0M7
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
Java 11 support for hawkBit
#1038
laverman
merged 3 commits into
eclipse:master
from
bosch-io:feature-java11
Oct 29, 2020
Conversation
1
Commits
3
Checks
_
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
Nov 23, 2020
Contributor
good catch, you are right, there should be only one implementation of this method. The only thing you should pay attention to/verify is the @async annotation, not sure if the one defined on the parent abstract class is taken over and respected in a child class. Additionally, could you double check if the AbstractRolloutManagement is needed at all, thanks.
...it-repository-jpa/src/main/java/org/eclipse/hawkbit/repository/jpa/JpaRolloutManagement.java
@@ -593,7 +575,7 @@ private Long createActionsForTargetsInNewTransaction(final long rolloutId, final
createScheduledAction(targets.getContent(), distributionSet, actionType, forceTime, rollout, group);
}
return Long.valueOf(targets.getNumberOfElements());
return (long) targets.getNumberOfElements();
This comment has been minimized.
Sign in to view
bogdan-bondar
Nov 23, 2020
Contributor
same here, unnecessary autoboxing
...it-repository-jpa/src/main/java/org/eclipse/hawkbit/repository/jpa/JpaRolloutManagement.java
*/
private void assertActionsPerTargetQuota(final Target target, final int requested) {
private void assertActionsPerTargetQuota(final Target target) {
This comment has been minimized.
Sign in to view
bogdan-bondar
Nov 10, 2020
View changes
...test/java/org/eclipse/hawkbit/amqp/AmqpMessageDispatcherServiceTest.java
Outdated
Show resolved
Hide resolved
Nkyn
reviewed
Nov 10, 2020
View changes
.../org/eclipse/hawkbit/integration/AbstractAmqpServiceIntegrationTest.java
Outdated
Show resolved
Hide resolved
Nkyn
reviewed
Nov 10, 2020
View changes
.../org/eclipse/hawkbit/integration/AbstractAmqpServiceIntegrationTest.java
Outdated
Show resolved
Hide resolved
}
DOWNLOAD_AND_INSTALL or DOWNLOAD
Message sent by hawkBit to initialize an update or download task. Note: in case of a maintenance window configured but not yet active the message will have the topic DOWNLOAD instead of _DOWNLOAD_ANDINSTALL.
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “EVENT”
true
thingId
The ID of the registered provisioning target
String
true
topic
Topic name identifying the event
Fixed string “DOWNLOAD_AND_INSTALL” or “DOWNLOAD”
true
tenant
The tenant this provisioning target belongs to
String
false
Message Properties
Description
ROLLOUT_MANAGEMENT
Permission to provision targets through rollouts.
Permission Matrix for example uses cases that need more than one permission
Use Case
Needed permissions
Search targets by installed or assigned distribution set
READ_TARGET, READ_REPOSITORY
Assign DS to a target
READ_REPOSITORY, UPDATE_TARGET
Assign DS to target through a Rollout, i.e. Rollout creation and start
READ_REPOSITORY, UPDATE_TARGET, ROLLOUT_MANAGEMENT
Read Rollout status including its deployment groups
ROLLOUT_MANAGEMENT
Checks targets inside Rollout deployment group
READ_TARGET, ROLLOUT_MANAGEMENT
Device Management Federation API
The provided RabbitMQ vhost and user should be provided with the necessary permissions to send messages to hawkBit through the exchange and receive messages from it through the specified queue.
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
Docker Hub: 50K+
(+47K)
PULLS
We have been busy
Add Multi-User support (#829)
Introduce Multi-Assignments (#833)
Introduce new action-type DOWNLOAD_ONLY (#810)
Execute Auto-Assignments with different action-types (#789)
Introduce THING_REMOVED message on DMF-API (#891)
DDI-API supports SHA256 signature for artifacts (#869)
... and many
smaller enhancements and bug fixes
Cloud support updates...
Azure: inner cluster messaging (with Event
Hubs)
Azure: deployment guidance and k8s helm
as well as Azure
Resource Manager templates
More storage providers: Azure
Blob Storage, Google Cloud Storage
Roadmap...
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Filter by who’s assigned
Sort
Sort by
Newest
Oldest
Most commented
Least commented
Recently updated
Least recently updated
Most reactions
👍
👎
😄
🎉
😕
❤️
🚀
👀
Use azure file shares as persistent storage
hawkBit
#162
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Authentication
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Authentication
A hawkBit update server can be accessed in four different ways:
Direct Device Integration (DDI) API by targets.
Management API by 3rd party applications.
Device Management Federation (DMF) API by 3rd party applications through AMQP.
Management UI by users.
DDI API Authentication Modes
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Toggle navigation
Home
News
Artikel
Videos
Java Magazin
e.academy
JAX 2020
Suche
Java
DevOps
Microservices
Serverless
Kubernetes
Blockchain
Eclipse
Android
Agile
Machine Learning
DevOps im Jahr 2020:
Unsere große DevOps-Umfrage
DevOpsCon Hybrid Edition | 30. Nov. – 3. Dez | München & Online
Stack Overflow
About
Products
For Teams
Stack Overflow
Public questions & answers
Stack Overflow for Teams
Where developers & technologists share private knowledge with coworkers
Jobs
Programming & related technical career opportunities
Talent
Recruit tech talent & build your employer brand
Advertising
Reach developers & technologists worldwide
About the company
Loading…
Log in
Sign up
current community
Stack Overflow
help
chat
ctron
wants to merge
1
commit into
eclipse:master
from
ctron:feature/github_actions_1
Conversation
3
Commits
1
Checks
0
Files changed
Conversation
Copy link
Quote reply
ctron
commented
Aug 24, 2020
This PR allows to use GitHub actions in additions to CircleCI.
Everyone already has GitHub actions when using GitHub. So this makes it easier for people to contribute. As CircleCI forces you into creating an account and granting full access to all public repositories, just for viewing the test failures.
Signed-off-by: Jens Reimann jreimann@redhat.com
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
_
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Entity was last modified at (timestamp UTC in milliseconds)
type
String
The type of the distribution set.
requiredMigrationStep
Boolean
True if DS is a required migration step for another DS. As a result the DS’s assignment will not be cancelled when another DS is assigned (note: updatable only if DS is not yet assigned to a target)
complete
Boolean
True of the distribution set software module setup is complete as defined by the distribution set type.
deleted
Boolean
Deleted flag, used for soft deleted entities
version
String
Package version.
_links.type
Object
The type of the distribution set.
_links.metadata
Object
List of metadata.
_links.modules
Object
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
/**
* Permission to administrate the system on a global, i.e. tenant
* independent scale. That includes the deletion of tenants.
*/
public static final String SYSTEM_ADMIN = "SYSTEM_ADMIN";
/**
* Permission to download repository artifact of an software module.
*/
public static final String DOWNLOAD_REPOSITORY_ARTIFACT = "DOWNLOAD_REPOSITORY_ARTIFACT";
/**
* Permission to administrate the tenant settings.
*/
public static final String TENANT_CONFIGURATION = "TENANT_CONFIGURATION";
/**
* Permission to read a rollout.
*/
public static final String READ_ROLLOUT = "READ_ROLLOUT";
/**
* Permission to create a rollout.
*/
public static final String CREATE_ROLLOUT = "CREATE_ROLLOUT";
/**
branch
4 times, most recently
from
65750e2
to
ebd64ad
Nov 18, 2020
kaizimmerm
mentioned this pull request
Nov 19, 2020
JPA Repository broken with SQLServer after Eclipselink update
#1045
Open
Simplify devcontainer. Test JDK 15Signed-off-by: Kai Zimmermann <kai.…
…
Loading status checks…
bd83d2d
…zimmermann@microsoft.com>
kaizimmerm
force-pushed the
kaizimmerm:db-test-matrix
branch
from
1
1
Indempotent metadata update
feature request
#915
opened Nov 20, 2019 by
Informatic
1
Hawkbit multitenancy implementation
feature request
#914
opened Nov 19, 2019 by
michalsroka
2
Conditional rollout prioritization
feature request
#863
opened Jul 12, 2019 by
jdallaglio
1
2
Integration with other device inventories
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
0
Files changed
Conversation
Copy link
Quote reply
Member
schabdo
commented
Oct 26, 2020
Changes allow to bump Java source level from 8 to 11 passing all tests on JDK 11.
However I do not enforce the switch to Java 11 yet (cf. Java 11 roadmap).
Main changes:
Latest stable EclipseLink version fixing invalid JPA type serialization
Fixed compiler and JPA spec violation which is enforced since Java 9 (cf. JDK-8157181)
Fixed NPE in eclipselink-maven-plugin while parsing JPA annotations
schabdo
added 2 commits
Oct 23, 2020
hawkBit on Java 11
…
e6d7a2e
Signed-off-by: Dominic Schabel <dominic.schabel@bosch.io>
Merge branch 'master' into feature-java11
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
Nov 23, 2020
Contributor
I would rename the method, so that is clear we are checking only one additional Action quota
...-repository-jpa/src/main/java/org/eclipse/hawkbit/repository/jpa/utils/DeploymentHelper.java
try {
return transactionTemplate.execute(action);
} catch (final Exception e) {
This comment has been minimized.
Sign in to view
bogdan-bondar
Nov 23, 2020
Contributor
Does it make sense to rethrow the TransactionExecutionException here? I would rather catch the TransactionException and Runtime exception and just log the error with the transaction name here. The reason behind my idea is that I couldn't find any valuable use (e.g. retrying a transaction) of catching the TransactionExecutionException except of just logging. What do you think?
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
bogdan-bondar
Assignees
No one assigned
Labels
Nkyn
added 3 commits
Oct 16, 2020
Extract view creation for Configuration Components into Beans;
…
0fb0962
Split implementations of config Binders into corresponding view classes:
- add ProxySystemConfig classes respectively for ConfigurationViews;
- create Binder and config Bean in BaseConfigurationView via Generics;
- extend ConfigurationViews from BaseConfigurationView;
- populate Binders and config Bean in ConfigurationView;
- access binder getter/setter in ConfigurationItem through corresponding ProxySystemConfig;
- autowire Collection of Config Views in TenantConfigurationDashboardView;
- create components, call save and undo for each config view in Collection
Signed-off-by: Natalia Kislicyn <natalia.kislicyn@bosch.io>
Do not send the target token when anonymous download is enabled
…
e09a4ae
Signed-off-by: Natalia Kislicyn <natalia.kislicyn@bosch.io>
Update amqp tests to cover enabled anonymous download config
…
Type
Mandatory
content_type
The content type of the payload
String
true
Payload Template (the Java representation is DmfDownloadAndUpdateRequest):
{
"actionId": long,
"targetSecurityToken": "String",
"softwareModules":[
{
"moduleId": long,
"moduleType":"String",
"moduleVersion":"String",
"artifacts":[
{
"filename":"String",
"urls":{
"HTTP":"String",
"HTTPS":"String"
},
"hashes":{
"md5":"String",
"sha1":"String"
},
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Data Model
Next
Authentication
Outlook
Vaadin 8 (#880)
Release 0.3.0 (#784)
Prioritization of updates (#863)
Integration with other device inventories (#796)
Support of new Eclipse IoT Packages project
Thank you
101
tutorial
From
Eclipse hawkBit to Update Factory
hawkbit
eclipse/hawkbit
eclipse/hawkbit
eclipse.org/hawkbit
Eclipse Foundation |
Privacy Policy |
Terms of Use |
Copyright Agent |
Legal
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
_
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
opened Nov 16, 2020 by
superkartoffel
1
Update ingress to comply with kubernetes 1.16
hawkBit
#150
opened Oct 2, 2020 by
oscarfh
[hawkbit] update ingress version for kubernetes >= 1.14
hawkBit
#149
opened Sep 30, 2020 by
rpahli
1
Wrong credentials for hawkbit
hawkBit
#145
opened Sep 23, 2020 by
eliot4321
[#78] Configure Hawkbit to accept proxy forward headers by default
hawkBit
#87
opened Apr 1, 2020 by
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
_
Jens Reimann
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
Security Token
hawkBit supports multiple ways to authenticate a target against the server. The different authentication modes can be individual enabled and disabled within hawkBit. Both on system level (with Spring Boot properties) as per individual tenant.
Target Security Token Authentication
There is a 32 alphanumeric character security-token for each created target within IoT hawkBit. This token can be used to authenticate the target at hawkBit through the HTTP-Authorization header with the custom scheme TargetToken.
GET /SPDEMO/controller/v1/0e945f95-9117-4500-9b0a-9c6d72fa6c07 HTTP/1.1
Host: your.hawkBit.server
Authorization: TargetToken bH7XXAprK1ChnLfKSdtlsp7NOlPnZAYY
The target security token is provided in DMF API as part of the update message in order to allow DMF clients to leverage the feature or can it be manually retrieved per target by Management API or in the Management UI in the target details.
Note: needs to be enabled in your hawkBit installation and in the tenant configuration. That allows both the operator as well as the individual customer (if run in a multi-tenant setup) to enable this access method. See DdiSecurityProperties for system wide enablement.
The additional activation for the individual tenant:
Gateway Security Token Authentication
Often the targets are connected through a gateway which manages the targets directly and as a result are indirectly connected to the hawkBit update server.
To authenticate this gateway and allow it to manage all target instances under its tenant there is a GatewayToken to authenticate this gateway through the HTTP-Authorization header with a custom scheme GatewayToken. This is of course also handy during development or for testing purposes. However, we generally recommend to use this token with care as it allows to act in the name of any device.
GET /SPDEMO/controller/v1/0e945f95-9117-4500-9b0a-9c6d72fa6c07 HTTP/1.1
Host: your.hawkBit.server
Authorization: GatewayToken 3nkswAZhX81oDtktq0FF9Pn0Tc0UGXPW
Note: needs to be enabled in your hawkBit installation and in the tenant configuration. That allows both the operator as well as the individual customer (if run in a multi-tenant setup) to enable this access method. See DdiSecurityProperties for system wide enablement.
The additional activation for the individual tenant:
Anonymous access
Here we offer general anonymous access for all targets (see DdiSecurityProperties) which we consider not really sufficient for a production system but it might come in handy to get a project started in the beginning.
However, anonymous download on the other side might be interesting even in production for scenarios where the artifact itself is already encrypted.
The activation for the individual tenant:
DMF API
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
_
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
Das IT-Job-Event
02. Dezember 2020
W-JAX 2020 Online Edition | 2. bis 6. November | Online
Nächster Beitrag:
"JAX Innovation Awards 2016: Die Nominierten im Rampenlicht"
X
Softwareupdate im IoT
Eclipse hawkBit: Bei Dingen einfach die Software aktualisieren
#Eclipse
#Internet of Things
12. Oktober 2016
Kai Zimmermann, Michael Hirsch
© Shutterstock.com / Mikko Lemola
Eclipse hawkBit ist ein Projekt der Eclipse IoT Working Group, die eine offene Plattform für das Internet der Dinge schaffen will. Ziel des hawkBit-Projekts ist es, ein Framework bereitzustellen, das es einfach möglich macht, die Funktionalität „Softwareupdate“ in eine IoT-Lösung oder -Plattform zu bringen.
Das Ausrollen von Software auf Embedded-Steuergeräte bis hin zu mächtigeren Gateways ist eine typische Anforderung, die uns in den meisten IoT-Projekten begegnet. Softwareupdates für Geräte abbilden zu können, eröffnet dem jeweiligen Projekt eine Reihe neuer Möglichkeiten: Zunächst einmal einen Weg, um der zunehmenden Anzahl von Sicherheitsproblemen zu begegnen. Sobald ein Gerät „connected“ ist, bietet sich eine komplett neue Angriffsfläche, auf die Embedded-Software- und Hardwareentwickler nun vorbereitet sein müssen.
Erfreulicher ist die Möglichkeit, mit Softwareupdate den Embedded-Software-Entwicklern ein agiles Entwicklungsmodell zu ermöglichen, das nicht mehr verlangt, alle Funktionen des Geräts zum Fertigungszeitpunkt der Hardware komplett ausimplementiert haben zu müssen.
Hier und dort ist Softwareupdate per se auch ein Geschäftsmodell. Es kann ein Produkt für den Konsumenten deutlich attraktiver machen, da er es nicht nur mit einem Umfang X kauft, sondern mit dem Versprechen auf die zukünftige Entwicklung des Produkts. Bei Smartphones oder PCs ist das schon lange selbstverständlich. In traditionellen Branchen, für die das IoT jetzt spannend wird, bisher weniger. Tesla ist ein Beispiel für die Vermarktung des Softwareupdates als Produktfeature aus einer Branche, in der bisher nur wenig „connected“ war. Zusätzlich kann auch das Verkaufen von nachgelieferten Funktionen („Apps“) ein interessantes Geschäftsmodell in den neuen IoT-Domänen sein.
Wir müssen dabei beachten, dass Cloud-gestützte Softwareupdates im IoT-Kontext eine ganze Reihe Herausforderungen mit sich bringen, die wir aus dem Aktualisieren von Servern, PCs oder Smartphones so nicht kennen. Positiv steht dem gegenüber, dass Softwareupdate als Funktion im IoT aus Backend-Sicht relativ unabhängig von der konkreten Domäne ist und daher auch nur einmal implementiert werden muss. Das Aktualisieren eines „Smart Homes“, einer Fertigungsstraße oder eines Fahrzeugs bringt im Kern die gleichen Anforderungen mit sich, unterscheidet sich aber sicherlich zum Beispiel hinsichtlich der Sicherheitsanforderungen und natürlich bei dem, was auf dem Gerät selbst passiert.
Eclipse hawkBit wurde als Projekt gestartet, um genau diesen domänenunabhängigen Anforderungen gerecht zu werden. Dazu stellt hawkBit eine Reihe Fähigkeiten bereit:
Ein Geräte- und Software-Repository
Meta Stack Overflow
your communities
Sign up or log in to customize your list.
more stack exchange communities
company blog
By using our site, you acknowledge that you have read and understand our Cookie Policy, Privacy Policy, and our Terms of Service.
Home
Public
Stack Overflow
Tags
Users
Find a Job
Jobs
Companies
Teams
What’s this?
Free 30 Day Trial
Teams
Q&A for Work
Stack Overflow for Teams is a private, secure spot for you and
your coworkers to find and share information.
Learn more
Make use of GitHub actions
…
Loading status checks…
f3bf4c4
Signed-off-by: Jens Reimann <jreimann@redhat.com>
Copy link
Contributor
floruschbaschan
commented
Aug 26, 2020
Thanks a lot for your contribution to Hawkbit (#998). We will look at it and then give feedback. But please keep in mind that currently many colleagues are having vacation so it might take it little bit longer as usual.
👍
1
Copy link
Member
schabdo
commented
Oct 1, 2020
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
List of software modules.
Response example
HTTP/1.1 200 OK
Content-Length: 2578
Content-Type: application/json;charset=UTF-8
{
"createdBy" : "bumlux",
"createdAt" : 1582108824626,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108824676,
"name" : "DS",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0",
"modules" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108824544,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108824796,
"name" : "Firmware",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.17",
"type" : "os",
"vendor" : "vendor Limited Inc, California",
"deleted" : false,
"_links" : {
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
* Permission to update a rollout.
*/
public static final String UPDATE_ROLLOUT = "UPDATE_ROLLOUT";
/**
* Permission to delete a rollout.
*/
public static final String DELETE_ROLLOUT = "DELETE_ROLLOUT";
/**
* Permission to start/stop/resume a rollout.
*/
public static final String HANDLE_ROLLOUT = "HANDLE_ROLLOUT";
/**
* Permission to approve or deny a rollout prior to starting.
*/
public static final String APPROVE_ROLLOUT = "APPROVE_ROLLOUT";
private SpPermission() {
// Constants only
}
/**
* Return all permission.
*
* @param exclusionRoles
* roles which will excluded
ebd64ad
to
bd83d2d
Nov 19, 2020
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
schabdo
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
JPA Repository broken with SQLServer after Eclipselink update
1 participant
Add this suggestion to a batch that can be applied as a single commit.
enhancement
#796
opened Feb 6, 2019 by
stefbehl
8
Allow to interrupt file upload from UI
feature request
help wanted
#785
opened Jan 25, 2019 by
diegorondini
1
Release 0.3.0
task
#784
opened Jan 23, 2019 by
schabdo
2 of 12
0.3.0
Previous 1 2 Next
Previous Next
ProTip!
Exclude everything labeled bug with -label:bug.
© 2020 GitHub, Inc.
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
_
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Loading status checks…
5349d35
schabdo
added
task
CQ
labels
Oct 26, 2020
schabdo
added this to the 0.3.0M7 milestone
Oct 26, 2020
schabdo
mentioned this pull request
Oct 26, 2020
Java 11 support
#955
Open
3 of 11 tasks complete
Reference to created GH issue added
…
Loading status checks…
c127336
Signed-off-by: Dominic Schabel <dominic.schabel@bosch.io>
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
If a rollout fails to be created, any subsequently created rollouts will also fail to create
2 participants
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Loading status checks…
04ed307
Signed-off-by: Natalia Kislicyn <natalia.kislicyn@bosch.io>
Nkyn
force-pushed the
bosch-io:feature_anonymous_download_config
branch
from
b144da5
to
04ed307
Nov 10, 2020
…
Loading status checks…
5c0e676
Make createDownloadAndUpdateRequest protected;
Undo some of previous test changes;
Signed-off-by: Natalia Kislicyn <natalia.kislicyn@bosch.io>
Nkyn
"size":long
}],
"metadata":[
{
"key":"String",
"value":"String"
}
]
}]
}
Example header and payload:
Header
MessageProperties
type=EVENT tenant=default thingId=abc topic=DOWNLOAD_AND_INSTALL
content_type=application/json
{
"actionId":137,
"targetSecurityToken":"bH7XXAprK1ChnLfKSdtlsp7NOlPnZAYY",
"softwareModules":[
{
"moduleId":7,
"moduleType":"firmware",
"moduleVersion":"7.7.7",
"artifacts":[
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
_
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
ctron
1
Hawkbit hands out internal URLs
hawkBit
#78
opened Mar 20, 2020 by
ctron
1
2
ProTip!
Updated in the last three days: updated:>2020-11-20.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
Authentication is provided by RabbitMQ vhost and user credentials that is used for the integration.
Management API
Basic Auth
Management UI
Login Dialog
OpenID Connect
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Authorization
Next
Features
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
Schnittstellen zur flexiblen Geräteintegration
Benutzeroberfläche und Schnittstellen zum Durchführen der Softwareupdateoperationen und dem Verwalten des Repositories
Eine moderne, auf Spring Boot basierende Architektur, die es einfach ermöglicht, hawkBit an die eigenen Bedürfnisse anzupassen
Nicht funktional geht es dazu noch um:
Schnittstellenstabilität für langlebige Geräte
Schnittstellenflexibilität für die Geräteintegration im Projekt
Funktionale Skalierbarkeit für große Roll-outs im IoT-Kontext
Ende-zu-Ende-Sicherheit im Softwareupdateprozess
Eclipse hawkBit bringt bisher allerdings keine fertigen Geräteclients mit. Hier hofft das Projekt auf die aktive Mitarbeit der Community.
Die Anforderungen
Kommen wir nun zu den Spezialitäten bei den Anforderungen. Sie hängen stark mit der einfachen Wahrheit zusammen, dass der Softwareupdateprozess der eine Prozess ist, der niemals versagen darf. Er kann die größte Rettung für ein IoT-System sein, da mit einem erfolgreichen Update fast jedes Problem auf dem Gerät behoben werden kann. Schnittstellen in die Cloud können zudem angepasst und erweitert werden, um zu dortigen Änderungen kompatibel zu bleiben. Auf der anderen Seite ist das Update aber auch das größte Risiko für das Gerät, da damit praktisch jeder Sicherheitsmechanismus ausgehebelt werden kann.
Auch hängt die Überlebensfähigkeit des Geräts davon ab, dass der Softwareupdatemechanismus stabil über die Lebensdauer des Geräts funktioniert. Dies sind oftmals Jahre oder gar Jahrzehnte. Auch ist das manuelle Eingreifen eines Gerätebenutzers im IoT-Kontext, anders als bei PC und Smarthone, oftmals keine (bezahlbare) Option.
Auf drei der wichtigsten Anforderungen wollen wir etwas detaillierter eingehen. Dazu haben wir noch eine Anforderung in petto, die Eclipse hawkBit bewusst nicht adressiert, die aber nicht minder wichtig ist.
Schnittstellenstabilität
IoT-Geräte haben oftmals eine Lebensdauer, die von einigen Jahren im Consumer-Markt bis hin zu einigen Jahrzenten im industriellen und Automotive-Markt reichen kann. Zu berücksichtigen ist dabei, dass es durchaus Szenarien gibt, in denen vernetzte Geräte sich über lange Zeiträume gar nicht erst im Backend melden. Ein Gerät kann gefertigt sein, wandert dann jedoch für ein oder zwei Jahre ins Lager. Noch länger könnte es bei einem Gerät dauern, das bereits verkauft, installiert, aber nie connected wurde, zum Beispiel weil ein Kunde zwar eine „Cloud-ready“-Heizanlage oder einen Wechselrichter im Haus hat, aber nie dazu gekommen ist, die Internetverkabelung dorthin zu legen.
Im Ergebnis sind wir mit der Situation konfrontiert, dass ein Gerät erst nach Jahren das erste Mal auf eine Cloud treffen kann. Niemand verlangt, dass das fachliche Backend noch mit gleicher Schnittstelle existiert wie zum Fertigungszeitpunkt. Die Funktionalität „Softwareupdate“ muss aber zumindest noch funktionieren.
Schnittstellenflexibilität
Zunächst im Widerspruch zu dem Anspruch an stabile Schnittstellen müssen diese gleichermaßen flexibel sein, da im IoT bis heute kein verbreiteter Standard für die Gerätekonnektivität oder das Devicemanagement existiert. Auf Ebene des Transportprotokolls sehen wir von HTTP über MQTT, AMQP oder CoAP so ziemlich alles im Einsatz. Im Devicemanagement existieren mit OMA-DM, LWM2M oder TR-069 zwar einige Standards, in der Praxis konnte sich aber bisher keiner wirklich domänenübergreifend durchsetzen.
Die Folge ist, dass in vielen Projekten das Devicemanagement tendenziell über ein selbst entwickeltes Protokoll erledigt wird. Zudem wird üblicherweise auch nur ein Kanal verwendet, um Operationen wie das Softwareupdate auf dem Gerät und fachlichem Datentransport vom Gerät in die Cloud zu bewerkstelligen.
Questions tagged [eclipse-hawkbit]
Ask Question
The eclipse-hawkbit tag has no usage guidance.
Learn more…
Top users
Synonyms
2
questions
Newest
Active
Bountied
Unanswered
More
Bountied
0
Unanswered
Frequent
Votes
Unanswered (my tags)
Filter
Filter by
No answers
No accepted answer
•
edited
Thanks a lot @ctron, highly appreciated! Indeed GitHub actions don't require anything and are well integrated. So for sure we could add them additionally to CircleCI and gain some experience. Depending of the outcome of this discussion they may become our default CI very fast :)
I do have only one remark: Since AmqpAuthenticationMessageHandlerIntegrationTest tries to connect to a RabbitMQ broker (which is available on CircleCI) we will encounter errors in the output of Surefire. These errors are shown as "Check failure" annotations at the end of each action run, however build will succeed. FMPOV it would be cool to have this fixed before we introduce GitHub actions. From my own experience false-positives often lower the acceptance rate of something new :)
Long story short: I'll try to fix the mentioned test somehow but this will need more time. Meanwhile if somebody could lend a hand here this would be awesome!
eclipse
deleted a comment from
hawkbit-bot
Oct 1, 2020
Copy link
Member
schabdo
commented
Oct 12, 2020
I think I found a better way to get the mentioned issue addressed. Luckily there is a RabbitMQ action available which could be leveraged to execute the AMQP integration tests in a proper manner and consider the test results within a build (like we do on CircleCI). This should do the trick:
- uses: nijel/rabbitmq-action@v1.0.0
with:
rabbitmq version: '3.7-alpine'
@ctron having the RabbitMQ in place we're good to go for master. May I ask you to add this to this PR?
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/15"
}
},
"id" : 15
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108824460,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108824743,
"name" : "application",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.87",
"type" : "application",
"vendor" : "vendor Limited, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/13"
}
},
"id" : 13
}, {
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
_
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
_
Bondar Bogdan
@bogdan-bondar
* @return all permissions
*/
public static List<String> getAllAuthorities() {
final List<String> allPermissions = new ArrayList<>();
final Field[] declaredFields = SpPermission.class.getDeclaredFields();
for (final Field field : declaredFields) {
if (Modifier.isPublic(field.getModifiers()) && Modifier.isStatic(field.getModifiers())) {
field.setAccessible(true);
try {
final String role = (String) field.get(null);
allPermissions.add(role);
} catch (final IllegalAccessException e) {
LOGGER.error(e.getMessage(), e);
}
}
}
return allPermissions;
}
/**
* <p>
* Contains all the spring security evaluation expressions for the
* </p>
*
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
vigier
approved these changes
Oct 29, 2020
View changes
Copy link
Quote reply
Contributor
vigier
left a comment
👍 looks good - looking forward to switch to Java 11 😄 ☕
Hide details
View details
laverman
merged commit ed9a4b1
into
eclipse:master
Oct 29, 2020
3 checks passed
3 checks passed
ci/circleci: build
Your tests passed on CircleCI!
Details
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
marked this pull request as ready for review
Nov 12, 2020
Add license header to ProxySystemConfigDsType
…
Loading status checks…
40b4bb0
Signed-off-by: Natalia Kislicyn <natalia.kislicyn@bosch.io>
Nkyn
reviewed
Nov 17, 2020
View changes
...pse/hawkbit/ui/tenantconfiguration/TenantConfigurationDashboardView.java
Outdated
Show resolved
Hide resolved
Nkyn
reviewed
Nov 17, 2020
{
"filename":"artifact.zip",
"urls":{
"HTTP":"http://download-from-url.com",
"HTTPS":"https://download-from-url.com"
},
"hashes":{
"md5":"md5hash",
"sha1":"sha1hash"
},
"size":512
}],
"metadata":[
{
"key":"installationType",
"value":"5784K#"
}
]
}]
}
MULTI_ACTION
If multi.assignments.enabled is enabled, this message is sent instead of DOWNLOAD_AND_INSTALL, DOWNLOAD, or CANCEL_DOWNLOAD
by hawkBit to initialize update, download, or cancel task(s).
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
_
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
_
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
eclipse/hawkbit - Gitter
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
schabdo edited #955
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Funktionale Skalierbarkeit
Neben der technischen Skalierbarkeit, also der flexiblen Bereitstellung von Rechen- oder Bandbreitenkapazitäten während eines Updates, die uns heutzutage viele Cloud-Plattformen kostengünstig zur Verfügung stellen, ist es auch von elementarer Bedeutung, bei großen IoT-Projekten mit Tausenden oder gar Millionen von Geräten, den gesamtem Update-Roll-out-Prozess fachlich unter Kontrolle zu haben. Dazu gehört die Fähigkeit, die Geräte in mehrere Untergruppen zu unterteilen und den Roll-out dann Gruppe für Gruppe zum Beispiel nacheinander oder auf Basis eines Ablaufplans durchzuführen und im Fehlerfall kontrolliert abzubrechen. Des Weiteren gehört das Überwachen des Roll-outs während der Ausführung bis hin zur Auswertung nach Abschluss dazu.
Das System muss auch damit zurechtkommen, dass viele Geräte in einem Roll-out nur sehr verzögert oder nie ein Update durchführen, beispielsweise weil sie zwar registriert, aber nie online sind. In diesem Sinn ist ein Roll-out in sehr großen Szenarien wahrscheinlich nie „fertig“.
Ende-zu-Ende-Sicherheit
In einem Softwareupdateprozess brauchen wir zwischen dem Gerät selbst und dem Ersteller der Software Vertrauen. Zwischen diesen beiden Instanzen steht allerdings der Softwareupdateservice; es ist nun einmal seine Aufgabe, die erstellte Software auf das Gerät zu transportieren. Im Ergebnis ist er damit auch die Stelle, die die Gefahr der Korrumpierung birgt. Er sollte als „Man-in-the-Middle“ daher niemals verpflichtet werden, die Authentizität der Softwareartefakte abschließend zu bestätigen. Er kümmert sich um die Verschlüsselung des Transports, um Authentifizierung und Autorisierung von Geräten und Benutzern, aber am Ende des Tages muss das Gerät selbst die Authentizität zum Beispiel durch eine Signatur prüfen. Daher wird die Ende-zu-Ende-Sicherheit bewusst nicht von hawkBit garantiert.
Web Application & API Security Bootcamp: OWASP Top 10 und darüber hinaus
mit Christian Wenz
APIs mit GraphQL: Teufelszeug oder Heilsbringer – Eine Einführung
mit Nils Hartmann
Eclipse hawkBit
Eclipse hawkBit begegnet bereits einigen dieser Herausforderungen. Die Schnittstellenstabilität zum Gerät wird durch das einfache RESTful-Direct-Device-Integration-API ermöglicht, das vom Gerät direkt aufgerufen wird und dort vollkommen auf Softwareupdate fokussiert einfach stabil gehalten werden kann. Eine hohe Flexibilität für die Geräteintegration wird alternativ durch das Device-Management-Federation-API gewährleistet, das es ermöglicht, verschiedene Gerätekonnektoren einzuklinken.
Funktionale Skalierbarkeit ist hingegen noch innerhalb der Community in Arbeit, mehr dazu im Ausblick am Ende dieses Artikels. Wie bereits angedeutet, wird Ende-zu-Ende-Sicherheit bewusst nicht von hawkBit garantiert, hier ist zusätzliche Arbeit im jeweiligen Projekt gefordert.
Neben diesen besonderen Anforderungen muss hawkBit natürlich den heute üblichen Standards genügen. Dazu gehören flexibel nutzbare Schnittstellen, eine moderne „Cloud-ready“-Softwarearchitektur und, besonders wichtig für ein Open-Source-Projekt, ein hoher Grad an Flexibilität in der Nutzung der Software in eigenen Projekten.
Integrationsszenarien
Eclipse hawkBit kann als eigenständige Applikation benutzt werden, um Softwareupdates direkt auf Geräte durchzuführen. In dieser einfachsten Variante nutzt der Administrator das hawkBit-Management-UI, um das Repository zu verwalten und die Updates durchzuführen. Geräte werden hierbei über das Direct-Device-Integration-API an den hawkBit-Server angebunden.
Abb. 1: hawkBit, einfachste Variante zur Benutzung
Eine weitergehende Integration ermöglicht das RESTful-Management-API, das featurekompatibel zum Mangement-UI ist. Mögliche Anwendungsfelder sind zum Beispiel:
Eine einfache Statusabfrage des Softwarestands eines Geräts beispielsweise für ein Supportportal
Triggern eines Updates aus einer Workflow-Engine
Betanken des Software-Repositories aus einer Continous Integration Engine mit anschließendem Update auf Testgeräte für Integrationstests
Integration aller Funktionalitäten in eine Geräteverwaltungsapplikation.
Das Device-Management-Federation-API rundet das Bild schließlich ab, da es über einen AMQP (0.9) Broker ermöglicht, Geräte indirekt über (bestehende) Konnektoren anzubinden. Werden beide Schnittstellen voll genutzt, kann hawkBit sich auf das Verwalten des Repositories und das Steuern der Updates konzentrieren.
Abb. 2: hawkBit-Integrationsmöglichkeiten
Has bounty
Sorted by
Newest
Recent activity
Most votes
Most frequent
Bounty ending soon
Tagged with
My watched tags
The following tags:
Apply filter
Cancel
0
votes
1answer
94 views
Eclipse IoT Binding Hawkbit-Ditto-Hono
I am trying out Eclipse IoT Framework on my RP3.
On the host-side (local PC backend) I would like to bind Hawkbit with Ditto and at least Ditto with Hono. From here and here I can read that it is ...
eclipse-hono eclipse-ditto hawkbit eclipse-hawkbit
asked Jul 23 at 10:43
arash javan
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
3 participants
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
_
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
"createdBy" : "bumlux",
"createdAt" : 1582108824508,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108824775,
"name" : "app runtime",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.51",
"type" : "runtime",
"vendor" : "vendor GmbH, Stuttgart, Germany",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/14"
}
},
"id" : 14
} ],
"requiredMigrationStep" : false,
"type" : "test_default_ds_type",
"complete" : true,
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/distributionsets/5"
},
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
* <p>
* Examples:
*
* {@code
* hasRole([role]) Returns true if the current principal has the specified role.
* hasAnyRole([role1,role2]) Returns true if the current principal has any of the supplied roles (given as a comma-separated list of strings)
* principal Allows direct access to the principal object representing the current user
* authentication Allows direct access to the current Authentication object obtained from the SecurityContext
* permitAll Always evaluates to true
* denyAll Always evaluates to false
* isAnonymous() Returns true if the current principal is an anonymous user
* isRememberMe() Returns true if the current principal is a remember-me user
* isAuthenticated() Returns true if the user is not anonymous
* isFullyAuthenticated() Returns true if the user is not an anonymous or a remember-me user
* }
* </p>
*/
public static final class SpringEvalExpressions {
/*
* Spring security eval expressions.
*/
public static final String BRACKET_OPEN = "(";
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
eclipsefdn/eca
The author(s) of the pull request is covered by necessary legal agreements in order to proceed!
Details
sonarqube
SonarQube reported no issues
laverman
deleted the
bosch-io:feature-java11
branch
Oct 29, 2020
kaizimmerm
mentioned this pull request
Nov 15, 2020
JPA Repository broken with SQLServer after Eclipselink update
#1045
Open
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
vigier
Assignees
No one assigned
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
View changes
...pse/hawkbit/ui/tenantconfiguration/TenantConfigurationDashboardView.java
Show resolved
Hide resolved
Call save methods for filtered ConfigurationViews only, not the autow…
…
Loading status checks…
ecfe720
…ired.
Signed-off-by: Natalia Kislicyn <natalia.kislicyn@bosch.io>
Nkyn
changed the title
Don't send target token when anonymous download enabled
Restructure Tenant Configuration View to make it more flexible for adaptations
Nov 18, 2020
aktivk
reviewed
Nov 19, 2020
View changes
...ipse/hawkbit/ui/common/data/proxies/ProxySystemConfigAuthentication.java
Outdated
With weight, one can set the priority to the action. The higher the weight, the higher is the priority of an action.
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “EVENT”
true
thingId
The ID of the registered provisioning target
String
true
topic
Topic name identifying the event
Fixed string “MULTI_ACTION”
true
tenant
The tenant this provisioning target belongs to
String
false
Message Properties
Description
Type
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
eclipse/hawkbit - Gitter
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
Clustering - Eclipse hawkBit
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
Configuration for sanbox can be found here
Sign in to start talking
Ein Softwareupdate ist nicht nur eine Datei
Softwareupdates bestehen oftmals aus mehreren Softwarekomponenten wie Betriebssystem-, Laufzeit- und Applikationskomponenten. Diese Softwarekomponenten bestehen selbst wiederum auch meist aus mehreren Dateien, zum Beispiel dem Vollupdate, verschiedenen Binary-Deltas und Signaturen.
Eclipse hawkBit definiert ein flexibles Datenmodell, um solche komplexen Strukturen inklusive Metadaten wie Versionierung und Beschreibung zu einem Softwareupdate abbilden zu können. Auf Basis dieses Modells können Geräten mehrere Softwarepakete zugewiesen und atomar aktualisiert werden.
Abb. 3: hawkBit-Softwareupdate-Paketemodell
Eclipse hawkBit zum Ausprobieren
Der Quellcode von Eclipse hawkBit kann von GitHub geklont und via Maven gebaut werden (Listing 1).
$ git clone https://github.com/eclipse/hawkbit.git
$ mvn clean install
Nach erfolgreichem Bauen des Quellcodes kann die mitgelieferte Beispielanwendung gestartet werden, die das Management-UI bereitstellt, um Software auf Geräte auszurollen. Die grafische Oberfläche kann über die Adresse http://localhost:8080/UI aufgerufen werden, und der Anwender kann sich mit den Credentials „Benutzer: admin“ und „Passwort: admin“ anmelden (Listing 2).
$ java –jar ./ examples/hawkbit-example-app/target/hawkbit-example-app-#version#.jar
Um nicht einen eigenen Geräteclient zum Testen schreiben zu müssen, gibt es in hawkBit einen Gerätesimulator, der updatefähige Geräte simulieren und über die beiden Schnittstellen an hawkBit anbinden kann (Listing 3).
$ java –jar ./ examples/hawkbit-device-simulator/target/hawkbit-device-simulator-#version#.jar
Um Geräte zu simulieren, kann die grafische Oberfläche oder alternativ das RESTful API des Simulators verwendet werden.
$ curl http://localhost:8083/start?amount=10&api=ddi
Unter den Beispielen ist auch ein Management-API-Client, der die Benutzung des Management-API demonstriert und auch automatisch einige Beispielsoftwarepakete erstellt, die gleich in der hawkBit-Beispielanwendung verwendbar sind.
$ java –jar ./ examples/hawkbit-mgmt-api-client/target/hawkbit-mgmt-api-client-#version#.jar
Mittels Management-UI der hawkBit-Beispielanwendung können dann die vorgefertigten Softwarepakete auf die simulierten Geräte „ausgerollt“ werden.
Abb. 4: hawkBit: manuelles Softwareupdatebeispiel
Ausblick
Zum Zeitpunkt der Erstellung dieses Artikels befindet sich das hawkBit-Projekt in Vorbereitung auf das erste Release 0.1, das die beschriebenen Basisfunktionalitäten und -schnittstellen beinhalten wird. Mit dem Release 0.2 wird die funktionale Komplettierung weiter vorangebracht, um insbesondere dem für hawkBit definierten Anspruch der funktionalen Skalierbarkeit mit der Entwicklung eines Roll-out-Managements gerecht zu werden.
Technisch ist eine weitere Verbesserung von hawkBits Anpassbarkeit, Modularisierung und Integrationsfähigkeiten angestrebt. Interessant erscheint auch die Integration mit weiteren Eclipse-IoT-Projekten wie etwa Leshan, um LWM2M-Geräte mit Firmware zu versorgen, Hono, um Geräte leichter an hawkBit anzubinden oder Tiaki, um Geräte sicher und automatisch den richtigen hawkBit-Server finden zu lassen.
Verwandte Themen:
1,06822 gold badges1414 silver badges3232 bronze badges
1
vote
1answer
227 views
401 error when trying GET request to Hawkbit Server with Gateway Security Token
Q1:
I'm running a Hawkbit server on localhost in a docker container and activated the option "Allow a gateway to authenticate and manage multiple targets through a gateway security token" in the ...
docker http authentication postman eclipse-hawkbit
asked Sep 23 '19 at 13:45
Developer_42
1333 bronze badges
The Overflow Blog
Podcast 288: Tim Berners-Lee wants to put you in a pod. A web pod.
The macro problem with microservices
Featured on Meta
A big thank you, Tim Post
“Question closed” notifications experiment results and graduation
Related Tags
docker × 1
http × 1
authentication × 1
postman × 1
eclipse-hono × 1
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
"modules" : {
"templated" : true
},
"type" : {
"href" : "https://management-api.host.com/rest/v1/distributionsettypes/20"
},
"metadata" : {
"templated" : true
}
},
"id" : 5
}
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
404 Not Found
Not Found Target.
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
public static final String BRACKET_CLOSE = ")";
public static final String HAS_AUTH_PREFIX = "hasAuthority" + BRACKET_OPEN + "'";
public static final String HAS_AUTH_SUFFIX = "'" + BRACKET_CLOSE;
public static final String HAS_AUTH_AND = " and ";
/**
* The role which contains in the spring security context in case an
* controller is authenticated.
*/
public static final String CONTROLLER_ROLE = "ROLE_CONTROLLER";
/**
* The role which contains in the spring security context in case an
* controller is authenticated but only as anonymous.
*/
public static final String CONTROLLER_ROLE_ANONYMOUS = "ROLE_CONTROLLER_ANONYMOUS";
/**
* The role which contains the spring security context in case the
* system is executing code which is necessary to be privileged.
*/
public static final String SYSTEM_ROLE = "ROLE_SYSTEM_CODE";
/**
Sign in to start talking
Labels
CQ
task
Projects
None yet
Milestone
0.3.0M7
Linked issues
Successfully merging this pull request may close these issues.
None yet
3 participants
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Show resolved
Hide resolved
singrob
suggested changes
Nov 19, 2020
View changes
...rc/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/AuthenticationConfigurationView.java
Outdated
}
@PostConstruct
This comment has been minimized.
Sign in to view
singrob
Nov 19, 2020
Contributor
Please avoid using @PostConstruct because it will be removed with Java 11.
Since we use constructor injection here you can anyway just calll init() in the constructor.
...rc/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/AuthenticationConfigurationView.java
Outdated
@Override
public void save() {
Mandatory
content_type
The content type of the payload
String
true
Payload Template (the Java representation is DmfMultiActionRequest):
[{
"topic": "String",
"weight": long,
"action": {
"actionId": long,
"targetSecurityToken": "String",
"softwareModules":[
{
"moduleId": long,
"moduleType":"String",
"moduleVersion":"String",
"artifacts":[
{
"filename":"String",
"urls":{
"HTTP":"String",
"HTTPS":"String"
},
"hashes":{
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
Eclipse hawkBit
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Clustering
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Clustering
hawkBit is able to run in a cluster with some constraints. This guide provides insights in the basic concepts and how to setup your own cluster. You can find additional information in the hawkBit runtimes’s README.
Big picture
Events
Event communication between nodes is based on Spring Cloud Bus and Spring Cloud Stream. There are different binder implementations available. The hawkbit Update Server uses RabbitMQ binder. Every node gets his own queue to receive cluster events, the default payload is JSON.
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
Eclipse
Internet of Things
Geschrieben von
Kai Zimmermann
Kai Zimmermann ist bei der Bosch Software Innovations GmbH verantwortlicher Product Owner für den Bosch IoT Software Provisioning Cloud Service und Project Lead für Eclipse hawkBit.
Alle Beiträge von Kai Zimmermann
Michael Hirsch
Michael Hirsch ist bei der Bosch Software Innovations GmbH als Lead Developer für die Software-Provisioning-Entwicklungsaktivitäten verantwortlich und Committer im Eclipse-hawkBit-Projekt.
Alle Beiträge von Michael Hirsch
Das könnte Sie auch interessieren!
Eclipse Weekly: DLR tritt Eclipse Foundation bei, Che 5.4 & Java 9 Readiness
Eclipse Weekly: JSDT in Neon.1, Eclipse Oxygen Splash Screen und wie Eclipse Züge ins Rollen bringt
IoT und OSGi: Die Entstehung einer kontinuierlich wachsenden Präsentationsplattform
Kommentare
1
Hinterlasse einen Kommentar
eclipse-ditto × 1
hawkbit × 1
Hot Network Questions
Determine bijectivity of a linear map from matrix product
We know a human cannot run on water, but could a much stronger and faster animal?
How do I prevent myself from freezing up during a game I'm DMing?
How to make the story less predictable?
Omitting acute accent on a display with limited character set
Choose the best ride!
מנ"ע - Talking to a person but intent towards Hashem
Are pictures taken from ISS geolocalized?
What does it mean to say a material is 'anharmonic'?
First science fiction movie or tv show that had a complete language created for it?
How to avoid ligatures of double less equal sign in latex
Does a light circuit in a garage need GFCI protection?
Using water as a high density storable hydro-lox propellant
How to select resistance for Arduino capacitance meter
It may not be in my best interest to ask a professor I have done research with for recommendation letters. Can this seem suspicious in my application?
has my server been hacked?
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Handles the UPDATE request for a single Distribution Set within SP. Required permission: UPDATE_REPOSITORY
Updating a Distribution Set
Curl
$ curl 'https://management-api.host.com/rest/v1/distributionsets/11' -i -X PUT \
-H 'Accept: application/json' \
-H 'Content-Type: application/json;charset=UTF-8' \
-d '{
"requiredMigrationStep" : true,
"name" : "another Name",
"description" : "a new description",
"version" : "another Version"
}'
Request URL
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
*/
public static final String HAS_AUTH_OR = " or ";
/**
* Spring security eval hasAnyRole expression to check if the spring
* context contains system code role
*/
public static final String IS_SYSTEM_CODE = HAS_AUTH_PREFIX + SYSTEM_ROLE + HAS_AUTH_SUFFIX;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_UPDATE_TARGET = HAS_AUTH_PREFIX + UPDATE_TARGET + HAS_AUTH_SUFFIX
+ HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_SYSTEM_ADMIN = HAS_AUTH_PREFIX + SYSTEM_ADMIN + HAS_AUTH_SUFFIX
+ HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_READ_TARGET = HAS_AUTH_PREFIX + READ_TARGET + HAS_AUTH_SUFFIX + HAS_AUTH_OR
+ IS_SYSTEM_CODE;
/**
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
writeConfigOption(
TenantConfigurationProperties.TenantConfigurationKey.AUTHENTICATION_MODE_TARGET_SECURITY_TOKEN_ENABLED,
This comment has been minimized.
Sign in to view
singrob
Nov 19, 2020
Contributor
remove unnecessary qualifier to improve readability
hawkbit-ui/src/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/BaseConfigurationView.java
Outdated
final SystemManagement systemManagement, final SecurityTokenGenerator securityTokenGenerator) {
this.tenantConfigurationManagement = tenantConfigurationManagement;
this.systemManagement = systemManagement;
this.securityTokenGenerator = securityTokenGenerator;
This comment has been minimized.
Sign in to view
singrob
Nov 19, 2020
Contributor
Same here with the SecurityTokenGenerator. It is only used in the AuthenticationConfigurationView
hawkbit-ui/src/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/BaseConfigurationView.java
Outdated
"md5":"String",
"sha1":"String"
},
"size":long
}],
"metadata":[
{
"key":"String",
"value":"String"
}
]
}]
}
},
{
"topic": "String",
"weight": long,
"action": {
"actionId": long,
"targetSecurityToken": "String",
"softwareModules":[
{
"moduleId": long,
"moduleType":"String",
"moduleVersion":"String",
"artifacts":[
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
Community Day - Eclipse hawkBit
EclipseCon Europe 2018
Welcome...
Kai Zimmermann
Project Lead - Microsoft
Dominic Schabel
Committer - Bosch
About
Eclipse hawkBit aims to create a domain independent back end solution for rolling out software
updates
to constrained edge devices as well as more powerful controllers and gateways connected to IP based
networking infrastructure
Big picture
Project update...
New team members
Jeroen Laverman
Project Lead - Bosch
Stefan Behl
Committer - Bosch
Dominic Schabel
Committer - Bosch
Statistics (10/2018)
hawkbit Core: 149
stars, 622 PRs, 134 issues
Feign Client - Eclipse hawkBit
Eclipse hawkBit
Software Updates in IoT
with Eclipse hawkBit
System Overview
hawkBit Basics - Software Package
A software update is not a single file!
hawkBit Basics - Rollout Management
Further Information
eclipse/hawkbit
eclipse.org/hawkbit
eclipse/hawkbit - Gitter
hawkbit/ControllerPreAuthenticateSecurityTokenFilter.java at master · eclipse/hawkbit · GitHub
hawkbit/logback-spring.xml at master · eclipse/hawkbit · GitHub
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
If an event is thrown locally at one node, it will be automatically delivered to all other available nodes via the Spring Cloud Bus’s topic exchange:
Via the ServiceMatcher you can check whether an event happened locally at one node or on a different node.
serviceMatcher.isFromSelf(event)
Caching
Every node is maintaining its own caches independent from other nodes. So there is no globally shared/synchronized cache instance within the cluster. In order to keep nodes in sync a TTL (time to live) can be set for all caches to ensure that after some time the cache is refreshed from the database. To enable the TTL just set the property “hawkbit.cache.global.ttl” (value in milliseconds). Of course you can implement a shared cache, e.g. Redis.
See CacheAutoConfiguration
Schedulers
Every node has multiple schedulers which run after a defined period of time. All schedulers always run on every node. This has to be kept in mind e.g. if the scheduler executes critical code which has to be executed only once.
Known constraints
UI sessions
As of today hawkBit is not storing user sessions in a shared, cluster wide cache. Session is only bound to the node where the login took place. If this node is going down for whatever reason, the session is lost and the user is forced to login again.
In case that’s not an option, you can help yourself by introducing a shared session cache based on e.g. Redis.
Furthermore hawkBit is not supporting session stickiness out of the box either. However most of the well known load balancer out there can solve this issue.
Caching of download IDs
The downloadId is generated and stored in the DownloadIdCache. It is used for downloading an artifact.
In hawkBit exists an interface called “DownloadIdCache” and one implementation of it: “DefaultDownloadIdCache”. This default implementation can’t be used within a cluster. Its containing data is only available inside one node and can’t be shared with other nodes. E.g. the downloadId which is stored in this cache after authentication on node A can only be used for downloading the artifact by node A.
In a cluster-capable environment this fact can lead to issues as it could happen, that the downloadId is stored on node A and node B would like to download the artifact by means of the downloadId which is not available on node B. To solve this issue you can use a cluster-shared cache e.g. Redis or create a new cluster-aware implementation of the interface “DownloadIdCache”.
Denial-of-Service (DoS) filter
hawkBit owns the feature of guarding itself from DoS attacks, a DoS filter. It reduces the maximum number of requests per seconds which can be configured for read and write requests.
This mechanism is only working for every node separately, i.e. in a cluster environment the worst-case behaviour would be that the maximum number of requests per seconds will be increased to its product if every request is handled by a different node.
The same constraint exists with the validator to check if a user tried too many logins within a defined period of time.
© 2020 The Eclipse hawkBit Project –
Documentation built with
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
4000
1
Kommentar Themen
0
Themen Antworten
0
Follower
Kommentar, auf das am meisten reagiert wurde
Beliebtestes Kommentar Thema
0
Kommentatoren
Letzte Kommentartoren
4000
Subscribe
Benachrichtige mich zu:
Alle neuen Kommentare
Nur Antworten zu meinen Kommentar/en
GastZubairListing #1 has a minor typo. Each line was appended with 😀
Antworten4 Jahre her
﻿﻿﻿﻿
Polls
Arbeiten in Zeiten der Pandemie – Sind Sie schon im Home Office?
Ja, ich arbeite Vollzeit im Home Office
How to write formally about skipping one year of highschool on CV
"Render mathematics" is inactive in Inkscape
How to make old bikes seatpost slide smoothly when needs adjustment again?
Cockpit or Bridge?
Why does this review of Star Trek IV include an image of Link from Legend of Zelda?
Fibonacci sequence output
Is it ok to place 220V AC traces on my Arduino PCB?
more hot questions
Newest eclipse-hawkbit questions feed
Subscribe to RSS
Newest eclipse-hawkbit questions feed
To subscribe to this RSS feed, copy and paste this URL into your RSS reader.
Stack Overflow
Questions
Jobs
Developer Jobs Directory
Salary Calculator
Help
Mobile
Products
Teams
Talent
Advertising
Enterprise
@floruschbaschan Thank you for the quick response :)
_
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
PUT /rest/v1/distributionsets/11 HTTP/1.1
Accept: application/json
Content-Type: application/json;charset=UTF-8
Content-Length: 135
Host: management-api.host.com
{
"requiredMigrationStep" : true,
"name" : "another Name",
"description" : "a new description",
"version" : "another Version"
}
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
Request fields
Path
Type
Description
Allowed Values
Mandatory
name
String
The name of the entity
version
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_READ_TARGET_SEC_TOKEN = HAS_AUTH_PREFIX + READ_TARGET_SEC_TOKEN
+ HAS_AUTH_SUFFIX + HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_CREATE_TARGET = HAS_AUTH_PREFIX + CREATE_TARGET + HAS_AUTH_SUFFIX
+ HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_DELETE_TARGET = HAS_AUTH_PREFIX + DELETE_TARGET + HAS_AUTH_SUFFIX
+ HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_READ_REPOSITORY_AND_UPDATE_TARGET = BRACKET_OPEN + HAS_AUTH_PREFIX
+ READ_REPOSITORY + HAS_AUTH_SUFFIX + HAS_AUTH_AND + HAS_AUTH_PREFIX + UPDATE_TARGET + HAS_AUTH_SUFFIX
+ BRACKET_CLOSE + HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
public BaseConfigurationView(final TenantConfigurationManagement tenantConfigurationManagement,
final SystemManagement systemManagement, final SecurityTokenGenerator securityTokenGenerator) {
this.tenantConfigurationManagement = tenantConfigurationManagement;
this.systemManagement = systemManagement;
This comment has been minimized.
Sign in to view
singrob
Nov 19, 2020
Contributor
Why should we add the SystemManagement to the base class? It is only used in the DefaultDistributionSetTypeLayout
...c/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/DefaultDistributionSetTypeLayout.java
Outdated
/**
* Default DistributionSet Panel.
*/
public class DefaultDistributionSetTypeLayout extends CustomComponent {
public class DefaultDistributionSetTypeLayout extends BaseConfigurationView<ProxySystemConfigDsType> {
This comment has been minimized.
Sign in to view
singrob
Nov 19, 2020
Contributor
{
"filename":"String",
"urls":{
"HTTP":"String",
"HTTPS":"String"
},
"hashes":{
"md5":"String",
"sha1":"String"
},
"size":long
}],
"metadata":[
{
"key":"String",
"value":"String"
}
]
}]
}
}]
Example header and payload:
Header
MessageProperties
type=EVENT tenant=default thingId=abc topic=MULTI_ACTION
content_type=application/json
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
Sign in to start talking
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
hawkbit
Extensions: 30 PRs
hawkbit
Examples: 25 PRs
Docker Hub: 3.4K
PULLS
We have been busy
First
Release
New sandbox
New homepage
Circle CI 2.0 (incl. examples
& extensions)
Docker Hub setup
Open sourced
REST docs
Roadmap...
Upgrades, upgrades
Support JDK 11
Vaadin 8
JUnit 5, Java >= 9
Spring Boot
2
Version overview
hawkBit
Spring Boot
Feign Client
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Feign Client
hawkbit
eclipse/hawkbit
Thank you!
Copyright ©
Bosch.IO GmbH All rights reserved. |
Imprint |
Documentation |
gitHub |
Sandbox
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
Drop support for MySQL 5.6 · Issue #1036 · eclipse/hawkbit · GitHub
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
eclipse/hawkbit - Gitter
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Custom Theme
Next
Feign Client
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
_
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
_
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
_
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
_
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Ja, allerdings nur teilweise – Ich habe auch einige Office-Termine
Nein, ich arbeite im Büro
VOTE
Loading ...
Artikel erschienen inEclipse Magazin 3.16Infos zum HeftDevOpsCon 2020Ab in die Mitte: DevSecOps macht Sicherheit zum Bestandteil des gesamten Software-LifecyclesDie Neuerfindung des Network Operations CenterDie erste Etappe einer langen Reise: Was in zehn Jahren DevOps-Bewegung alles passiert istEdge Computing & Management aus dem Home Office – Unsere Top-Themen der WocheDevOps-Trends: Service Mesh vermittelt zwischen Anwendungsebene und MicroservicesDevOpsCon München 2020 – Hybrid Edition: Programmvorschau & Team-Specials
OnlineJAXenter.de
JAXenter.com (engl.)
entwickler.de
Windows Developer
PHP Magazin
WebMagazin
MagazineJava Magazin
JAX Magazine (engl.)
JavaScript Kompendium
Entwickler Magazin
Mobile Technology Magazin
PHP Magazin
Windows Developer
Cloud Compendium
KonferenzenJAX, W-JAX
JAX London
JAX DevOps (London)
Serverless Architecture Conference
Machine Learning Conference
Company
About
Press
Work Here
Legal
Privacy Policy
Contact Us
Stack Exchange Network
Technology
Life / Arts
Culture / Recreation
Science
Other
Stack Overflow
Server Fault
Super User
Web Applications
Ask Ubuntu
Webmasters
Game Development
TeX - LaTeX
Software Engineering
Unix & Linux
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
String
Package version.
description
String
The description of the entity
requiredMigrationStep
Boolean
True if DS is a required migration step for another DS. As a result the DS’s assignment will not be cancelled when another DS is assigned (note: updatable only if DS is not yet assigned to a target)
Response (Status 200)
Response fields
Path
Type
Description
Allowed Values
id
Number
The technical identifier of the entity
name
String
The name of the entity
*/
public static final String HAS_AUTH_CREATE_REPOSITORY = HAS_AUTH_PREFIX + CREATE_REPOSITORY + HAS_AUTH_SUFFIX
+ HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_DELETE_REPOSITORY = HAS_AUTH_PREFIX + DELETE_REPOSITORY + HAS_AUTH_SUFFIX
+ HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_READ_REPOSITORY = HAS_AUTH_PREFIX + READ_REPOSITORY + HAS_AUTH_SUFFIX
+ HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_UPDATE_REPOSITORY = HAS_AUTH_PREFIX + UPDATE_REPOSITORY + HAS_AUTH_SUFFIX
+ HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
Consider renaming to DefaultDistributionSetTypeView to match the naming pattern.
5 hidden conversations
Load more…
...ui/src/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/RepositoryConfigurationView.java
Outdated
actionAutoCleanupCheckBox.setStyleName(DIST_CHECKBOX_STYLE);
actionAutoCleanupCheckBox.addValueChangeListener(event -> {
if (event.getValue()) {
if (Boolean.TRUE.equals(event.getValue())) {
This comment has been minimized.
Sign in to view
singrob
Nov 19, 2020
Contributor
unnecessary?
...ui/src/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/RepositoryConfigurationView.java
Outdated
@@ -144,4 +158,66 @@ public void disableMultipleAssignmentOption() {
multiAssignmentsConfigurationItem.setEnabled(false);
}
[{
"topic": "DOWNLOAD_AND_INSTALL",
"weight": 600,
"action": {
"actionId":137,
"targetSecurityToken":"bH7XXAprK1ChnLfKSdtlsp7NOlPnZAYY",
"softwareModules":[
{
"moduleId":7,
"moduleType":"firmware",
"moduleVersion":"7.7.7",
"artifacts":[
{
"filename":"artifact.zip",
"urls":{
"HTTP":"http://download-from-url.com",
"HTTPS":"https://download-from-url.com"
},
"hashes":{
"md5":"md5hash",
"sha1":"sha1hash"
},
"size":512
}],
0.2.x
1.4
0.3.0
2.0
A few features as well
Custom key/value pairs for targets (#737)
Small improvements of rollout management
Cloud PaaS extensions...
Inner cluster messaging (Azure
Event Hubs)
Multi-user support and role based access with OAuth2 (Azure
Active Directory)
More storage providers (e.g. Azure
Blob Storage)
Example k8s deployments (potentially helm
templates)
IoT platform integration (e.g. Azure
IoT Hub)
Deprecations
We'll drop UAA extension support
Thank you
In this guide we describe how to create a Feign Rest Client based on a Spring Boot Application.
Create Feign REST Client
hawkBit provides REST interfaces for Management API and DDI API. Using this interfaces you can create a feign client with the help of the feign inheritance support.
Our example modules demonstrate how to create Feign client resources. Here you can find the Management API client resources and the DDI client resources.
A small simulator application demonstrates how you can interact with the hawkBit via the Management API
.
Example Management API simulator
In the follow code section, you can a see a feign client resource example. The interface extend the origin api interface to declare the @FeignClient. The @FeignClientdeclares that a REST client with that interface should be created.
public interface MgmtTargetClientResource extends MgmtTargetRestApi {
}
This interface can be autowired and use as a normal java interface:
public class CreateStartedRolloutExample {
@Autowired
private MgmtTargetClientResource targetResource;
public void run() {
// create ten targets
targetResource.createTargets(new TargetBuilder().controllerId("00-FF-AA-0").name("00-FF-AA-0")
.description("Targets used for rollout example").buildAsList(10));
}
At hawkbit-example-core-feign-client is a spring configuration to auto configure some beans, which can be reused for a own feign client.
@Configuration
@ConditionalOnClass(Feign.class)
@Import(FeignClientsConfiguration.class)
public class FeignClientConfiguration {
Installed latest eclipse and updated formatter settings for better fluent-style method invocations by vigier · Pull Request #1048 · eclipse/hawkbit · GitHub
Targets API - Eclipse hawkBit
0.2.0.RELEASE Milestone · GitHub
Release 0.2.0 · eclipse/hawkbit · GitHub
0.2.1 Milestone · GitHub
Eclipse hawkBit — Features, requirements, scenarios et al. - JAXenter
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Customer stories →
Security →
Team
Enterprise
vigier edited #1048
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
schabdo edited #784
15:18
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
schabdo edited #955
15:34
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Bondar Bogdan
@bogdan-bondar
@mikhailtchernychev this restriction is coming from the DOS filter, you need to set the following properties:hawkbit.server.security.dos.maxArtifactSize and hawkbit.server.security.dos.maxArtifactStorage in bytes. Default values are 1_073_741_824 (1GB) for max artifact size and 21_474_836_480 (20GB) for max artifact storage
Dominic Schabel
@schabdo
@jmlups_gitlab not sure what you exactly did in order to provoke this error. But if you have wireshark already in place this working curl command should help you figuring out the difference:curl 'https://hawkbit.eclipse.org/rest/v1/softwaremodules/1/artifacts' -i -H 'Authorization: Basic ZGVtbzpkZW1v' -v -H 'Content-Type: multipart/form-data' -X POST -F 'file=@myTestFile.txt’
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Mikhail Tchernychev
@mikhailtchernychev
Hi, I have upload size problem with hawkbit.In the config/application.properties file I havespring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MBThis should allow me upload up to 4 GB.However, upload fails at limit of 1 GB:2020-10-19 17:00:14.749 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload started for file update-2020.10.14-1.raucb:v:12020-10-19 17:02:09.113 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload failed for file update-2020.10.14-1.raucb:v:1 due to reason: Maximum artifact size (1024 MB) exceededIf I don't put these values in application.properties upload stops right away, with repeated messages of size exceeding 1024MBPlease help.
Bondar Bogdan
@bogdan-bondar
@mikhailtchernychev this restriction is coming from the DOS filter, you need to set the following properties:hawkbit.server.security.dos.maxArtifactSize and hawkbit.server.security.dos.maxArtifactStorage in bytes. Default values are 1_073_741_824 (1GB) for max artifact size and 21_474_836_480 (20GB) for max artifact storage
Dominic Schabel
@schabdo
@jmlups_gitlab not sure what you exactly did in order to provoke this error. But if you have wireshark already in place this working curl command should help you figuring out the difference:curl 'https://hawkbit.eclipse.org/rest/v1/softwaremodules/1/artifacts' -i -H 'Authorization: Basic ZGVtbzpkZW1v' -v -H 'Content-Type: multipart/form-data' -X POST -F 'file=@myTestFile.txt’
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Jalal
@jmlups_gitlab
Hey, whenever i try to upload a file to hawkbit as an artifact, i get a response with message : 'org.eclipse.jetty.io.RuntimeIOException: java.io.IOException: Missing initial multi part boundary',haven't found any issue about this on github,i am pretty sure i set a multipart boundary, did it manually just for testing and it shows on wireshark. Anyone knows what could be the issue ?
Mikhail Tchernychev
@mikhailtchernychev
Hi, I have upload size problem with hawkbit.In the config/application.properties file I havespring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MBThis should allow me upload up to 4 GB.However, upload fails at limit of 1 GB:2020-10-19 17:00:14.749 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload started for file update-2020.10.14-1.raucb:v:12020-10-19 17:02:09.113 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload failed for file update-2020.10.14-1.raucb:v:1 due to reason: Maximum artifact size (1024 MB) exceededIf I don't put these values in application.properties upload stops right away, with repeated messages of size exceeding 1024MBPlease help.
Bondar Bogdan
@bogdan-bondar
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
DevOps Conference
IoT Conference
Blockchain Technology Conference
MobileTech Conference
BASTA!
International PHP Conference
International JavaScript Conference
API Conference
Webinale
EKON
S&S Mediae.academy
entwickler.kiosk
entwickler.tutorials
entwickler.press
entwickler.jobs
Über Software & Support Media
Sponsoring & Advertising
Karriere & Stellenangebote
Kontakt & Anschrift
Follow us
Newsletter
Jetzt den JAXenter Newsletter bestellen!
Ask Different (Apple)
WordPress Development
Geographic Information Systems
Electrical Engineering
Android Enthusiasts
Information Security
Database Administrators
Drupal Answers
SharePoint
User Experience
Mathematica
Salesforce
ExpressionEngine® Answers
Stack Overflow em Português
Blender
Network Engineering
Cryptography
Code Review
Magento
Software Recommendations
Signal Processing
Emacs
Raspberry Pi
Stack Overflow на русском
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Sign in to start talking
description
String
The description of the entity
createdBy
String
Entity was originally created by User, AMQP-Controller, anonymous etc.)
createdAt
Number
Entity was originally created at (timestamp UTC in milliseconds)
lastModifiedBy
String
Entity was last modified by User, AMQP-Controller, anonymous etc.)
lastModifiedAt
Number
Entity was last modified at (timestamp UTC in milliseconds)
type
String
The type of the distribution set.
requiredMigrationStep
Boolean
True if DS is a required migration step for another DS. As a result the DS’s assignment will not be cancelled when another DS is assigned (note: updatable only if DS is not yet assigned to a target)
complete
Boolean
True of the distribution set software module setup is complete as defined by the distribution set type.
deleted
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_READ_REPOSITORY_AND_READ_TARGET = BRACKET_OPEN + HAS_AUTH_PREFIX
+ READ_REPOSITORY + HAS_AUTH_SUFFIX + HAS_AUTH_AND + HAS_AUTH_PREFIX + READ_TARGET + HAS_AUTH_SUFFIX
+ BRACKET_CLOSE + HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_DOWNLOAD_ARTIFACT = HAS_AUTH_PREFIX + DOWNLOAD_REPOSITORY_ARTIFACT
+ HAS_AUTH_SUFFIX + HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAnyRole expression to check if the spring
* context contains the anoynmous role or the controller specific role
*/
public static final String IS_CONTROLLER = "hasAnyRole('" + CONTROLLER_ROLE_ANONYMOUS + "', '" + CONTROLLER_ROLE
+ "')";
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_CREATE_REPOSITORY_AND_CREATE_TARGET = BRACKET_OPEN + HAS_AUTH_PREFIX
+ CREATE_REPOSITORY + HAS_AUTH_SUFFIX + HAS_AUTH_AND + HAS_AUTH_PREFIX + CREATE_TARGET + HAS_AUTH_SUFFIX
+ BRACKET_CLOSE + HAS_AUTH_OR + IS_SYSTEM_CODE;
@Override
public void save() {
writeConfigOption(TenantConfigurationProperties.TenantConfigurationKey.ACTION_CLEANUP_ENABLED,
This comment has been minimized.
Sign in to view
singrob
Nov 19, 2020
Contributor
remove qualifier to improve readability
...it-ui/src/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/RolloutConfigurationView.java
}
@PostConstruct
This comment has been minimized.
Sign in to view
singrob
Nov 19, 2020
Contributor
PostConstruct
...it-ui/src/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/RolloutConfigurationView.java
Outdated
protected ProxySystemConfigRollout populateSystemConfig() {
"metadata":[
{
"key":"installationType",
"value":"5784K#"
}
]
}]
}
},
{
"topic": "DOWNLOAD",
"weight": 500,
"action": {
"actionId":138,
"targetSecurityToken":"bH7XXAprK1ChnLfKSdtlsp7NOlPnZAYY",
"softwareModules":[
{
"moduleId":4,
"moduleType":"firmware",
"moduleVersion":"7.7.9",
"artifacts":[
{
"filename":"artifact.zip",
"urls":{
"HTTP":"http://download-from-url.com",
101
tutorial
hawkbit
eclipse/hawkbit
eclipse/hawkbit
eclipse.org/hawkbit
Eclipse Foundation |
Privacy Policy |
Terms of Use |
Copyright Agent |
Legal
@Bean
public ApplicationJsonRequestHeaderInterceptor jsonHeaderInterceptor() {
return new ApplicationJsonRequestHeaderInterceptor();
}
@Bean
public Contract feignContract() {
return new IgnoreMultipleConsumersProducersSpringMvcContract();
}
}
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Clustering
Next
Run hawkBit
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Targets API
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
Targets API
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
is where the Java community meets! Join us next week, October 7-10 - kicking off in:
days0-41-4hours-1-1minutes-2-4seconds-4-1
Toggle navigation
News
Articles
JAX Magazine
DevOpsCon 2020
search
Java
DevOps
Machine Learning
Serverless
Blockchain
JavaScript
NetBeans
Careers
Tutorials
Check out the latest:
Introducing new JVM language Concurnas
Meet us in London: International JavaScript Conference, September 2 – 4, 2020
Angular Elements: Where no one has gone before
JAX Magazine: Exploring the IoT universe
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Jalal
@jmlups_gitlab
thank you !!
Jalal
@jmlups_gitlab
Hey, whenever i try to upload a file to hawkbit as an artifact, i get a response with message : 'org.eclipse.jetty.io.RuntimeIOException: java.io.IOException: Missing initial multi part boundary',haven't found any issue about this on github,i am pretty sure i set a multipart boundary, did it manually just for testing and it shows on wireshark. Anyone knows what could be the issue ?
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
Mailing list: hawkbit-dev (60 subscribers) | Eclipse - The Eclipse Foundation open source community website.
schabdo edited #955
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
@mikhailtchernychev this restriction is coming from the DOS filter, you need to set the following properties:hawkbit.server.security.dos.maxArtifactSize and hawkbit.server.security.dos.maxArtifactStorage in bytes. Default values are 1_073_741_824 (1GB) for max artifact size and 21_474_836_480 (20GB) for max artifact storage
Dominic Schabel
@schabdo
@jmlups_gitlab not sure what you exactly did in order to provoke this error. But if you have wireshark already in place this working curl command should help you figuring out the difference:curl 'https://hawkbit.eclipse.org/rest/v1/softwaremodules/1/artifacts' -i -H 'Authorization: Basic ZGVtbzpkZW1v' -v -H 'Content-Type: multipart/form-data' -X POST -F 'file=@myTestFile.txt’
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
_
danielesergio
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
Software & Support Media Group
Datenschutz
Impressum
wpDiscuz
Code Golf
Stack Overflow en español
Ethereum
Data Science
Arduino
Bitcoin
Software Quality Assurance & Testing
Sound Design
Windows Phone
more (28)
Photography
Science Fiction & Fantasy
Graphic Design
Movies & TV
Music: Practice & Theory
Worldbuilding
Video Production
Seasoned Advice (cooking)
Home Improvement
Personal Finance & Money
Academia
Law
Physical Fitness
Gardening & Landscaping
Parenting
more (10)
English Language & Usage
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
Boolean
Deleted flag, used for soft deleted entities
version
String
Package version.
_links.type
Object
The type of the distribution set.
_links.metadata
Object
List of metadata.
_links.modules
Object
List of software modules.
Response example
HTTP/1.1 200 OK
Content-Length: 2532
Content-Type: application/json;charset=UTF-8
{
"createdBy" : "bumlux",
"createdAt" : 1582108830105,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108830448,
"name" : "another Name",
"description" : "a new description",
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_ROLLOUT_MANAGEMENT_READ = HAS_AUTH_PREFIX + READ_ROLLOUT + HAS_AUTH_SUFFIX
+ HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_ROLLOUT_MANAGEMENT_READ_AND_TARGET_READ = BRACKET_OPEN + HAS_AUTH_PREFIX
+ READ_ROLLOUT + HAS_AUTH_SUFFIX + HAS_AUTH_AND + HAS_AUTH_PREFIX + READ_TARGET + HAS_AUTH_SUFFIX
+ BRACKET_CLOSE + HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_ROLLOUT_MANAGEMENT_CREATE = HAS_AUTH_PREFIX + CREATE_ROLLOUT
+ HAS_AUTH_SUFFIX + HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_ROLLOUT_MANAGEMENT_HANDLE = HAS_AUTH_PREFIX + HANDLE_ROLLOUT
+ HAS_AUTH_SUFFIX + HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
ProxySystemConfigRollout configBean = new ProxySystemConfigRollout();
configBean.setRolloutApproval(
readConfigOption(TenantConfigurationProperties.TenantConfigurationKey.ROLLOUT_APPROVAL_ENABLED));
This comment has been minimized.
Sign in to view
singrob
Nov 19, 2020
Contributor
maybe remove qualifier for readability?
...c/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/TenantConfigurationDashboardView.java
Outdated
filteredConfigurationViews.addAll(autowiredConfigurationViews.stream().filter(c -> c.getComponentCount() > 0)
.filter(ConfigurationGroup::show).collect(Collectors.toList()));
Comment on lines
80
to
81
This comment has been minimized.
Sign in to view
singrob
Nov 19, 2020
Contributor
"HTTPS":"https://download-from-url.com"
},
"hashes":{
"md5":"md5hash",
"sha1":"sha1hash"
},
"size":512
}],
"metadata":[
{
"key":"installationType",
"value":"5784K#"
}
]
}]
}
}]
THING_DELETED
Message sent by hawkBit when a target has been deleted.
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “THING_DELETED”
true
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
What is hawkBit?
Next
Software Module Types API
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Software updates in an IoT context
Eclipse hawkBit — Features, requirements, scenarios et al.
May 24, 2016
Michael Hirsch and Kai Zimmermann
##eclipse
Total solar eclipse image via Shutterstock
Implementing software on everything from embedded control units to more powerful gateways is a routine task in just about every IoT project. If device software can be updated, the project is presented with a range of new possibilities, not least the chance to confront the increasing number of security issues. As soon as a device is connected, it is vulnerable to a whole new line of attack – and that is something for which developers of hardware and embedded software must be prepared.
We must be conscious that, in the context of the IoT, cloud-supported updates bring with them a whole series of challenges that we are simply not familiar with from the updating of servers, PCs, or smartphones. On the plus side, from the backend perspective, software updates for the IoT are relatively independent of the specific domain, meaning that they need only be implemented once. In essence, the requirements for updating a smart home, an assembly line, or a car are the same in each case – though of course there will be a difference in the security required and the operations occurring on the device itself.
SEE ALSO: A simple way to look at Eclipse IoT
Eclipse hawkBit was launched to provide a solution to these exact non-domain-specific requirements. To this end, hawkBit provides a range of features:
A device and software repository
Interfaces for flexible device integration
User interface and interfaces for executing software update operations and managing the repository
A modern architecture based on Spring Boot that makes it easy to adapt hawkBit to the user’s individual needs
Interface stability for long-lasting devices
Mikhail Tchernychev
@mikhailtchernychev
Hi, I have upload size problem with hawkbit.In the config/application.properties file I havespring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MBThis should allow me upload up to 4 GB.However, upload fails at limit of 1 GB:2020-10-19 17:00:14.749 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload started for file update-2020.10.14-1.raucb:v:12020-10-19 17:02:09.113 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload failed for file update-2020.10.14-1.raucb:v:1 due to reason: Maximum artifact size (1024 MB) exceededIf I don't put these values in application.properties upload stops right away, with repeated messages of size exceeding 1024MBPlease help.
Bondar Bogdan
@bogdan-bondar
@mikhailtchernychev this restriction is coming from the DOS filter, you need to set the following properties:hawkbit.server.security.dos.maxArtifactSize and hawkbit.server.security.dos.maxArtifactStorage in bytes. Default values are 1_073_741_824 (1GB) for max artifact size and 21_474_836_480 (20GB) for max artifact storage
Dominic Schabel
@schabdo
@jmlups_gitlab not sure what you exactly did in order to provoke this error. But if you have wireshark already in place this working curl command should help you figuring out the difference:curl 'https://hawkbit.eclipse.org/rest/v1/softwaremodules/1/artifacts' -i -H 'Authorization: Basic ZGVtbzpkZW1v' -v -H 'Content-Type: multipart/form-data' -X POST -F 'file=@myTestFile.txt’
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
Google Tag Manager Skip to main content
Log in
Manage Cookies
Eclipse - The Eclipse Foundation open source community website.
Download
ProjectsWorking GroupsMembersCommunity MarketplaceEventsPlanet EclipseNewsletterVideosBlogsParticipate Report a BugForumsMailing ListsWikiIRCResearchEclipse IDE DownloadLearn MoreDocumentationGetting Started / SupportHow to ContributeIDE and ToolsNewcomer Forum
More
CommunityMarketplaceEventsPlanet EclipseNewsletterVideosBlogsParticipateReport a BugForumsMailing ListsWikiIRCResearchEclipse IDEDownloadLearn MoreDocumentationGetting Started / SupportHow to ContributeIDE and ToolsNewcomer Forum
Toggle navigation
Log in
Search
Mailing list: hawkbit-dev (60 subscribers)
hawkbit developer discussions
About hawkbit-dev
hawkbit developer discussions
Using hawkbit-dev
To post a message to all the list members,
send email to hawkbit-dev@eclipse.org. You must be subscribed
to the list before you can post. To access a web archive of this list, visit the hawkbit-dev Archives or subscribe to this list's RSS feed
Subscribing hawkbit-dev
All contributions you make to our web site
are governed by our Terms Of Use. Your interactions
with the Eclipse Foundation web properties and any
information you may provide us about yourself are governed
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Julian
@JulianFeinauer
Oh sorry, too late :)
Alexander Dobler
@dobleralex
:D
Jalal
@jmlups_gitlab
thank you !!
Jalal
@jmlups_gitlab
Hey, whenever i try to upload a file to hawkbit as an artifact, i get a response with message : 'org.eclipse.jetty.io.RuntimeIOException: java.io.IOException: Missing initial multi part boundary',haven't found any issue about this on github,i am pretty sure i set a multipart boundary, did it manually just for testing and it shows on wireshark. Anyone knows what could be the issue ?
Mikhail Tchernychev
@mikhailtchernychev
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Julian
@JulianFeinauer
https://www.eclipse.org/hawkbit/rest-api/softwaremodules-api-guide/#_post_rest_v1_softwaremodules_softwaremoduleid_artifacts
Oh sorry, too late :)
Alexander Dobler
@dobleralex
:D
Jalal
@jmlups_gitlab
thank you !!
Jalal
@jmlups_gitlab
Hey, whenever i try to upload a file to hawkbit as an artifact, i get a response with message : 'org.eclipse.jetty.io.RuntimeIOException: java.io.IOException: Missing initial multi part boundary',haven't found any issue about this on github,i am pretty sure i set a multipart boundary, did it manually just for testing and it shows on wireshark. Anyone knows what could be the issue ?
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Alexander Dobler
@dobleralex
Julian
@JulianFeinauer
https://www.eclipse.org/hawkbit/rest-api/softwaremodules-api-guide/#_post_rest_v1_softwaremodules_softwaremoduleid_artifacts
Oh sorry, too late :)
Alexander Dobler
@dobleralex
:D
Jalal
@jmlups_gitlab
thank you !!
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Julian
@JulianFeinauer
@jmlups_gitlab yes it is
Alexander Dobler
@dobleralex
Julian
@JulianFeinauer
https://www.eclipse.org/hawkbit/rest-api/softwaremodules-api-guide/#_post_rest_v1_softwaremodules_softwaremoduleid_artifacts
Oh sorry, too late :)
Alexander Dobler
@dobleralex
:D
Jalal
@jmlups_gitlab
thank you !!
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Jalal
@jmlups_gitlab
Hey, is it possible to upload artifacts using the rest API ? i dont find anything related in the docs !
Julian
@JulianFeinauer
@jmlups_gitlab yes it is
Alexander Dobler
@dobleralex
Julian
@JulianFeinauer
https://www.eclipse.org/hawkbit/rest-api/softwaremodules-api-guide/#_post_rest_v1_softwaremodules_softwaremoduleid_artifacts
Oh sorry, too late :)
Alexander Dobler
@dobleralex
:D
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Peter
@Scifire
Hello, I´m really new to hawkbit and try to setup oauth2 with AzureAD. I think I got it mostly but I still get a 404 after all the login magic 2020-10-15 08:19:37.870 DEBUG 1 --- [qtp260638966-23] o.s.web.client.RestTemplate : Response 200 OK
2020-10-15 08:19:37.872 DEBUG 1 --- [qtp260638966-23] o.s.web.client.RestTemplate : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json;charset=utf-8"
2020-10-15 08:19:37.927 DEBUG 1 --- [qtp260638966-23] o.s.web.client.RestTemplate : Accept=[text/plain, application/json, application/cbor, application/*+json, */*]
2020-10-15 08:19:37.974 DEBUG 1 --- [qtp260638966-23] o.s.web.client.RestTemplate : Response 200 OK
2020-10-15 08:19:37.974 DEBUG 1 --- [qtp260638966-23] o.s.web.client.RestTemplate : Reading to [java.lang.String] as "application/json;charset=utf-8"
2020-10-15 08:19:38.028 DEBUG 1 --- [qtp260638966-21] o.s.w.s.handler.SimpleUrlHandlerMapping : Mapped to ResourceHttpRequestHandler ["classpath:/META-INF/resources/", "classpath:/resources/", "classpath:/static/", "classpath:/public/", "/"]
2020-10-15 08:19:38.031 DEBUG 1 --- [qtp260638966-21] o.s.w.s.r.ResourceHttpRequestHandler : Resource not found
2020-10-15 08:19:38.036 DEBUG 1 --- [qtp260638966-21] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2020-10-15 08:19:38.043 DEBUG 1 --- [qtp260638966-21] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]
2020-10-15 08:19:38.048 DEBUG 1 --- [qtp260638966-21] o.s.web.servlet.DispatcherServlet : Exiting from "ERROR" dispatch, status 404
2020-10-15 08:19:38.049 DEBUG 1 --- [qtp260638966-21] o.s.web.servlet.DispatcherServlet : Completed 404 NOT_FOUND
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
Skeptics
Mi Yodeya (Judaism)
Travel
Christianity
English Language Learners
Japanese Language
Chinese Language
French Language
German Language
Biblical Hermeneutics
History
Spanish Language
Islam
Русский язык
Russian Language
Arqade (gaming)
Bicycles
Role-playing Games
Anime & Manga
Puzzling
Motor Vehicle Maintenance & Repair
Board & Card Games
Bricks
Homebrewing
Martial Arts
The Great Outdoors
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Sign in to start talking
"version" : "another Version",
"modules" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108829819,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108830335,
"name" : "app runtime",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.80",
"type" : "runtime",
"vendor" : "vendor GmbH, Stuttgart, Germany",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/32"
}
},
"id" : 32
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108829918,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108830372,
"name" : "Firmware",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
*/
public static final String HAS_AUTH_ROLLOUT_MANAGEMENT_APPROVE = HAS_AUTH_PREFIX + APPROVE_ROLLOUT
+ HAS_AUTH_SUFFIX + HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_ROLLOUT_MANAGEMENT_UPDATE = HAS_AUTH_PREFIX + UPDATE_ROLLOUT
+ HAS_AUTH_SUFFIX + HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_ROLLOUT_MANAGEMENT_DELETE = HAS_AUTH_PREFIX + DELETE_ROLLOUT
+ HAS_AUTH_SUFFIX + HAS_AUTH_OR + IS_SYSTEM_CODE;
/**
* Spring security eval hasAuthority expression to check if spring
*/
public static final String HAS_AUTH_TENANT_CONFIGURATION = HAS_AUTH_PREFIX + TENANT_CONFIGURATION
+ HAS_AUTH_SUFFIX + HAS_AUTH_OR + IS_SYSTEM_CODE;
private SpringEvalExpressions() {
// utility class
}
}
Suggested change
filteredConfigurationViews.addAll(autowiredConfigurationViews.stream().filter(c -> c.getComponentCount() > 0)
.filter(ConfigurationGroup::show).collect(Collectors.toList()));
filteredConfigurationViews = autowiredConfigurationViews.stream().filter(c -> c.getComponentCount() > 0)
.filter(ConfigurationGroup::show).collect(Collectors.toList()));
No need to first initialize a ArrayList for filteredConfigurationViews
aktivk
suggested changes
Nov 19, 2020
View changes
.../org/eclipse/hawkbit/ui/common/data/proxies/ProxySystemConfigDsType.java
Outdated
Show resolved
Hide resolved
...org/eclipse/hawkbit/ui/common/data/proxies/ProxySystemConfigPolling.java
Outdated
Show resolved
Hide resolved
thingId
The ID of the registered provisioning target
String
true
tenant
The tenant this provisioning target belongs to
String
true
Example header:
Header
MessageProperties
type=THING_DELETED tenant=default thingId=abc
REQUEST_ATTRIBUTES_UPDATE
Message sent by Eclipse hawkBit when a re-transmission of target attributes is requested.
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “EVENT”
true
thingId
The ID of the registered provisioning target
String
Project hawkBit
Project hawkBit
Software Updates for the Internet of
Things
Initial Contribution - System Overview
Data Model Example: Smart Home Gateway
Data Model Example: Vehicle
Initial Contribution - Software Overview
Further Links
eclipse IoT Project Proposal Draft
Copyright ©
Release 0.2.1 · eclipse/hawkbit · GitHub
0.2.2 Milestone · GitHub
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Release 0.2.2 · eclipse/hawkbit · GitHub
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
0.2.3 Milestone · GitHub
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
Release 0.2.3 · eclipse/hawkbit · GitHub
Interface flexibility for device integration in the project
Functional scalability for big IoT rollouts
End-to-end security for the software update process
Note: Eclipse hawkBit does not currently possess a ready-to-go device client, and is hoping for active collaboration from the Eclipse community.
Requirements
A device’s length of service also depends on keeping the software update mechanism stable throughout the device’s service life. This can often be a period of years or even decades. Furthermore, in contrast to PCs and smartphones, manual intervention from a device’s end user is most often not an (affordable) option in the IoT context.
We would like to take a look at three of the most important requirements in more detail. We also briefly mention a further requirement, which is no less important but which Eclipse hawkBit was not designed to address.
Interface stability
IoT devices have service lives ranging from a few years for the consumer market to a few decades in industrial and automotive contexts. We should not forget that there are scenarios in which connected devices might go for extended periods without contact with the backend. For instance, a device might be produced and then spend one or two years in a warehouse. The time periods for a device that has been bought and installed but never connected are even longer; imagine a customer who possesses a cloud-ready heating system or power inverter and yet has never got round to providing it with internet access.
Interface flexibility
Interfaces must be as flexible as they are stable, since the IoT does not possess any established standard governing device connectivity or device management. There are all sorts of transport protocols currently in use, ranging from HTTP to MQTT, AMQP, and CoAP. In terms of device management, OMA-DM, LWM2M, and TR-069 provide some degree of standardization, though in practice none has yet firmly established itself across domains. As a result, most projects tend to rely on their own protocol for device management. It is also standard practice to use just a single channel for completing operations such as updating the software on the device and transferring data from the device to the cloud.
Functional scalability
The system must also be able to cope with the fact that in a rollout many devices might install the update very late or not at all, perhaps because they are registered but never online. In this sense, it is likely that very large-scale rollouts will never be declared entirely complete.
End-to-end security
The software update process relies on trust between the device itself and the creator of the software. In between is the software update service, whose task is first and foremost to transfer software onto the device. As a result, it is also the point at which the danger of corruption arises. It should never be the duty of the software update service, as the “man in the middle,” to confirm the authenticity of a software artifact. Its job is to encrypt the transfer, and authenticate and authorize devices and users, but at the end of the day it is up to the device itself to verify software authenticity, for instance via a digital signature. That is why hawkBit deliberately gives no guarantee of end-to-end security.
SEE ALSO: Eclipse Vorto: Interoperability for the Internet of Things
Eclipse hawkBit
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
0.2.4 Milestone · GitHub
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
Release 0.2.4 · eclipse/hawkbit · GitHub
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
_
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
by our Privacy Policy.
To subscribe to a mailing list, you must have an Eclipse.org account.
Log in
- Or -
Create an account
Once you’ve are logged in, you can manage your mailing list subscriptions on the Mailing List page.
View All Mailing Lists
Mailing List
View All Mailing Lists
View Archived Mailing Lists
Privacy Policy
Terms of Use
Mailing list: hawkbit-devRSS Feed
Archive
Eclipse Foundation
About UsContact UsDonateMembersGovernanceCode of ConductLogo and ArtworkBoard of Directors
Legal
Privacy PolicyTerms of UseCopyright AgentEclipse Public LicenseLegal Resources
Useful Links
Report a BugDocumentationHow to ContributeMailing ListsForumsMarketplace
Other
IDE and ToolsProjectsWorking GroupsResearch@EclipseReport a VulnerabilityService Status
Copyright © Eclipse Foundation, Inc. All Rights Reserved.
Back to the top
Hi, I have upload size problem with hawkbit.In the config/application.properties file I havespring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MBThis should allow me upload up to 4 GB.However, upload fails at limit of 1 GB:2020-10-19 17:00:14.749 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload started for file update-2020.10.14-1.raucb:v:12020-10-19 17:02:09.113 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload failed for file update-2020.10.14-1.raucb:v:1 due to reason: Maximum artifact size (1024 MB) exceededIf I don't put these values in application.properties upload stops right away, with repeated messages of size exceeding 1024MBPlease help.
Bondar Bogdan
@bogdan-bondar
@mikhailtchernychev this restriction is coming from the DOS filter, you need to set the following properties:hawkbit.server.security.dos.maxArtifactSize and hawkbit.server.security.dos.maxArtifactStorage in bytes. Default values are 1_073_741_824 (1GB) for max artifact size and 21_474_836_480 (20GB) for max artifact storage
Dominic Schabel
@schabdo
@jmlups_gitlab not sure what you exactly did in order to provoke this error. But if you have wireshark already in place this working curl command should help you figuring out the difference:curl 'https://hawkbit.eclipse.org/rest/v1/softwaremodules/1/artifacts' -i -H 'Authorization: Basic ZGVtbzpkZW1v' -v -H 'Content-Type: multipart/form-data' -X POST -F 'file=@myTestFile.txt’
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
Mikhail Tchernychev
@mikhailtchernychev
Hi, I have upload size problem with hawkbit.In the config/application.properties file I havespring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MBThis should allow me upload up to 4 GB.However, upload fails at limit of 1 GB:2020-10-19 17:00:14.749 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload started for file update-2020.10.14-1.raucb:v:12020-10-19 17:02:09.113 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload failed for file update-2020.10.14-1.raucb:v:1 due to reason: Maximum artifact size (1024 MB) exceededIf I don't put these values in application.properties upload stops right away, with repeated messages of size exceeding 1024MBPlease help.
Bondar Bogdan
@bogdan-bondar
@mikhailtchernychev this restriction is coming from the DOS filter, you need to set the following properties:hawkbit.server.security.dos.maxArtifactSize and hawkbit.server.security.dos.maxArtifactStorage in bytes. Default values are 1_073_741_824 (1GB) for max artifact size and 21_474_836_480 (20GB) for max artifact storage
Dominic Schabel
@schabdo
@jmlups_gitlab not sure what you exactly did in order to provoke this error. But if you have wireshark already in place this working curl command should help you figuring out the difference:curl 'https://hawkbit.eclipse.org/rest/v1/softwaremodules/1/artifacts' -i -H 'Authorization: Basic ZGVtbzpkZW1v' -v -H 'Content-Type: multipart/form-data' -X POST -F 'file=@myTestFile.txt’
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
Jalal
@jmlups_gitlab
Hey, whenever i try to upload a file to hawkbit as an artifact, i get a response with message : 'org.eclipse.jetty.io.RuntimeIOException: java.io.IOException: Missing initial multi part boundary',haven't found any issue about this on github,i am pretty sure i set a multipart boundary, did it manually just for testing and it shows on wireshark. Anyone knows what could be the issue ?
Mikhail Tchernychev
@mikhailtchernychev
Hi, I have upload size problem with hawkbit.In the config/application.properties file I havespring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MBThis should allow me upload up to 4 GB.However, upload fails at limit of 1 GB:2020-10-19 17:00:14.749 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload started for file update-2020.10.14-1.raucb:v:12020-10-19 17:02:09.113 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload failed for file update-2020.10.14-1.raucb:v:1 due to reason: Maximum artifact size (1024 MB) exceededIf I don't put these values in application.properties upload stops right away, with repeated messages of size exceeding 1024MBPlease help.
Bondar Bogdan
@bogdan-bondar
@mikhailtchernychev this restriction is coming from the DOS filter, you need to set the following properties:hawkbit.server.security.dos.maxArtifactSize and hawkbit.server.security.dos.maxArtifactStorage in bytes. Default values are 1_073_741_824 (1GB) for max artifact size and 21_474_836_480 (20GB) for max artifact storage
Dominic Schabel
@schabdo
@jmlups_gitlab not sure what you exactly did in order to provoke this error. But if you have wireshark already in place this working curl command should help you figuring out the difference:curl 'https://hawkbit.eclipse.org/rest/v1/softwaremodules/1/artifacts' -i -H 'Authorization: Basic ZGVtbzpkZW1v' -v -H 'Content-Type: multipart/form-data' -X POST -F 'file=@myTestFile.txt’
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Jalal
@jmlups_gitlab
Hey, whenever i try to upload a file to hawkbit as an artifact, i get a response with message : 'org.eclipse.jetty.io.RuntimeIOException: java.io.IOException: Missing initial multi part boundary',haven't found any issue about this on github,i am pretty sure i set a multipart boundary, did it manually just for testing and it shows on wireshark. Anyone knows what could be the issue ?
Mikhail Tchernychev
@mikhailtchernychev
Hi, I have upload size problem with hawkbit.In the config/application.properties file I havespring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MBThis should allow me upload up to 4 GB.However, upload fails at limit of 1 GB:2020-10-19 17:00:14.749 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload started for file update-2020.10.14-1.raucb:v:12020-10-19 17:02:09.113 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload failed for file update-2020.10.14-1.raucb:v:1 due to reason: Maximum artifact size (1024 MB) exceededIf I don't put these values in application.properties upload stops right away, with repeated messages of size exceeding 1024MBPlease help.
Bondar Bogdan
@bogdan-bondar
@mikhailtchernychev this restriction is coming from the DOS filter, you need to set the following properties:hawkbit.server.security.dos.maxArtifactSize and hawkbit.server.security.dos.maxArtifactStorage in bytes. Default values are 1_073_741_824 (1GB) for max artifact size and 21_474_836_480 (20GB) for max artifact storage
Dominic Schabel
@schabdo
@jmlups_gitlab not sure what you exactly did in order to provoke this error. But if you have wireshark already in place this working curl command should help you figuring out the difference:curl 'https://hawkbit.eclipse.org/rest/v1/softwaremodules/1/artifacts' -i -H 'Authorization: Basic ZGVtbzpkZW1v' -v -H 'Content-Type: multipart/form-data' -X POST -F 'file=@myTestFile.txt’
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Jalal
@jmlups_gitlab
thank you !!
Jalal
@jmlups_gitlab
Hey, whenever i try to upload a file to hawkbit as an artifact, i get a response with message : 'org.eclipse.jetty.io.RuntimeIOException: java.io.IOException: Missing initial multi part boundary',haven't found any issue about this on github,i am pretty sure i set a multipart boundary, did it manually just for testing and it shows on wireshark. Anyone knows what could be the issue ?
Mikhail Tchernychev
@mikhailtchernychev
Hi, I have upload size problem with hawkbit.In the config/application.properties file I havespring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MBThis should allow me upload up to 4 GB.However, upload fails at limit of 1 GB:2020-10-19 17:00:14.749 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload started for file update-2020.10.14-1.raucb:v:12020-10-19 17:02:09.113 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload failed for file update-2020.10.14-1.raucb:v:1 due to reason: Maximum artifact size (1024 MB) exceededIf I don't put these values in application.properties upload stops right away, with repeated messages of size exceeding 1024MBPlease help.
Bondar Bogdan
@bogdan-bondar
@mikhailtchernychev this restriction is coming from the DOS filter, you need to set the following properties:hawkbit.server.security.dos.maxArtifactSize and hawkbit.server.security.dos.maxArtifactStorage in bytes. Default values are 1_073_741_824 (1GB) for max artifact size and 21_474_836_480 (20GB) for max artifact storage
Dominic Schabel
@schabdo
@jmlups_gitlab not sure what you exactly did in order to provoke this error. But if you have wireshark already in place this working curl command should help you figuring out the difference:curl 'https://hawkbit.eclipse.org/rest/v1/softwaremodules/1/artifacts' -i -H 'Authorization: Basic ZGVtbzpkZW1v' -v -H 'Content-Type: multipart/form-data' -X POST -F 'file=@myTestFile.txt’
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
I guess I´m missing some mapping or something like that. Maybe anyone can give me a hint where to look
Jalal
@jmlups_gitlab
Hey, is it possible to upload artifacts using the rest API ? i dont find anything related in the docs !
Julian
@JulianFeinauer
@jmlups_gitlab yes it is
Alexander Dobler
@dobleralex
Julian
@JulianFeinauer
https://www.eclipse.org/hawkbit/rest-api/softwaremodules-api-guide/#_post_rest_v1_softwaremodules_softwaremoduleid_artifacts
Oh sorry, too late :)
Alexander Dobler
@dobleralex
:D
Jalal
@jmlups_gitlab
thank you !!
Jalal
@jmlups_gitlab
Hey, whenever i try to upload a file to hawkbit as an artifact, i get a response with message : 'org.eclipse.jetty.io.RuntimeIOException: java.io.IOException: Missing initial multi part boundary',haven't found any issue about this on github,i am pretty sure i set a multipart boundary, did it manually just for testing and it shows on wireshark. Anyone knows what could be the issue ?
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
_
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
_
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
_
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
_
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
_
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
Sign in to start talking
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Poker
Chess
Sports
more (16)
MathOverflow
Mathematics
Cross Validated (stats)
Theoretical Computer Science
Physics
Chemistry
Biology
Computer Science
Philosophy
Linguistics
Psychology & Neuroscience
Computational Science
more (10)
Meta Stack Exchange
Stack Apps
API
Data
Blog
Facebook
Twitter
LinkedIn
"version" : "1.0.8",
"type" : "os",
"vendor" : "vendor Limited Inc, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/33"
}
},
"id" : 33
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108829682,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108830259,
"name" : "application",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.47",
"type" : "application",
"vendor" : "vendor Limited, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/31"
}
},
"id" : 31
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
.../eclipse/hawkbit/ui/common/data/proxies/ProxySystemConfigRepository.java
Outdated
Show resolved
Hide resolved
...org/eclipse/hawkbit/ui/common/data/proxies/ProxySystemConfigRollout.java
Outdated
Show resolved
Hide resolved
hawkbit-ui/src/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/BaseConfigurationView.java
binder.setBean(populateSystemConfig());
}
protected abstract B populateSystemConfig();
protected void notifyConfigurationChanged() {
This comment has been minimized.
Sign in to view
aktivk
Nov 19, 2020
Contributor
Unused method
...rc/main/java/org/eclipse/hawkbit/ui/tenantconfiguration/AuthenticationConfigurationView.java
Outdated
}
true
topic
Topic name identifying the event
Fixed string “REQUEST_ATTRIBUTES_UPDATE”
true
tenant
The tenant this provisioning target belongs to
String
true
Example headers:
Header
MessageProperties
type=EVENT tenant=default thingId=abc topic=REQUEST_ATTRIBUTES_UPDATE
PING_RESPONSE
hawkBit will respond to the PING message with a PING_RESPONSE type message that has the same correlationId as the original PING message:
Header
Description
Type
Mandatory
type
Type of the message
Fixed string “PING_RESPONSE”
true
tenant
Bosch Software Innovations GmbH All rights reserved. |
Imprint |
Legal |
Privacy |
Terms |
Documentation |
Free Trial |
Career
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.2.0.RELEASE
Closed Jul 6, 2018
100% complete
First hawkBit release
0 Open
3 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Terms
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
0.2.0
d8ad9f6
Compare
Choose a tag to compare
Search for a tag
0.2.0
0.2.0
d8ad9f6
Compare
Choose a tag to compare
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.2.1
Closed Jul 6, 2018
100% complete
0 Open
11 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Terms
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Eclipse hawkBit is already addressing some of these challenges. Interface stability with the device is enabled by the simple RESTful API for direct device integration, accessed directly from the device, where it focuses completely on software updates and can easily be kept stable. At the same time, the device management federation API supplies a high level of flexibility for device integration, making it possible to patch in various device connectors.
As well as these specific requirements, hawkBit must of course comply with today’s established standards. These include flexibly applicable interfaces, a modern cloud-ready software architecture, and – of particular importance for an open source project – a high degree of flexibility in using the software for in-house projects.
Integration scenarios
Eclipse hawkBit can be used as a stand-alone application for implementing software updates directly on a device. In this most basic scenario, the administrator uses the hawkBit management UI to manage the repository and execute updates. Devices are connected to the hawkBit server via the direct device integration API.
Fig. 1: hawkBit, simplest user scenario
More comprehensive integration is enabled by the RESTful management API, the features of which are compatible with the management UI. It can be used to:
Conveniently ascertain a device’s software version, perhaps for a support portal
Trigger an update from a workflow engine
Refill the software repository from a continuous integration engine, with a subsequent update on test devices for integration testing
The final element is the device management federation API, which enables the indirect connection of devices via (existing) connectors using an AMQP (0.9) broker. If both interfaces are fully occupied, hawkBit is able to concentrate on managing the repository and update process.
Fig. 2: The possibilities of hawkBit integration
A software update is more than just a file
Software updates most often consist of multiple software components, including operating system, run-time, and application components. The software components themselves also comprise multiple files, for instance the complete update, various binary deltas, and signatures.
Eclipse hawkBit defines a flexible data model that is capable of combining these complex structures, including metadata such as version and description, into a software update. The model can be used to supply devices with multiple software packages and update them in an atomic process.
Fig. 3: hawkBit software update package model
Trying out Eclipse hawkBit
The source code for Eclipse hawkBit [5] can be cloned from GitHub and installed via Maven (listing 1).
$ git clone https://github.com/eclipse/hawkbit.git
$ mvn clean install
Once you have successfully installed the source code, you can launch the accompanying sample application, which makes the management UI available for rolling out software to devices.
The graphical interface can be accessed at http://localhost:8080/UI; users can log in with the following credentials: user: admin and password: admin (listing 2).
$ java –jar ./ examples/hawkbit-example-app/target/hawkbit-example-app-#version#.jar
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
_
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
master
hawkbit/hawkbit-security-integration/src/main/java/org/eclipse/hawkbit/security/ControllerPreAuthenticateSecurityTokenFilter.java
/
Jump to
Code definitions
ControllerPreAuthenticateSecurityTokenFilter
Class
getPreAuthenticatedPrincipal
Method
getPreAuthenticatedCredentials
Method
resolveControllerId
Method
getTenantConfigurationKey
Method
Code navigation index up-to-date
Go to file
Go to file
T
Go to line
L
Go to definition
R
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Projects
Wiki
Security
Insights
Permalink
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
master
hawkbit/hawkbit-runtime/hawkbit-update-server/src/main/resources/logback-spring.xml
Go to file
Go to file
T
Go to line
L
Copy path
Cannot retrieve contributors at this time
32 lines (23 sloc)
1.22 KB
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Drop support for MySQL 5.6
#1036
Open
schabdo opened this issue
Oct 22, 2020
· 0 comments
Open
Drop support for MySQL 5.6
#1036
schabdo opened this issue
Oct 22, 2020
· 0 comments
Labels
task
Comments
Copy link
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
Mikhail Tchernychev
@mikhailtchernychev
Hi, I have upload size problem with hawkbit.In the config/application.properties file I havespring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MBThis should allow me upload up to 4 GB.However, upload fails at limit of 1 GB:2020-10-19 17:00:14.749 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload started for file update-2020.10.14-1.raucb:v:12020-10-19 17:02:09.113 INFO 32155 --- [qtp942804532-20] o.e.h.u.a.u.AbstractFileTransferHandler : Upload failed for file update-2020.10.14-1.raucb:v:1 due to reason: Maximum artifact size (1024 MB) exceededIf I don't put these values in application.properties upload stops right away, with repeated messages of size exceeding 1024MBPlease help.
Bondar Bogdan
@bogdan-bondar
@mikhailtchernychev this restriction is coming from the DOS filter, you need to set the following properties:hawkbit.server.security.dos.maxArtifactSize and hawkbit.server.security.dos.maxArtifactStorage in bytes. Default values are 1_073_741_824 (1GB) for max artifact size and 21_474_836_480 (20GB) for max artifact storage
Dominic Schabel
@schabdo
@jmlups_gitlab not sure what you exactly did in order to provoke this error. But if you have wireshark already in place this working curl command should help you figuring out the difference:curl 'https://hawkbit.eclipse.org/rest/v1/softwaremodules/1/artifacts' -i -H 'Authorization: Basic ZGVtbzpkZW1v' -v -H 'Content-Type: multipart/form-data' -X POST -F 'file=@myTestFile.txt’
You just need a file named myTestFile.txt within same path as you execute curl
Jalal
@jmlups_gitlab
ok i'll try that thanks @schabdo
Mikhail Tchernychev
@mikhailtchernychev
@bogdan-bondar Thank you, it worked. I put into my config/application.properties the following line: hawkbit.server.security.dos.maxArtifactSize=4294967296and it fixed the problem.
Mikhail Tchernychev
@mikhailtchernychev
But still need it application.properties file something like that:spring.servlet.multipart.max-file-size=4096MBspring.servlet.multipart.max-request-size=4096MBspring.servlet.multipart.enabled=truespring.servlet.multipart.file-size-threshold=4096MB
RalfMengwasser
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Sign in to start talking
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Sign in to start talking
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sign in to start talking
Instagram
site design / logo © 2020 Stack Exchange Inc; user contributions licensed under cc by-sa. rev 2020.11.23.38057
Stack Overflow works best with JavaScript enabled
} ],
"requiredMigrationStep" : true,
"type" : "test_default_ds_type",
"complete" : true,
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/distributionsets/11"
},
"modules" : {
"templated" : true
},
"type" : {
"href" : "https://management-api.host.com/rest/v1/distributionsettypes/36"
},
"metadata" : {
"templated" : true
}
},
"id" : 11
}
Error responses
HTTP Status Code
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
@PostConstruct
This comment has been minimized.
Sign in to view
aktivk
Nov 19, 2020
Contributor
we can call init method from constructor. Just to have consistency unless there is a reason
...in/java/org/eclipse/hawkbit/ui/tenantconfiguration/TenantConfigurationAutoConfiguration.java
import org.springframework.core.annotation.Order;
@Configuration
@ConditionalOnClass(MgmtUiConfiguration.class)
This comment has been minimized.
Sign in to view
aktivk
Nov 19, 2020
Contributor
Document the public class and methods
...in/java/org/eclipse/hawkbit/ui/tenantconfiguration/TenantConfigurationAutoConfiguration.java
@Configuration
The tenant the PING belongs to
String
false
Message Properties
Description
Type
Mandatory
correlationId
CorrelationId of the original PING request
String
true
content_type
The content type of the payload
String
true
The PING_RESPONSE also contains a timestamp (i.e. the difference, measured in milliseconds, between the current time and midnight, January 1, 1970 UTC) as plain text. It is not guaranteed that this timestamp is completely accurate.
Header
MessageProperties
type=PING_RESPONSE tenant=default
content_type=text/plain
1505215891247
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Installed latest eclipse and updated formatter settings for better fluent-style method invocations
#1048
Open
vigier
wants to merge
1
commit into
eclipse:master
base:
Release 0.2.5 · eclipse/hawkbit · GitHub
0.3.0M1 Milestone · GitHub
Release 0.3.0M1 · eclipse/hawkbit · GitHub
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Release 0.3.0M2 · eclipse/hawkbit · GitHub
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Release 0.3.0M3 · eclipse/hawkbit · GitHub
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
Search for a tag
hawkbit-bot
tagged this
Jun 7, 2018
·
290 commits
to master
since this tag
[maven-scm] copy for tag 0.2.0
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
So that the user does not need to write their own device client for testing, hawkBit comes with a device simulator that is capable of simulating update-ready devices and connecting them to hawkBit via both interfaces (listing 3).
$ java –jar ./ examples/hawkbit-device-simulator/target/hawkbit-device-simulator-#version#.jar
For simulating devices, users can choose from either the graphical interface or the simulator’s RESTful API.
$ curl http://localhost:8083/start?amount=10&api=ddi
The samples also include a management API client that demonstrates the use of the management API as well as automatically generating a few sample software packages for immediate use in the hawkBit sample application.
$ java –jar ./ examples/hawkbit-mgmt-api-client/target/hawkbit-mgmt-api-client-#version#.jar
Using the management UI provided with the hawkBit sample application, users can then roll out the ready-made software packages onto the simulated devices.
Fig. 4: hawkBit: Manual software update example
Outlook
From a technical standpoint, we are aiming for further improvements with regard to hawkBit’s flexibility, modularity, and capacity for integration. There are also interesting possibilities for integration with other Eclipse IoT projects such as Leshan [6], so as to supply LWM2M devices with firmware, Hono, to make it easier to connect devices to hawkBit, and Tiaki [7], so devices can find the correct hawkBit server securely and automatically.
Links and literature:
[1] https://projects.eclipse.org/projects/iot.hawkbit
[2] http://iot.eclipse.org/
[3] https://projects.eclipse.org/projects/iot.vorto
[4] https://projects.eclipse.org/projects/iot.hono
[5] https://github.com/eclipse/hawkbit
[6] https://projects.eclipse.org/projects/iot.leshan
[7] https://projects.eclipse.org/projects/iot.tiaki
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
Copy path
Cannot retrieve contributors at this time
105 lines (94 sloc)
4.81 KB
Raw
Blame
/**
* Copyright (c) 2015 Bosch Software Innovations GmbH and others.
*
* All rights reserved. This program and the accompanying materials
* are made available under the terms of the Eclipse Public License v1.0
* which accompanies this distribution, and is available at
* http://www.eclipse.org/legal/epl-v10.html
*/
package org.eclipse.hawkbit.security;
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
Raw
Blame
<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright (c) 2015 Bosch Software Innovations GmbH and others.
All rights reserved. This program and the accompanying materials
are made available under the terms of the Eclipse Public License v1.0
which accompanies this distribution, and is available at
http://www.eclipse.org/legal/epl-v10.html
-->
<configuration>
<include resource="org/springframework/boot/logging/logback/base.xml" />
<logger name="org.eclipse.hawkbit.eventbus.DeadEventListener" level="WARN" />
<Logger name="org.springframework.boot.actuate.audit.listener.AuditListener" level="WARN" />
<Logger name="org.hibernate.validator.internal.util.Version" level="WARN" />
<!-- Security Log with hints on potential attacks -->
<logger name="server-security" level="INFO" />
<!-- Suppressing "More than one Servlet Mapping defined. WebSocket may not work"
error due to the way VaadinServletConfiguration configures the endpoints mapping ("/UI" and "/UI/*").
At the end only the first "/UI" is taken for websocket communication. -->
<logger name="org.atmosphere.util.IOUtils" level="OFF" />
<Root level="INFO">
<appender-ref ref="CONSOLE" />
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
_
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
_
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
_
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
Quote reply
Member
schabdo
commented
Oct 22, 2020
MySQL 5.6 will reach EOL in 2021. Flyway 5.2.4 is the latest version still supporting MySQL 5.6. We won't be able to upgrade to a more recent version of Flyway until we discontinue support for MySQL 5.6 and move on to MySQL 5.7+.
Furthermore new version of Flyway will have better support for MariaDB by means forcing the JDBC driver to report MariaDB as a MySQL is not required anymore (cf. useMysqlMetadata in MariaDB connector parameters) in order to get it running:
org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5
schabdo
added
the
task
label
Oct 22, 2020
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
No one assigned
Labels
task
Projects
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
_
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
_
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@RalfMengwasser
hi... have just run the docker image, which I thought is standalone.... but it fails badly looking for an MQTT server!?
Mikhail Tchernychev
@mikhailtchernychev
Do you mean rarbbitmq? I had and issue if rabbitmq is already running on host. Then I had to stop it before using container
RalfMengwasser
@RalfMengwasser
no i didnt have it running... it was looking for it and didnt find it
RalfMengwasser
@RalfMengwasser
now i get a "Caused by: org.flywaydb.core.api.FlywayException: Unsupported Database: MariaDB 10.5"
now why is MariaDB 10.5 not supported? where can I read up on that?
RalfMengwasser
@RalfMengwasser
ok obviously cause maria says its maria and not mysql.
mdymov-hayward
@mdymov-hayward
Hi all, is there a log on the Hawkbit somewhere where target authentication errors are logged? Can't find any logging of this sort on the UI except for last poll date/time - which is one of the things that does not work if authentication is failing. It'd be great to be able to grep through the log and find those that are failing to authenticate. Thank you!
_
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
404 Not Found
Not Found Target.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
409 Conflict
E.g. in case an entity is created or modified by another user in another request at the same time. You may retry your modification request.
See Error body
415 Unsupported Media Type
The request was attempt with a media-type which is not supported by the server for this resource.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
@ConditionalOnClass(MgmtUiConfiguration.class)
public class TenantConfigurationAutoConfiguration {
This comment has been minimized.
Sign in to view
aktivk
Nov 19, 2020
Contributor
Rename the class
Nkyn
added 3 commits
Nov 20, 2020
Document public classes
…
Loading status checks…
36ce257
Signed-off-by: Natalia Kislicyn <natalia.kislicyn@bosch.io>
Adopt Review Comments:
…
b686a28
- Rename DefaultDistributionSetTypeLayout
- Remove unnecessary qualifier TenantConfigurationProperties
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Previous
Community
Next
Direct Device Integration API
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
master
from
bosch-io:feature/update-codeformatter
Open
Installed latest eclipse and updated formatter settings for better fluent-style method invocations
#1048
vigier
wants to merge
1
commit into
eclipse:master
from
bosch-io:feature/update-codeformatter
+380
−293
Conversation
0
Commits
1
Checks
0
Files changed
1
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
Be the first to share this article with your network!
Author
Michael Hirsch and Kai Zimmermann
As Lead Developer, Michael Hirsch is responsible for software provisioning development activities at Bosch Software Innovations GmbH and is a Committer for the Eclipse hawkBit project.
Kai Zimmermann is Product Owner for the Bosch IoT Rollouts cloud service at Bosch Software Innovations GmbH and Project Lead for Eclipse hawkBit.
Recommended For You
Name*
Email*
Website
Name*
Email*
Website
0 Comments
Inline Feedbacks
View all comments
Join us Online!Featured PostsWomen in Tech: “I’m always searching for my next opportunity”Agile in the Age of Pandemic: Best Practices, Part IIIAgile in the Age of Pandemic: Best Practices, Part IIReadjusting Cloud and Data Privacy Predictions Tweets by @JAXenterCOM
Tips, tricks and tutorialsA hands-on tutorial on how to test against 12 different JVM’s using TestContainersAvoid the Enemy! This is a simple game made with Kree.
TopicsJava
DevOps
Machine Learning
Serverless
0.3.0M3 Milestone · GitHub
0.3.0M2 Milestone · GitHub
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
import java.util.Optional;
import org.eclipse.hawkbit.repository.ControllerManagement;
import org.eclipse.hawkbit.repository.TenantConfigurationManagement;
import org.eclipse.hawkbit.repository.model.Target;
import org.eclipse.hawkbit.tenancy.TenantAware;
import org.eclipse.hawkbit.tenancy.configuration.TenantConfigurationProperties.TenantConfigurationKey;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
/**
* An pre-authenticated processing filter which extracts (if enabled through
* configuration) the possibility to authenticate a target based on its target
* {@code Example Header: Authorization: TargetToken
* 5d8fSD54fdsFG98DDsa.}
*
*
*
*/
public class ControllerPreAuthenticateSecurityTokenFilter extends AbstractControllerAuthenticationFilter {
private static final Logger LOGGER = LoggerFactory.getLogger(ControllerPreAuthenticateSecurityTokenFilter.class);
private static final String TARGET_SECURITY_TOKEN_AUTH_SCHEME = "TargetToken ";
private static final int OFFSET_TARGET_TOKEN = TARGET_SECURITY_TOKEN_AUTH_SCHEME.length();
private final ControllerManagement controllerManagement;
/**
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
</Root>
</configuration>
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
None yet
Milestone
No milestone
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
Sign in to start talking
Implementation Notes
Handles the GET request of retrieving a single distribution set within SP. Required permission: READ_REPOSITORY
Get assigned Software Modules
Curl
$ curl 'https://management-api.host.com/rest/v1/distributionsets/17/assignedSM' -i -X GET \
-H 'Accept: application/json'
Request URL
GET /rest/v1/distributionsets/17/assignedSM HTTP/1.1
Accept: application/json
Host: management-api.host.com
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
Request query parameter
Parameter
Signed-off-by: Natalia Kislicyn <natalia.kislicyn@bosch.io>
Refactoring: implement InitializingBean instead of using PostConstruct
…
Loading status checks…
076d26b
Signed-off-by: Natalia Kislicyn <natalia.kislicyn@bosch.io>
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
singrob
aktivk
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
0.2.1
f5f51bf
Compare
Choose a tag to compare
Search for a tag
0.2.1
0.2.1
f5f51bf
Compare
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.2.2
Closed Sep 21, 2018
100% complete
0 Open
18 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Terms
Privacy
Conversation
Copy link
Quote reply
Contributor
vigier
commented
Nov 18, 2020
Changed from the default (eclipse):
Line wrapping of method invocations: All but first + forced
(for better fluent style invocation formatting)
Enum constants: All but first
Module defintions: All but first
The rest has been initialized to the default (eclipse)
Signed-off-by: Peter Vigier Peter.Vigier@bosch.io
Installed latest eclipse and updated to formatter settings
…
Loading status checks…
8239d83
Changed from the default (eclipse):
- Line wrapping of method invocations: All but first + forced
(for better fluent style invocation formatting)
- Enum constants: All but first
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
0.2.2
cab2a6f
Compare
Choose a tag to compare
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.2.3
Closed Oct 1, 2018
100% complete
0 Open
3 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
0.2.3
cba6755
Compare
Choose a tag to compare
Search for a tag
0.2.3
0.2.3
cba6755
Compare
Choose a tag to compare
Blockchain
JavaScript
NetBeans
Careers
Tutorials
PagesContact
Newsletter
Authors
Found a bug?
Advertise
Privacy Policy
Terms of Use
Imprint
Follow JAXenterTwitter
Facebook
RSS
S&S MediaJAXenter.de
JAX London
JAX Germany
DevOpsCon
International PHP Conference
Webinale
S&S Media
Software & Support Media Group
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Code
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.2.4
* Constructor.
*
* @param tenantConfigurationManagement
* the tenant management service to retrieve configuration
* properties
* @param controllerManagement
* the controller management to retrieve the specific target
* security token to verify
* @param tenantAware
* the tenant aware service to get configuration for the specific
* tenant
* @param systemSecurityContext
* the system security context to get access to tenant
* configuration
*/
public ControllerPreAuthenticateSecurityTokenFilter(
final TenantConfigurationManagement tenantConfigurationManagement,
final ControllerManagement controllerManagement, final TenantAware tenantAware,
final SystemSecurityContext systemSecurityContext) {
super(tenantConfigurationManagement, tenantAware, systemSecurityContext);
this.controllerManagement = controllerManagement;
}
@Override
public HeaderAuthentication getPreAuthenticatedPrincipal(final DmfTenantSecurityToken secruityToken) {
final String controllerId = resolveControllerId(secruityToken);
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
Description
limit
The maximum number of entries in a page (default is 50).
sort
The query parameter sort allows to define the sort order for the result of a query. A sort criteria consists of the name of a field and the sort direction (ASC for ascending and DESC descending). The sequence of the sort criteria (multiple can be used) defines the sort order of the entities in the result.
offset
The paging offset (default is 0).
q
Query fields based on the Feed Item Query Language (FIQL). See Entity Definitions for available fields.
Request parameter example
GET /rest/v1/distributionsets/12/assignedSM?offset=1&limit=2&sort=version%3ADESC&q=name%3D%3Done* HTTP/1.1
Accept: application/json
Host: management-api.host.com
Response (Status 200)
Response fields
Path
Type
Description
Allowed Values
4 participants
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Choose a tag to compare
Search for a tag
hawkbit-bot
tagged this
Jul 5, 2018
·
277 commits
to master
since this tag
[maven-scm] copy for tag 0.2.1
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
- Module defintions: All but first
The rest has been initialized to the default (eclipse)
Signed-off-by: Peter Vigier <Peter.Vigier@bosch.io>
vigier
changed the title
Installed latest eclipse and updated to formatter settings
Installed latest eclipse and updated formatter settings for better fluent-style method invocations
Nov 18, 2020
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
No reviews
Assignees
No one assigned
Labels
None yet
Projects
None yet
Milestone
No milestone
Linked issues
Successfully merging this pull request may close these issues.
None yet
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
Search for a tag
0.2.2
0.2.2
cab2a6f
Compare
Choose a tag to compare
Search for a tag
hawkbit-bot
tagged this
Sep 20, 2018
·
238 commits
to master
since this tag
[maven-scm] copy for tag 0.2.2
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Search for a tag
hawkbit-bot
tagged this
Oct 1, 2018
·
230 commits
to master
since this tag
[maven-scm] copy for tag 0.2.3
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Contact
Masterclass Terms & Conditions
Insert
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
Closed Oct 26, 2018
100% complete
0 Open
3 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
final String authHeader = secruityToken.getHeader(DmfTenantSecurityToken.AUTHORIZATION_HEADER);
if ((authHeader != null) && authHeader.startsWith(TARGET_SECURITY_TOKEN_AUTH_SCHEME)) {
LOGGER.debug("found authorization header with scheme {} using target security token for authentication",
TARGET_SECURITY_TOKEN_AUTH_SCHEME);
return new HeaderAuthentication(controllerId, authHeader.substring(OFFSET_TARGET_TOKEN));
}
LOGGER.debug(
secruityToken, TARGET_SECURITY_TOKEN_AUTH_SCHEME);
return null;
}
@Override
public HeaderAuthentication getPreAuthenticatedCredentials(final DmfTenantSecurityToken securityToken) {
final Optional<Target> target = systemSecurityContext.runAsSystemAsTenant(() -> {
if (securityToken.getTargetId() != null) {
return controllerManagement.get(securityToken.getTargetId());
}
return controllerManagement.getByControllerId(securityToken.getControllerId());
}, securityToken.getTenant());
return target.map(t -> new HeaderAuthentication(t.getControllerId(),
systemSecurityContext.runAsSystemAsTenant(() -> t.getSecurityToken(), securityToken.getTenant())))
.orElse(null);
}
private String resolveControllerId(final DmfTenantSecurityToken securityToken) {
0.2.4
d09ca7b
Compare
Choose a tag to compare
Search for a tag
0.2.4
0.2.4
d09ca7b
Compare
Choose a tag to compare
Search for a tag
hawkbit-bot
tagged this
Oct 25, 2018
·
212 commits
to master
since this tag
[maven-scm] copy for tag 0.2.4
Assets
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Sign in to start talking
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
Never mind, I was just curious :)
Sign in to start talking
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Sign in to start talking
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
Sign in to start talking
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Sign in to start talking
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Sign in to start talking
total
Number
Total number of elements
size
Number
Current page size
content
Array
List of software modules.
content[].id
Number
The technical identifier of the entity
content[].name
String
The name of the entity
content[].description
String
The description of the entity
content[].vendor
String
The software vendor.
content[].createdBy
String
Entity was originally created by User, AMQP-Controller, anonymous etc.)
content[].createdAt
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
1 participant
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
0.2.5
347fac7
Compare
Choose a tag to compare
Search for a tag
0.2.5
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.3.0M1
Closed Feb 25, 2019
100% complete
0 Open
11 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
0.3.0M1
df23c4e
Compare
Choose a tag to compare
Search for a tag
0.3.0M1
0.3.0M1
df23c4e
Compare
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
0.3.0M2
3a5776a
Compare
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
0.3.0M3
e82f348
Compare
Choose a tag to compare
Search for a tag
0.3.0M3
0.3.0M3
0.3.0M4 Milestone · GitHub
Release 0.3.0M4 · eclipse/hawkbit · GitHub
Learn more
Accept
Reject
Save preferences
0.3.0M5 Milestone · GitHub
Release 0.3.0M5 · eclipse/hawkbit · GitHub
Release 0.3.0M6 · eclipse/hawkbit · GitHub
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Sign in to start talking
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
if (securityToken.getControllerId() != null) {
return securityToken.getControllerId();
}
final Optional<Target> foundTarget = systemSecurityContext.runAsSystemAsTenant(
() -> controllerManagement.get(securityToken.getTargetId()), securityToken.getTenant());
return foundTarget.map(Target::getControllerId).orElse(null);
}
@Override
protected String getTenantConfigurationKey() {
return TenantConfigurationKey.AUTHENTICATION_MODE_TARGET_SECURITY_TOKEN_ENABLED;
}
}
Copy lines
Copy permalink
View git blame
Reference in new issue
Go
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
Sign in to start talking
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
Sign in to start talking
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
Sign in to start talking
Number
Entity was originally created at (timestamp UTC in milliseconds)
content[].lastModifiedBy
String
Entity was last modified by User, AMQP-Controller, anonymous etc.)
content[].lastModifiedAt
Number
Entity was last modified at (timestamp UTC in milliseconds)
content[].type
String
The software module type of the entity
content[].version
String
Package version.
Response example
HTTP/1.1 200 OK
Content-Length: 1665
Content-Type: application/json;charset=UTF-8
{
"content" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108838807,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108839103,
"name" : "application",
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
0.2.5
347fac7
Compare
Choose a tag to compare
Search for a tag
hawkbit-bot
tagged this
Nov 30, 2018
·
196 commits
to master
since this tag
[maven-scm] copy for tag 0.2.5
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Choose a tag to compare
Search for a tag
hawkbit-bot
tagged this
Feb 2, 2019
·
175 commits
to master
since this tag
[maven-scm] copy for tag 0.3.0M1
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Learn more
Accept
Reject
Save preferences
Choose a tag to compare
Search for a tag
0.3.0M2
0.3.0M2
3a5776a
Compare
Choose a tag to compare
Search for a tag
hawkbit-bot
tagged this
Apr 2, 2019
·
156 commits
to master
since this tag
[maven-scm] copy for tag 0.3.0M2
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
e82f348
Compare
Choose a tag to compare
Search for a tag
schabdo
released this
May 23, 2019
·
137 commits
to master
since this release
New features
Support for Multi-Assignments #833
Add multi-user support #829
Feature download only #810
Enhancements
Spring Boot 2.1.4 #825
Feature fixed timezone #824
Fix localisation in System Configuration View #822
Small improvement within SecurityManagedConfiguration #821
Changed quota exceeded exception logging, only log exception message #817
Bugs fixed
Fix rollout distribution bar style in UI #842
Deployment View broken with Access Denied error #841
Auto-Assignment link missing in Target Filter view (caused by NPE in TargetFilterTable) #835
Fix for endless loop when an exception of type EntityAlreadyExistsException is thrown in the context of the retryable findOrRegisterTargetIfItDoesNotExist method #828
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
0.2.5 Milestone · GitHub
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
0.3.0M6 Milestone · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.3.0M3
Closed May 22, 2019
100% complete
0 Open
13 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.3.0M2
Closed Apr 4, 2019
100% complete
0 Open
18 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Terms
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Sign in to start talking
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
Sign in to start talking
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Sign in to start talking
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.27",
"type" : "application",
"vendor" : "vendor Limited, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/49"
}
},
"id" : 49
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108838845,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108839126,
"name" : "app runtime",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.21",
"type" : "runtime",
"vendor" : "vendor GmbH, Stuttgart, Germany",
"deleted" : false,
"_links" : {
"self" : {
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Skip to content
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Reject
Save preferences
"href" : "https://management-api.host.com/rest/v1/softwaremodules/50"
}
},
"id" : 50
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108838875,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108839160,
"name" : "Firmware",
"description" : "Updated Desc: amet interdum tortor enim bibendum erat taciti vestibulum tincidunt massa",
"version" : "1.0.10",
"type" : "os",
"vendor" : "vendor Limited Inc, California",
"deleted" : false,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/softwaremodules/51"
}
},
"id" : 51
} ],
"total" : 3,
"size" : 3
}
Error responses
Accept
Reject
Save preferences
Learn more
Accept
Reject
Save preferences
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
eclipse/hawkbit - Gitter
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Handles the POST request for assigning multiple software modules to a distribution set.The request body must always be a list of software module IDs. Required permissions: READ_REPOSITORY and UPDATE_REPOSITORY
Assign Software Modules to Distribution Set
CURL
$ curl 'https://management-api.host.com/rest/v1/distributionsets/19/assignedSM' -i -X POST \
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.3.0M4
Closed Jun 7, 2019
100% complete
0 Open
6 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
0.3.0M4
be17958
Compare
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.3.0M5
Closed Jul 29, 2019
100% complete
0 Open
16 Closed
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Releases
Tags
0.3.0M5
5b4bbee
Compare
Choose a tag to compare
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Where communities thrive
Join over
1.5M+ people
Join over
100K+ communities
Free
without limits
Create
your own community Explore more communities
eclipse/hawkbit
People
Repo info
Activity
15:42
schabdo edited #784
15:42
schabdo edited #784
15:38
-H 'Content-Type: application/json;charset=UTF-8' \
-d '[ {
"id" : 55
}, {
"id" : 56
} ]'
Request URL
POST /rest/v1/distributionsets/19/assignedSM HTTP/1.1
Content-Type: application/json;charset=UTF-8
Content-Length: 36
Host: management-api.host.com
[ {
"id" : 55
}, {
"id" : 56
} ]
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
Request fields
Path
Type
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Choose a tag to compare
Search for a tag
0.3.0M4
0.3.0M4
be17958
Compare
Choose a tag to compare
Search for a tag
laverman
released this
Jun 7, 2019
·
125 commits
to master
since this release
New features
Add documentation for feature Multi-Assignment (#840)
Enhancements
Change log level to debug for rolloutgroup status messages (#847)
Bugs fixed
Bugfix NPE for target percentage in UI (#819)
Change sql-query in localArtifactRepository (#820)
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.2.5
Closed Dec 17, 2018
100% complete
0 Open
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Search for a tag
0.3.0M5
0.3.0M5
5b4bbee
Compare
Choose a tag to compare
Search for a tag
schabdo
released this
Jul 30, 2019
·
107 commits
to master
since this release
New features
DDI supports SHA256 (#869)
CORS support for Mgmt API (#854)
Enhancements
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Labels
Milestones
New issue
0.3.0M6
Closed Jan 17, 2020
100% complete
Wiki
Security
Insights
Releases
Tags
Latest release
0.3.0M6
f3659f0
Compare
Choose a tag to compare
Search for a tag
0.3.0M6
Latest release
0.3.0M6
f3659f0
Compare
Choose a tag to compare
Search for a tag
schabdo
released this
schabdo edited #955
15:34
schabdo edited #784
15:18
schabdo edited #955
Nov 20 15:01
Nkyn synchronize #1043
Nov 20 14:41
a-sayyed synchronize #1050
Nov 20 11:23
a-sayyed opened #1050
Nov 20 07:43
Nkyn synchronize #1043
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:46
a-sayyed edited #1049
Nov 19 16:45
a-sayyed edited #1049
Nov 19 16:43
a-sayyed opened #1049
Nov 19 14:34
kaizimmerm synchronize #1047
Description
Allowed Values
Mandatory
[]id
Number
The technical identifier of the entity
X
Response (Status 200)
Response example
HTTP/1.1 200 OK
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
404 Not Found
Not Found Target.
See Error body
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Fix Evaluation Conditions that always resulted to true (#844)
Fix typos in authorisation documentation (#845)
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
9 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
GitHub - eclipse/hawkbit: Eclipse hawkBit™
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Reduced DMF logging level in BaseAmqpService to debug (#868)
Typos fixed in server error codes and messages (#867)
Performance optimizations for Multi-Assignments (#858)
Increase target name to 128 and target controller id to 256 (#849)
Deployment type for Download-Only fixed on DDI-API (#848)
Extend logic that marks DistributionSet as complete (#838)
External reference for actions and status-update events (#830)
Bugs fixed
REST param validation is not covering MethodArgumentNotValidException (#855)
Verify file existence before fetching artefact (#852)
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
0 Open
29 Closed
Oops, this milestone has changed. Please refresh and try again.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Jan 17, 2020
·
63 commits
to master
since this release
New features
Mgmt API accepts and returns SHA256 file hash (#918)
Introduce new DMF message THING_REMOVED (#891)
OpenID Connect support (#865)
Enhancements
Increase the value of maximal targets per auto assignment (#910)
Check only DELETE_TARGET permission for deletion requests within target table (#909)
Correct outdated RabbitMQ listener properties (#899)
Prioritisation of assignments via Mgmt-API (#895)
Fix upload quota check and provide better error message (#893)
Add optional name to payload of thing created message (#888)
Allow assignment of multiple distribution sets to a target via Mgmt-API (#886)
Security fix for UI auto refresh (#885)
Excluded EntityAlreadyExists exceptions from requeuing (#883)
Ignore unknown properties on deserialisation of DDI-API model classes (#881)
Remove dependency to Vaadin addon tokenfield (#875)
Default sort order for targets and rollouts (#874)
Return action IDs created by target-distributionset assignment (#864)
Nov 19 14:26
kaizimmerm commented #1045
Nov 19 13:50
Sergey-G-dev edited #1046
Nov 19 13:47
Sergey-G-dev synchronize #1046
Nov 19 13:45
Sergey-G-dev synchronize #1046
Nov 19 11:13
schabdo commented #1045
Nov 18 13:58
vigier edited #1048
Dominic Schabel
@schabdo
ok obviously cause maria says its maria and not mysql.
@RalfMengwasser that’s strange. The guys from Flyway claim to support MariaDB at least up to 10.4 (cf. here). As you already found out MariaDB seems to report itself as MariaDB instead of MySQL. Luckily this can be fixed :smile:
Changing datasource url within your docker setup to jdbc:mysql://mysql:3306/hawkbit?useMysqlMetadata=true will do the trick and MariaDB 10.5 will be accepted
Dominic Schabel
@schabdo
As soon as we’re able to upgrade Flyway to a more recent version this won’t be required anymore. Sorry for that!
Dominic Schabel
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
409 Conflict
E.g. in case an entity is created or modified by another user in another request at the same time. You may retry your modification request.
See Error body
415 Unsupported Media Type
The request was attempt with a media-type which is not supported by the server for this resource.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Delete a assignment. Required permission: UPDATE_REPOSITORY
Delete assignment of Software Module
CURL
$ curl 'https://management-api.host.com/rest/v1/distributionsets/4/assignedSM/12' -i -X DELETE \
-H 'Content-Type: application/json;charset=UTF-8'
Request URL
DELETE /rest/v1/distributionsets/4/assignedSM/12 HTTP/1.1
Content-Type: application/json;charset=UTF-8
Host: management-api.host.com
Request path parameter
Parameter
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Use browser locale for floating point numbers formatted String.format() in UI (#857)
Bugs fixed
Non-existing targets are not added to assignment count (#919)
Fix lazy loading Bean Queries in UI (#912)
Error message not shown in case filesize is exceeded (#906)
Fixed NullPointerException in deployment view (#871)
Assets
2
Source code (zip)
Source code (tar.gz)
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
@schabdo
… however I filed an issue to support you better in this kind of setup (cf. eclipse/hawkbit#1036)
Dominic Schabel
@schabdo
@mdymov-hayward nothing in UI available. Usually hawkBit is not showing any client errors since this would flood the logs and is a potential attack vector in terms of DOS. However I think you can switch on some loggers to gain more insights but I have to double check
mdymov-hayward
@mdymov-hayward
@schabdo It would be great to be able to do that via loggers; I am assuming changing logging config will require Hawkbit restart?
Dominic Schabel
@schabdo
Indeed it requires a restart. Raising logging level of org.eclipse.hawkbit.security.ControllerPreAuthenticateSecurityTokenFilter to DEBUG should be all you need
You can add the logger here. After that you should see one of this statements for target token authentication of the device. This will allow you to see at least if the header is sent.
mdymov-hayward
@mdymov-hayward
@schabdo Thank you, will try it. Appreciate quick response!
Dominic Schabel
@schabdo
welcome :+1:
RalfMengwasser
@RalfMengwasser
i got a few general questions:
Is there some sort of user management so I can say user X can manage devices Y and user Z devices W? Where do I change passwords?
Which ports do I have to open for the devices? Is the 8080 the same for user login AND device updates?
Description
distributionSetId
The technical identifier of the entity
softwareModuleId
The technical identifier of the entity
Response (Status 200)
Response example
HTTP/1.1 200 OK
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
404 Not Found
Not Found Target.
See Error body
405 Method Not Allowed
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
Reject
Save preferences
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Sergey Gerasimov
@Sergey-G-dev
Hi all,suddenly I'm getting the following error when trying to build/run hawkbit:java: org.eclipse.hawkbit.repository.jpa.model.JpaDistributionSet is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObject
java: org.eclipse.hawkbit.repository.jpa.model.JpaSoftwareModule is not abstract and does not override abstract method _persistence_shallow_clone() in org.eclipse.persistence.internal.descriptors.PersistenceObjectI executed 'maven clean install' a few times and it went without any errors, but that error still appears. Has anyone experienced that?
P.S. The error disappears if I add an empty method body to those two classes, but that doesn't seem right.
Sergey Gerasimov
@Sergey-G-dev
Update: the error disappeared after clicking "Generate Sources and Update Folders" in Maven menu (and executing Maven build again afterwards).
Dominic Schabel
@schabdo
Regarding 2: If you only use DDI, UI and Managment API port 8080 is sufficent. If you’d like to use DMF API there is more to consider
Dominic Schabel
@schabdo
@RalfMengwasser: Regarding 1, I’m affraid such a fine grained access control on device level is not possible as of today. Changing passwords depends on the kind of “provide” e.g. property based, in memory or OAuth2
Jalal
@jmlups_gitlab
Hello,where can i get more information on target filter syntax please ?
Florian Ruschbaschan
@floruschbaschan
Hey @jmlups_gitlab please find more information here: https://www.eclipse.org/hawkbit/ui/#how-to-filter
Jalal
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Handles the GET request for retrieving assigned targets of a single distribution set. Required permissions: READ_REPOSITORY and READ_TARGET
Get assigned targets
Curl
$ curl 'https://management-api.host.com/rest/v1/distributionsets/3/assignedTargets' -i -X GET \
-H 'Accept: application/json'
Request URL
GET /rest/v1/distributionsets/3/assignedTargets HTTP/1.1
Accept: application/json
Host: management-api.host.com
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
Request query parameter
Parameter
Description
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Eclipse hawkBit™
projects.eclipse.org/projects/iot.hawkbit
EPL-1.0 License
@jmlups_gitlab
@floruschbaschan Thank you for the quick response :)
Raffael Wiglenda
@rwiglenda_gitlab
Hi together, does anyone know how to mount an Azure File Share to the Hawkbit Pod in AKS? I guess the only way to do it is writing an own helm chart isn't it?
Sergey Gerasimov
@Sergey-G-dev
Hi all,I have a question regarding DMF API and RabbitMQ. As I understand, DMF API requires a running Rabbit service in order to connect to port 5762 to communicate with Rabbit. In our ecosystem we do not use DMF but still need to have a running Rabbit service because otherwise DMF will generate errors and exceptions as it fails to connect to Rabbit. So my question is: is it possible to disable DMF module (exclude from Maven build) so that we wouldn't need a running Rabbit instance? I tried to remove Maven dependencies of DMF, AMPQ and Rabbit but even after that hawkBit attempts to connect to 5762.
2 replies
Holger-Seemueller
@Holger-Seemueller
Hi, i have a question regarding secure operation of an Hawkbit instance: I would like to expose only those endpoints to internet that are needed for my devices. The Management UI for example should only be available in intranet. Can you tell me if their are best practices to achieve that, e.g. by liminiting access to specific URI paths?
2 replies
Jalal
@jmlups_gitlab
Hey,In the docs signature hosting is supported : https://www.eclipse.org/hawkbit/features/However i couldn't find any other information on artifact signature, any information would be appreciated
XING Yun
@BigFatDog
Hello, I have a question of deployment. In management UI, I create a target (with a fake http address) and a DS, then assign DS to the target. From target's action history, I see the DS is immediately in "RUNNING" status. My understanding is the target need to poll from update server to trigger the download (execute the assigned DS), however, the "RUNNING" status shows UpdateServer is pushing DS to the target based on the fake address, which shouldn't happen since manually added target has no polling logic. I'm confused, anything wrong with my understanding? I read code but get no clue.
danielesergio
@danielesergio
Hi all, in the clustering page of hawkbit documentation it talks about a problem that schedulers could have if they run critical code which has to be executed only once (https://www.eclipse.org/hawkbit/guides/clustering/).Do the schedulers used by hawkbit (RolloutScheduler, AutoAssignScheduler and AutoCleanupScheduler) provide built-in support for this?
limit
The maximum number of entries in a page (default is 50).
sort
The query parameter sort allows to define the sort order for the result of a query. A sort criteria consists of the name of a field and the sort direction (ASC for ascending and DESC descending). The sequence of the sort criteria (multiple can be used) defines the sort order of the entities in the result.
offset
The paging offset (default is 0).
q
Query fields based on the Feed Item Query Language (FIQL). See Entity Definitions for available fields.
Request parameter example
GET /rest/v1/distributionsets/10/assignedTargets?offset=1&limit=2&sort=name%3ADESC&q=controllerId%3D%3Dtarget* HTTP/1.1
Accept: application/json
Host: management-api.host.com
Response (Status 200)
Response fields
Path
Type
Description
Allowed Values
total
Number
Total number of elements
size
Number
Current page size
267
stars
114
forks
Star
Watch
Code
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
SongweiFu-ITEM
@SongweiFu-ITEM
Hello,
I have registered my device using the following management API curl -X POST -k -u admin:admin -i http://192.168.0.122:1337/rest/v1/targets \
-H 'Content-Type: application/json;charset=UTF-8' \
-d ' [{
"securityToken" : "123456789",
"controllerId" : "gcx-iot-gw",
"name" : "gcx-iot-gw",
"description": "test"
}]'I got the "201 created" as reply. I also see the device on the deployment UI with the given token "123456789".But when I tried to use the DDI api to poll base resources, I got 401 unauthorized error. curl -X GET -u admin:admin http://192.168.0.122:1337/DEFAULT/controller/v1/gcx-iot-gw -i -H 'Authorization: GatewayToken 123456789'I have tried the above curl with and without "-u admin:admin". Any idea why? thanks
Bondar Bogdan
@bogdan-bondar
Hi @SongweiFu-ITEM ! You have specified the Target Security Token, while registering the target, but trying to use the Gateway Token. In UI under System Config see the section “Authentication Configuration” and choose either “Allow targets to authenticate directly with their target security token” and use the TargetToken Authorization or activate the “Allow a gateway to authenticate and manage multiple targets through a gateway security token” option and use GatewayToken Authorizaton
SongweiFu-ITEM
@SongweiFu-ITEM
Thanks @bogdan-bondar. This is exactly my problem. I did not tick them in the checkbox in the "system config" UI
now I got another error when I tried to update the firmware of a linux board. Any idea about the error "[error] Update failed, missing update file kernel.caibx.sha256.sign"?Nov 17 15:50:00 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:00.489] [cloud_adapter] [info] A new deployment is available
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.007] [cloud_adapter] [info] Handling for the download part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.009] [cloud_adapter] [info] Handling for the update part of the provisioning process: forced
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.012] [cloud_adapter] [info] Downloading chunks ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.014] [cloud_adapter] [info] Name: test
content
Array[Object]
List of provisioning targets.
Response example
HTTP/1.1 200 OK
Content-Length: 501
Content-Type: application/json;charset=UTF-8
{
"content" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108822146,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108822252,
"name" : "targetExist",
"controllerId" : "targetExist",
"updateStatus" : "pending",
"securityToken" : "4b06bcf2acff4c8b6c7cdd75d736dec0",
"requestAttributes" : true,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/targets/targetExist"
}
}
} ],
"total" : 1,
"size" : 1
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
master
1
branch
21
tags
Go to file
Code
Clone
HTTPS
GitHub CLI
Use Git or checkout with SVN using the web URL.
Work fast with our official CLI.
Learn more.
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.016] [cloud_adapter] [info] Version: 1.0.0
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.025] [cloud_adapter] [info] Downloading artifact: kernel.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.183] [cloud_adapter] [info] Downloading artifact: rootfs.caibx
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.210] [cloud_adapter] [info] Downloading artifacts succeeded
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.214] [core] [info] Verifying update ...
Nov 17 15:50:02 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:02.218] [core] [error] Update failed, missing update file kernel.caibx.sha256.sign
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.228] [cloud_adapter] [info] Sending log messages (1/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.282] [cloud_adapter] [info] Sending log messages (2/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.310] [cloud_adapter] [info] Sending log messages (3/3) ...
Nov 17 15:50:03 gcx-iot-gw-dev-VCSFX84DDWLZS gcx-update-client[406]: [2020-11-17 15:50:03.334] [cloud_adapter] [info] Sending update feedback ...
Bondar Bogdan
@bogdan-bondar
It seems you need to provide the kernel.caibx.sha256.sign artifact explicitly, hawkbit does not generate signed artifacts. However, I must say that I’m not familiar with deployment on the linux board and how the client is implemented on it, so it is just an idea
SongweiFu-ITEM
@SongweiFu-ITEM
no problem. I have a look (in google). BTW, I am using the Buildroot to generate the image. In the Update Mangament UI, I have uploaded kernel.caibx and rootfs.caibx
Bondar Bogdan
@bogdan-bondar
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
}
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Handles the POST request for assigning multiple targets to a distribution set.The request body must always be a list of target IDs. Non-existing targets are silently ignored resulting in a valid response. Required permissions: READ_REPOSITORY and UPDATE_TARGET
Assign targets to a distribution set
CURL
$ curl 'https://management-api.host.com/rest/v1/distributionsets/16/assignedTargets' -i -X POST \
-H 'Content-Type: application/json;charset=UTF-8' \
Open with GitHub Desktop
Download ZIP
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching Xcode
If nothing happens, download Xcode and try again.
Go back
Launching Visual Studio
If nothing happens, download the GitHub extension for Visual Studio and try again.
Go back
Latest commit
blomark
Cleanup UI code after Vaadin migration (#1027)
…
cc40529
Nov 5, 2020
Cleanup UI code after Vaadin migration (#1027)
* Removed code duplications in DistSMTypeFilterLayout
* Removed code duplications in DistributionSetGridLayout
* fix Sonar issues
@BigFatDog Hi, “running” state of the action does not mean it is pushing anything to the target. If you specify the http schema it is always pull-based communication, meaning only target can ask for the available distribution set via DDI API. On the other hand, if you specify the amqp schema in Targets’ address, all assignment updates will be pushed to RabbitMQ based on the provided address via DMF API.
Jens Reimann
@ctron
Hey "team hawkbit" … I just wanted to check with you, if you are aware of the open PRs on the packages project, regarding the hawkbit helm chart: https://github.com/eclipse/packages/labels/hawkBit … I think those PRs should at least be commented, if you need any help let me know.
Dominic Schabel
@schabdo
@jmlups_gitlab for hawkBit the signature is completly transparent. One approach I saw is that people sign the artefact (locally) before they are uploaded to hawkBit. Afterwards they upload a second file containing the signature itself (next to the artefact). Devices after download are aware of the “Signer” and check the signature of the file
Dominic Schabel
@schabdo
I just wanted to check with you, if you are aware of the open PRs on the packages project
@ctron this is usually done by @laverman since he is the representative committer of hawkBit within the packages project. @laverman are you aware of the PRs?
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Jens Reimann
@ctron
BTW @ctron any opinion how we proceed with eclipse/hawkbit#998
Good point … I will try to add this
Dominic Schabel
@schabdo
Never mind, I was just curious :)
-d '[ {
"maintenanceWindow" : {
"duration" : "00:10:00",
"schedule" : "37 20 12 19 2 ? 2020",
"timezone" : "+00:00"
},
"forcetime" : 1582108837180,
"id" : "target1",
"type" : "timeforced"
}, {
"maintenanceWindow" : {
"duration" : "00:10:00",
"schedule" : "37 20 12 19 2 ? 2020",
"timezone" : "+00:00"
},
"forcetime" : 1582108837180,
"id" : "target2",
"type" : "timeforced"
}, {
"maintenanceWindow" : {
"duration" : "00:10:00",
"schedule" : "37 20 12 19 2 ? 2020",
"timezone" : "+00:00"
},
"forcetime" : 1582108837180,
"id" : "target3",
* fixed Sonar issues
* fix Sonar issues
* Removed duplications in SwModuleGridLayout and SoftwareModuleGridLayout
* started to remove ui duplications in *WindowController classes
* Removed unused variables
* introduced UIConfiguration object as container for common used dependencies
* continued introducing UIConfiguration object
* fixed Sonar issues
* Removed some duplicated code in WindowController classes
* call getter in super class instead of accessing fields directly
* introduced convinience methods for showing notifications in super class
* Renamed UIConfiguration to CommonUiDependencies
* Renamed UIConfiguration to CommonUiDependencies
* Introduced parent classes for add and update window controllers
* fixed Sonar issue
* introduced validator delegates in the window controller classes
* remove duplicate code between add/update controllers
* removed unnecessary abstract method used only for logging
* fixed DS selection after create
* check for duplicate entity only if attributes have changed
* fixed some failures
* fixed using wrong method for displaying validation error
* making hawkbit bot happy
* Fixed displaying success message now with persisted entity name
* make Sonar happy
Ulf Hesselbarth
@UlfHesselbarth
Good morning. We're currently trying to set up a Hawkbit instance in an internal network and would like to only expose the DDI API to the internet.The idea was to use a proxy to forward only calls matching /<TENANT>/controller/* to the internal instance.This works fine in general and we've managed to configure Hawbit in a way that the artifact download URLs are also pointing to the proxy (instead of the internal instance).However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example.Is this a use case Hawkbit supports or do we have to expose the whole instance (instead of trying to proxy particular endpoints)?Thanks!
Sergey Gerasimov
@Sergey-G-dev
Hi all,there is a commit from October 29 with the commit message "Java 11 support for hawkbit" (eclipse/hawkbit#1038), but Maven entry for Java 11 is commented out, instead, Java 8 entry is still active. Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance? Is there a date for when Java 11 will be officially supported?
danielesergio
@danielesergio
@danielesergio Hi, unfortunately there is no built-in protection for schedulers running simultaneously in cluster mode. These are just normal Spring schedulers, meaning they are bound to Application Context. However, due to transactional execution of the mentioned schedulers there shouldn’t be a problem executing scheduled operation multiple times. The only drawback would be increased DB utilization. However, you could deactivate each of them for the corresponding instances or extract them in its own deployable module
Thanks
Dominic Schabel
@schabdo
Maven entry for Java 11 is commented out, instead, Java 8 entry is still active
@Sergey-G-dev exactly, that’s on purpose. The main hawkBit repo is now enabled to be build and run with Java source level 11. However there are still some missing pieces to finally switch to Java 11. I tried to outline them here eclipse/hawkbit#955. Basically the main blocker as of now is the official release 0.3.0 which will be based still on Java source level 8. This will allow a clear cut for the community. As soon as the release is available we can proceed with the work on Java 11. Hope this helps to understand the steps towords Java 11 better
Dominic Schabel
@schabdo
Does that mean that we shouldn't write Java 11 compliant code yet and stick with Java 8 compliance?
Yes. No need to consider Java 11 within your contributions so far :+1:
Dominic Schabel
"type" : "timeforced"
}, {
"maintenanceWindow" : {
"duration" : "00:10:00",
"schedule" : "37 20 12 19 2 ? 2020",
"timezone" : "+00:00"
},
"forcetime" : 1582108837180,
"id" : "target4",
"type" : "timeforced"
}, {
"maintenanceWindow" : {
"duration" : "00:10:00",
"schedule" : "37 20 12 19 2 ? 2020",
"timezone" : "+00:00"
},
"forcetime" : 1582108837180,
"id" : "target5",
"type" : "timeforced"
} ]'
Request URL
* Incorporated review remarks
Signed-off-by: Markus Block <markus.block@bosch-si.com>
cc40529
Git stats
2,331
commits
Files
Permalink
Failed to load latest commit information.
Type
Name
Latest commit message
Commit time
.3rd-party
.circleci
.github
docs
hawkbit-artifact-repository-filesystem
@schabdo
Is there a date for when Java 11 will be officially supported?
No, unfortunately not yet. It depends on how fast we’re able to get release 0.3.0 out of the door. From that point in time we can continue working on Java 11. The release progress can be tracked here: eclipse/hawkbit#784
Dominic Schabel
@schabdo
However, we haven't found a way to achieve the same thing for the any of the _links in the regular poll response, which means that devices wouldn't be able to even get the list of download links for example
@UlfHesselbarth not sure what exactly you did but on the hawkBit sandbox we do run behind a proxy as well and the _links are looking good
curl --location --request GET 'https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu' \
--header 'Authorization: TargetToken 55848d2887e04c64436659b527bcd2b4'
Response:"_links": {
"deploymentBase": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/deploymentBase/1?c=411629670"
},
"configData": {
"href": "https://hawkbit.eclipse.org/DEFAULT/controller/v1/bubu/configData"
}
}
Configuration for sanbox can be found here
_
Sign in to start talking
POST /rest/v1/distributionsets/16/assignedTargets HTTP/1.1
Content-Length: 1037
Content-Type: application/json;charset=UTF-8
Host: management-api.host.com
[ {
"maintenanceWindow" : {
"duration" : "00:10:00",
"schedule" : "37 20 12 19 2 ? 2020",
"timezone" : "+00:00"
},
"forcetime" : 1582108837180,
"id" : "target1",
"type" : "timeforced"
}, {
"maintenanceWindow" : {
"duration" : "00:10:00",
"schedule" : "37 20 12 19 2 ? 2020",
"timezone" : "+00:00"
},
"forcetime" : 1582108837180,
"id" : "target2",
"type" : "timeforced"
}, {
hawkbit-autoconfigure
hawkbit-core
hawkbit-dmf
hawkbit-http-security
hawkbit-repository
hawkbit-rest
hawkbit-runtime
hawkbit-security-core
hawkbit-security-integration
hawkbit-starters
hawkbit-test-report
hawkbit-ui
licenses
.gitattributes
.gitignore
CODE_OF_CONDUCT.md
CONTRIBUTING.md
LICENSE
MIGRATION.md
README.md
eclipse_codeformatter.xml
"maintenanceWindow" : {
"duration" : "00:10:00",
"schedule" : "37 20 12 19 2 ? 2020",
"timezone" : "+00:00"
},
"forcetime" : 1582108837180,
"id" : "target3",
"type" : "timeforced"
}, {
"maintenanceWindow" : {
"duration" : "00:10:00",
"schedule" : "37 20 12 19 2 ? 2020",
"timezone" : "+00:00"
},
"forcetime" : 1582108837180,
"id" : "target4",
"type" : "timeforced"
}, {
"maintenanceWindow" : {
"duration" : "00:10:00",
"schedule" : "37 20 12 19 2 ? 2020",
"timezone" : "+00:00"
},
"forcetime" : 1582108837180,
"id" : "target5",
hawkbit_logo.png
pom.xml
View code
README.md
Eclipse hawkBit™ - Update Server
Eclipse hawkBit is an domain independent back end solution for rolling out software updates to constrained edge devices as well as more powerful controllers and gateways connected to IP based networking infrastructure.
Build:
Docker:
Documentation
see hawkBit Documentation
Contact us
Having questions about hawkBit? Check Stack Overflow
Want to chat with the team behind hawkBit?
Having issues with hawkBit? Open a GitHub issue.
You can also check out our Project Homepage for further contact options.
Examples and Extensions
Next to the hawkBit core hosted here the project maintains as well examples and extension repositories.
hawkBit sandbox
We offer a sandbox installation that is free for everyone to try out hawkBit. However, keep in mind that the sandbox database will be reset from time to time. It is also not possible to upload any artifacts into the sandbox. But you can use it to try out the Management UI, Management API and DDI API. Keep in mind as well that you are not permitted to store any kind of personal data in the sandbox.
https://hawkbit.eclipse.org
In addition the following vendors offer free trial accounts for their hawkBit compatible products:
Bosch IoT Rollouts
Kynetics Update Factory
"type" : "timeforced"
} ]
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
Request query parameter
Parameter
Description
offline
Offline update (set param to true) that is only reported but not managed by the service, e.g. defaults set in factory, manual updates or migrations from other update systems. A completed action is added to the history of the target(s). Target is set to IN_SYNC state as both assigend and installed DS are set. Note: only executed if the target has currently no running update.
Request fields
Path
Type
Description
Allowed Values
Mandatory
[].id
String
The technical identifier of the entity
X
[].weight
Device Integration
hawkBit does not provide off the shelf clients for devices as part of the project. The long term goal is to provide an Eclipse hono integration which will provide connectivity through various IoT protocols and as a result allows a wide range of clients to connect to hawkBit. However, the hawkBit Direct Device Integration (API) API is HTTP/JSon based which should allow any update client to integrate quite easily.
There are clients outside of the Eclipse IoT eco system as well, e.g.:
SWupdate which is a Linux Update agent with focus on a efficient and safe way to update embedded systems.
rauc-hawkbit which is a python-based hawkBit client application and library for the RAUC update framework.
Runtime dependencies and support
Java Runtime Environment: 1.8
SQL database
Database
H2
MySQL/MariaDB
MS SQL Server
PostgreSQL
IBM DB2
DDLs maintained by project
✅
✅
✅
✅
✅
Test dependencies defined
✅
✅
✅
✅
Number
Importance of the assignment.
0 - 1000
when multi-assignment is enabled
[].forcetime
Number
Forcetime in milliseconds.
[].maintenanceWindow
Object
Separation of download and install by defining a maintenance window for the installation.
[].maintenanceWindow.schedule
String
Schedule for the maintenance window start in quartz cron notation, such as '0 15 10 * * ? 2018' for 10:15am every day during the year 2018.
[].maintenanceWindow.duration
String
Duration of the window, such as '02:00:00' for 2 hours.
[].maintenanceWindow.timezone
String
A time-zone offset from Greenwich/UTC, such as '+02:00'.
[].type
String
The type of the assignment.
['soft', 'forced','timeforced', 'downloadonly']
Response (Status 200)
Versions tested
1.4
MySQL 5.6/5.7, AWS Aurora
MS SQL Server 2017
PostgreSQL 12.1
DB2 Server v11.1
Docker image with driver provided
✅
✅ (Tag: "-mysql")
✅
✅
JDBC driver
H2 1.4
MariaDB Connector/J 2.0
MSSQL-JDBC 6.4
PostgreSQL JDBC Driver 42.2.10
Status
Test, Dev
Production grade
Production grade
Test, Dev
Test, Dev
(Optional) RabbitMQ: 3.6,3.7
Response fields
Path
Type
Description
Allowed Values
assigned
Number
Targets that now have this distribution set assigned.
alreadyAssigned
Number
Targets that had this distribution set already assigned (in "offline" case this includes targets that have arbitrary updates running)
assignedActions
Array
The newly created actions as a result of this assignment
assignedActions.[].id
Number
ID of the action.
assignedActions.[]._links.self
Object
The link to the action.
total
Getting Started
We are providing a Spring Boot based reference Update Server including embedded H2 DB for test and evaluation purposes.
Run with docker:
docker run -d -p 8080:8080 hawkbit/hawkbit-update-server
Open the update server in your browser:
localhost:8080
See below for how to build and run the update server on your own. In addition we have a guide for setting up a complete landscape.
hawkBit (Spring boot) starters
Next to the Update Server we are also providing a set of Spring Boot Starters to quick start your own Spring Boot based application.
Clone, build and run hawkBit
Build and start hawkBit Update Server
git clone https://github.com/eclipse/hawkbit.git
cd hawkbit
mvn clean install
java -jar ./hawkbit-runtime/hawkbit-update-server/target/hawkbit-update-server-#version#.jar
Start hawkBit Device Simulator (optional)
git clone https://github.com/eclipse/hawkbit-examples.git
cd hawkbit-examples
mvn clean install
java -jar ./hawkbit-device-simulator/target/hawkbit-device-simulator-#version#.jar
Generate getting started data with the Management API example (optional)
java -jar ./hawkbit-example-mgmt-simulator/target/hawkbit-example-mgmt-simulator-#version#-exec.jar
Status and API stability
Number
Overall assigned as part of this request.
Response example
HTTP/1.1 200 OK
Content-Type: application/hal+json;charset=UTF-8
Content-Length: 710
{
"alreadyAssigned" : 1,
"assignedActions" : [ {
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/targets/target2/actions/13"
}
},
"id" : 13
}, {
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/targets/target3/actions/14"
}
},
"id" : 14
}, {
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/targets/target4/actions/16"
hawkBit is currently in '0.X' semantic version. That is due to the need that there is still content in hawkBit that is in need for refactoring. That includes the maven module structure, Spring Boot Properties, Spring Boot auto configuration as well as internal Java APIs (e.g. the repository API ).
However, the device facing DDI API is on major version 'v1' and will be kept stable.
Server facing and DMF API are Management API are on v1 as well. However, we cannot fully guarantee the same stability during hawkBit's 0.X development but we will try as best we can.
About
Eclipse hawkBit™
projects.eclipse.org/projects/iot.hawkbit
Topics
eclipseiot
iot
software-provisioning
internet-of-things
Resources
Readme
License
EPL-1.0 License
Releases
21
0.3.0M6
Latest
Jan 17, 2020
+ 20 releases
Packages 0
No packages published
}
},
"id" : 16
}, {
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/targets/target5/actions/15"
}
},
"id" : 15
} ],
"total" : 5,
"assigned" : 4
}
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Used by 5
Contributors 49
+ 38 contributors
Languages
Java
98.4%
SCSS
1.1%
Dockerfile
0.4%
Shell
0.1%
HTML
0.0%
JavaScript
0.0%
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
409 Conflict
E.g. in case an entity is created or modified by another user in another request at the same time. You may retry your modification request.
See Error body
415 Unsupported Media Type
The request was attempt with a media-type which is not supported by the server for this resource.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Handles the GET request for retrieving installed targets of a single distribution set. Required permissions: READ_REPOSITORY and READ_TARGET
Get installed targets
Curl
$ curl 'https://management-api.host.com/rest/v1/distributionsets/18/installedTargets' -i -X GET \
-H 'Accept: application/json'
Request URL
GET /rest/v1/distributionsets/18/installedTargets HTTP/1.1
Accept: application/json
Host: management-api.host.com
Request path parameter
Parameter
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
Description
distributionSetId
The technical identifier of the entity
Request query parameter
Parameter
Description
limit
The maximum number of entries in a page (default is 50).
sort
The query parameter sort allows to define the sort order for the result of a query. A sort criteria consists of the name of a field and the sort direction (ASC for ascending and DESC descending). The sequence of the sort criteria (multiple can be used) defines the sort order of the entities in the result.
offset
The paging offset (default is 0).
q
Query fields based on the Feed Item Query Language (FIQL). See Entity Definitions for available fields.
Request parameter example
GET /rest/v1/distributionsets/2/installedTargets?offset=1&limit=2&sort=name%3ADESC&q=controllerId%3D%3Dtarget* HTTP/1.1
Accept: application/json
Host: management-api.host.com
Response (Status 200)
Response fields
Path
Type
Description
Docker Hub
GitHub - eclipse/hawkbit-extensions
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
Allowed Values
total
Number
Total number of elements
size
Number
Current page size
content
Array[Object]
List of provisioning targets.
Response example
HTTP/1.1 200 OK
Content-Length: 536
Content-Type: application/json;charset=UTF-8
{
"content" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108840215,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108840449,
"name" : "targetExist",
"controllerId" : "targetExist",
"updateStatus" : "in_sync",
"installedAt" : 1582108840437,
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
"securityToken" : "5ecb395ecf2cc02d5d73f9f7dcde8446",
"requestAttributes" : true,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/targets/targetExist"
}
}
} ],
"total" : 1,
"size" : 1
}
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
405 Method Not Allowed
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Handles the GET request for retrieving assigned target filter queries of a single distribution set. Required permissions: READ_REPOSITORY and READ_TARGET
Get installed targets
Curl
$ curl 'https://management-api.host.com/rest/v1/distributionsets/15/autoAssignTargetFilters' -i -X GET \
-H 'Accept: application/json'
Request URL
GET /rest/v1/distributionsets/15/autoAssignTargetFilters HTTP/1.1
Accept: application/json
Host: management-api.host.com
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
Eclipse hawkBit
Repository abstraction API · Issue #197 · eclipse/hawkbit · GitHub
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit-extensions
Watch
11
Star
15
Fork
19
EPL-1.0 License
15
stars
19
forks
Star
Request query parameter
Parameter
Description
limit
The maximum number of entries in a page (default is 50).
sort
The query parameter sort allows to define the sort order for the result of a query. A sort criteria consists of the name of a field and the sort direction (ASC for ascending and DESC descending). The sequence of the sort criteria (multiple can be used) defines the sort order of the entities in the result.
offset
The paging offset (default is 0).
q
Query fields based on the Feed Item Query Language (FIQL). See Entity Definitions for available fields.
Request parameter example
GET /rest/v1/distributionsets/1/autoAssignTargetFilters?offset=1&limit=2&sort=name%3ADESC&q=name%3D%3D*1 HTTP/1.1
Accept: application/json
Host: management-api.host.com
Response (Status 200)
Response fields
Path
Type
Description
Allowed Values
total
Number
Total number of elements
size
Eclipse hawkBit
Eclipse hawkBit™
eclipse/hawkbit
Sandbox
Stars
–
What is hawkBit
Getting started
Guides
Features
Concepts
Architecture
Management UI
APIs
Community
Release notes
IoT. Update. Device.
Eclipse hawkBit™ is a domain independent back-end framework for rolling out software updates
to constrained
edge devices as well as more powerful controllers and gateways connected to IP based networking
infrastructure.
Interfaces
hawkBit offers a direct device integration via HTTP or a device management federation API
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Watch
Code
Issues
5
Pull requests
2
Actions
Projects
0
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Number
Current page size
content
Array[Object]
List of target filter queries.
Response example
HTTP/1.1 200 OK
Content-Length: 907
Content-Type: application/json;charset=UTF-8
{
"content" : [ {
"createdBy" : "bumlux",
"createdAt" : 1582108836316,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108836316,
"name" : "filter1",
"query" : "name==a",
"autoAssignDistributionSet" : 15,
"autoAssignActionType" : null,
"autoAssignWeight" : null,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/targetfilters/2"
}
},
GitHub - eclipse/hawkbit-examples
GitHub - rauc/rauc-hawkbit: RAUC hawkBit Client
Eclipse hawkBit | projects.eclipse.org
which allows to connect devices with different protocol adapter. Users can make use of the graphical
user interface
and other service can interact with hawkBit through the RESTful management API.
Rollout
hawkBit supports an easy and flexible rollout management which allows you to update a large
amount of devices in separated groups.
Cascading start of the deployment groups based on installation status of the previous
group.
Emergency shutdown of the rollout in case a group exceeds the defined error threshold.
Rollout progress monitoring for the entire rollout and the individual groups.
Package Model
A software update does not always contain only a single file. The hawkBit meta model allows
you to configure your files in virtual software and distribution packages.
© 2020 The Eclipse hawkBit Project –
Documentation built with
Hugo
using the
Material theme.
> Privacy Policy
> Terms of Use
> Copyright Agent
> Legal
> License
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
master
1
branch
0
tags
Go to file
Code
Clone
HTTPS
GitHub CLI
Use Git or checkout with SVN using the web URL.
Work fast with our official CLI.
Learn more.
Open with GitHub Desktop
Download ZIP
"id" : 2
}, {
"createdBy" : "bumlux",
"createdAt" : 1582108836358,
"lastModifiedBy" : "bumlux",
"lastModifiedAt" : 1582108836358,
"name" : "filter2",
"query" : "name==b",
"autoAssignDistributionSet" : 15,
"autoAssignActionType" : null,
"autoAssignWeight" : null,
"_links" : {
"self" : {
"href" : "https://management-api.host.com/rest/v1/targetfilters/3"
}
},
"id" : 3
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Google Tag Manager Skip to main content
Log in
Manage Cookies
projects.eclipse.org
Download
ProjectsWorking GroupsMembersCommunity MarketplaceEventsPlanet EclipseNewsletterVideosBlogsParticipate Report a BugForumsMailing ListsWikiIRCResearchEclipse IDE DownloadLearn MoreDocumentationGetting Started / SupportHow to ContributeIDE and ToolsNewcomer Forum
More
CommunityMarketplaceEventsPlanet EclipseNewsletterVideosBlogsParticipateReport a BugForumsMailing ListsWikiIRCResearchEclipse IDEDownloadLearn MoreDocumentationGetting Started / SupportHow to ContributeIDE and ToolsNewcomer Forum
Toggle navigation
Home
Projects
Eclipse IoT
Eclipse hawkBit
Eclipse hawkBit
Primary tabsOverview(active tab)
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching Xcode
If nothing happens, download Xcode and try again.
Go back
Launching Visual Studio
If nothing happens, download the GitHub extension for Visual Studio and try again.
Go back
Latest commit
kaizimmerm
Support for VScode and Azure Pipelines (#64)
…
} ],
"total" : 2,
"size" : 2
}
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Downloads
Who's Involved
Developer Resources
Governance
Contact Us
Project hawkBit aims to create a domain independent back end solution for rolling out software updates to constrained edge devices as well as more powerful controllers and gateways connected to IP based networking infrastructure. Devices can be connected to the hawkBit server either directly through an optimized interface or indirectly through federated device management servers.
hawkBit is device and communication channel neutral by means of supporting:
Software and Operating system updates for M2M gateways (typically but not necessarily running Linux) and
Firmware updates for embedded devices
both for
cable or
over the air (OTA) connected devices
Features at a glance:
A device and software repository.
Artifact content delivery.
Software update and roll out management.
Reporting and monitoring.
Interfaces:
for direct device control.
for IoT solutions or applications to manage the repository and the roll outs.
for device management federation (i.e. indirect device control)
and a user interface to operators to manage and run the roll outs.
Licenses: Eclipse Public License 1.0Latest Releases: From June 15th, 2018 to June 15th, 2018
NameDateReview
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
3636fe1
Nov 19, 2020
Support for VScode and Azure Pipelines (#64)
* Add VSCode devcontainer support
Signed-off-by: Kai Zimmermann <kai.zimmermann@microsoft.com>
* Add Azure pipelines supportSigned-off-by: Kai Zimmermann <kai.zimmermann@microsoft.com>
* Update after review.
Signed-off-by: Kai Zimmermann <kai.zimmermann@microsoft.com>
3636fe1
Git stats
89
commits
Files
Permalink
Failed to load latest commit information.
Type
Name
Latest commit message
Commit time
.3rd-party
.circleci
.devcontainer
.github
hawkbit-extended-runtimes
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Get a paged list of meta data for a distribution set. Required permission: READ_REPOSITORY
Get a paged list of meta data
Curl
$ curl 'https://management-api.host.com/rest/v1/distributionsets/22/metadata' -i -X GET
Request URL
GET /rest/v1/distributionsets/22/metadata HTTP/1.1
Host: management-api.host.com
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
Request query parameter
Parameter
Description
limit
The maximum number of entries in a page (default is 50).
sort
The query parameter sort allows to define the sort order for the result of a query. A sort criteria consists of the name of a field and the sort direction (ASC for ascending and DESC descending). The sequence of the sort criteria (multiple can be used) defines the sort order of the entities in the result.
offset
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit-examples
Watch
12
Star
15
Fork
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
0.2.02018-06-15
Active Member Companies: Member companies supporting this project over the last three months.
Contribution Activity: Commits on this project (last 12 months).
Project Links
Website
Documentation
Related Projects
Project Hierarchy:Eclipse IoT
Eclipse hawkBit
Eclipse Hara
Tags
Technology TypesInternet of Things
Eclipse Foundation
About UsContact UsDonateMembersGovernanceCode of ConductLogo and ArtworkBoard of Directors
Legal
Privacy PolicyTerms of UseCopyright AgentEclipse Public LicenseLegal Resources
Useful Links
Report a BugDocumentationHow to ContributeMailing ListsForumsMarketplace
Other
IDE and ToolsProjectsWorking GroupsResearch@EclipseReport a VulnerabilityService Status
Copyright © Eclipse Foundation, Inc. All Rights Reserved.
Back to the top
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Repository abstraction API
#197
Closed
kaizimmerm opened this issue
May 31, 2016
· 0 comments
Closed
hawkbit-extension-artifact-repository-gcs
hawkbit-extension-artifact-repository-mongo
hawkbit-extension-artifact-repository-s3
hawkbit-extensions-azure
licenses
.gitignore
CODE_OF_CONDUCT.md
CONTRIBUTING.md
LICENSE
README.md
azure-pipelines.yml
eclipse_codeformatter.xml
hawkbit_logo.png
pom.xml
View code
README.md
Eclipse hawkBit™ - Extensions collection
Build:
The paging offset (default is 0).
q
Query fields based on the Feed Item Query Language (FIQL). See Entity Definitions for available fields.
Request parameter example
GET /rest/v1/distributionsets/21/metadata?offset=1&limit=2&sort=key%3ADESC&q=key%3D%3Dknown* HTTP/1.1
Host: management-api.host.com
Response (Status 200)
Response fields
Path
Type
Description
Allowed Values
total
Number
Total number of elements
size
Number
Current page size
content
Array
List of metadata.
content[].key
String
Metadata property key.
content[].value
11
EPL-1.0 License
15
stars
11
forks
Star
Watch
Code
Issues
2
Pull requests
3
Actions
Projects
0
Security
Insights
More
Code
Issues
Pull requests
Actions
Sign in
Sign up
rauc
/
rauc-hawkbit
Watch
10
Star
32
Fork
18
RAUC hawkBit Client
LGPL-2.1 License
32
stars
18
forks
Star
Watch
Code
Issues
5
Pull requests
Repository abstraction API
#197
kaizimmerm opened this issue
May 31, 2016
· 0 comments
Assignees
Labels
refactoring
Milestone
0.2.0M4
Comments
Copy link
Quote reply
Member
kaizimmerm
commented
May 31, 2016
•
edited
Refactoring:
Provide interface on top of *management implementations.
Make entities immutable and create proper update methods that state by signature what can be updated.
Introduce builder pattern for EntityFactory create methods and repository update methods.
hawkBit extension guidelines
Containing a README.md which explains the extension in detail and how to use it
Working with the hawkBit example application
Following the maven-artifact-id hawkbit-extension-<name>
About
No description, website, or topics provided.
Resources
Readme
License
EPL-1.0 License
Releases
No releases published
Packages 0
No packages published
Contributors 15
+ 4 contributors
Languages
Java
97.3%
HTML
1.1%
Other
String
Metadata property value.
Response example
HTTP/1.1 200 OK
Content-Type: application/hal+json;charset=UTF-8
Content-Length: 289
{
"content" : [ {
"key" : "knownKey0",
"value" : "knownValue0"
}, {
"key" : "knownKey1",
"value" : "knownValue1"
}, {
"key" : "knownKey2",
"value" : "knownValue2"
}, {
"key" : "knownKey3",
"value" : "knownValue3"
} ],
"total" : 4,
"size" : 4
Projects
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
master
1
branch
0
tags
Go to file
Code
Clone
HTTPS
GitHub CLI
Use Git or checkout with SVN using the web URL.
2
Actions
Projects
0
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
master
1
Use IDs in signatures for searches, not complete entities
Consistent usage of Java 8 Optional in the interfaces (Repo shall never return null!)
Remove TargetInfo interfaces as this does not belong into the API. The very existence of this object is very Spring Data/JPA specific.
Consistent usage of paging (make sure that we never query everything)
Fix DMF model name clashes by means of renaming DMF model in similar pattern to the other APIs.
Check if we really always ned Page or is Slice sufficient
Split management services (e.g. DS and DS type)
Consistent naming of methods (see below)
Remove boiler plate
Remove external artifact (concept was never finished anyway and does not fit to hawkBit as of today)
Method naming concept (example target management)
// Count all targets
Long count()
// Count by filter parameter (example)
Long countByTargetFilterQuery(@NotEmpty String targetFilterQuery);
//Create entity
List<Target> create(@NotEmpty Collection<TargetCreate> create)
Target create(@NotNull TargetCreate create)
//Delete entities (throws EntityNotFoundException if one element does not exist (at least one not found in collection case))
void delete(@NotEmpty Collection<Long> targetIDs);
void delete(@NotNull Long targetID);
void deleteByControllerId(@NotEmpty String controllerId);
void deleteByControllerId(@NotEmpty Collection<String> controllerId);
//Update Target (throws EntityNotFoundException if one element does not exist (at least one not found in collection case))
1.6%
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
}
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Create a list of meta data entries Required permissions: READ_REPOSITORY and UPDATE_TARGET
Create a list of meta data entries
CURL
$ curl 'https://management-api.host.com/rest/v1/distributionsets/14/metadata' -i -X POST \
Work fast with our official CLI.
Learn more.
Open with GitHub Desktop
Download ZIP
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching Xcode
If nothing happens, download Xcode and try again.
Go back
Launching Visual Studio
If nothing happens, download the GitHub extension for Visual Studio and try again.
Go back
Latest commit
Git stats
66
commits
Files
Permalink
branch
2
tags
Go to file
Code
Clone
HTTPS
GitHub CLI
Use Git or checkout with SVN using the web URL.
Work fast with our official CLI.
Learn more.
Open with GitHub Desktop
Download ZIP
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching GitHub Desktop
If nothing happens, download GitHub Desktop and try again.
Go back
Launching Xcode
If nothing happens, download Xcode and try again.
Go back
Launching Visual Studio
If nothing happens, download the GitHub extension for Visual Studio and try again.
Go back
List<Target> update(@NotEmpty Collection<TargetUpdate> update);
Target update(@NotNull TargetUpdate update);
//Exist
boolean exists(@NotNull Long targetId)
boolean existsByAssignedDistributionSet(@NotNull Long distributionSetID);
// Read methods
// Find one on technical ID (Optional, no EntityNotFoundException)
Optional<Target> get(@NotNull Long targetId);
List<Target> get(@NotEmpty Collection<Long> targetId);
// Find one on non-ID but unique constraint (Optional, no EntityNotFoundException)
Optional<Target> getByControllerID(@NotEmpty String controllerId);
List<Target> getByControllerID(@NotEmpty Collection<String> controllerId);
// Find one on non-ID but and non unique constraint (Optional, no EntityNotFoundException)
Optional<Target> findFirstByDescription(@NotEmpty String description);
// Query/search repository (page might be empty, no EntityNotFoundException) (note: pageReq always first in signature)
Page<Target> findByAssignedDistributionSet(@NotNull Pageable pageReq, @NotNull Long distributionSetID);
kaizimmerm
added
the
refactoring
label
May 31, 2016
kaizimmerm
mentioned this issue
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
-H 'Content-Type: application/json;charset=UTF-8' \
-d '[ {
"value" : "knownValue1",
"key" : "knownKey1"
}, {
"value" : "knownValue2",
"key" : "knownKey2"
} ]'
Request URL
POST /rest/v1/distributionsets/14/metadata HTTP/1.1
Content-Length: 110
Content-Type: application/json;charset=UTF-8
Host: management-api.host.com
[ {
"value" : "knownValue1",
"key" : "knownKey1"
}, {
"value" : "knownValue2",
"key" : "knownKey2"
} ]
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
Failed to load latest commit information.
Type
Name
Latest commit message
Commit time
.3rd-party
.circleci
.github
hawkbit-custom-theme-example
hawkbit-device-simulator
hawkbit-example-core-feign-client
hawkbit-example-ddi-feign-client
hawkbit-example-mgmt-feign-client
hawkbit-example-mgmt-simulator
licenses
.gitignore
CODE_OF_CONDUCT.md
CONTRIBUTING.md
LICENSE
README.md
Latest commit
ejoerns
Release v0.2.0
…
47bebb4
Feb 20, 2020
Release v0.2.0
Signed-off-by: Enrico Joerns <ejo@pengutronix.de>
47bebb4
Git stats
45
commits
Files
Permalink
Failed to load latest commit information.
Type
Name
Latest commit message
Commit time
bin
doc
rauc_hawkbit
tests
The Eclipse hawkBit Open Source Project on Open Hub
May 31, 2016
Provide abstact interface for hawkBits repository implementation
#100
Closed
9 of 9 tasks complete
kaizimmerm
mentioned this issue
Oct 20, 2016
Removed external artifact from repository.
#322
Merged
kaizimmerm
self-assigned this
Oct 20, 2016
kaizimmerm
mentioned this issue
Nov 9, 2016
Make entities immutable and create proper update methods that state by signature what can be updated.
#342
Merged
kaizimmerm
mentioned this issue
Dec 23, 2016
Repository API query signatures Entity free
Request fields
Path
Type
Description
Allowed Values
Mandatory
[]key
String
Metadata property key.
X
[]value
String
Metadata property value.
Response (Status 200)
Response example
HTTP/1.1 201 Created
Content-Length: 110
Content-Type: application/hal+json;charset=UTF-8
[ {
"key" : "knownKey1",
"value" : "knownValue1"
}, {
"key" : "knownKey2",
"value" : "knownValue2"
} ]
eclipse_codeformatter.xml
hawkbit_logo.png
pom.xml
View code
README.md
Eclipse hawkBit™ - Examples collection
Example projects that show how hawkBit can be customized or hawkBit compatible APIs leveraged.
API client examples
hawkbit-example-ddi-feign-client : Example client based on the feign project for hawkBit's Direct Device Integration API.
hawkbit-example-mgmt-feign-client : Example client based on the feign project for hawkBit's Management API
Simulators
hawkbit-device-simulator : Simulates device software updates, leveraging the hawkBit device integration options.
hawkbit-example-mgmt-simulator : Example client simulation for the hawkBit Management API based on Spring Boot and the hawkbit-example-mgmt-feign-client.
Customization examples
hawkbit-custom-theme-example : Example for a customized theme for Management UI.
About
No description, website, or topics provided.
Resources
Readme
License
.gitignore
.travis.yml
CHANGES.rst
COPYING
MANIFEST.in
README.rst
setup.py
tox.ini
View code
README.rst
RAUC hawkBit Client
The RAUC hawkBit client is a simple python-based library and example
application that runs on your target and operates as an interface between the
RAUC D-Bus API
and the hawkBit DDI API.
Quickstart
Despite the rauc-hawkbit client is primarily meant to be used as a library,
it also provides a simple example application that allows you to instantly
start with a small configuration file.
To quickly build and start a hawkBit server, follow
this
instruction.
Then setup your configuration file:
openhub.net
Black Duck Software, Inc.
Black Duck Open Hub
Follow @
OH
Sign In
Join Now
Projects
People
Organizations
Tools
Blog
Projects
People
Projects
Organizations
Forums
E
Eclipse hawkBit
Settings
|
Report Duplicate
#403
Merged
kaizimmerm
mentioned this issue
Feb 13, 2017
hawkBit repository uses Optional on single entity find/get requests
#435
Merged
kaizimmerm
mentioned this issue
Mar 8, 2017
Remove TargetInfo entity
#453
Merged
kaizimmerm
mentioned this issue
Apr 25, 2017
Remove unlimited collections from the repository API
#496
Merged
kaizimmerm
mentioned this issue
May 17, 2017
Rename DMF model classes to avoid name clashes with the repository.
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
404 Not Found
Not Found Target.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
409 Conflict
E.g. in case an entity is created or modified by another user in another request at the same time. You may retry your modification request.
See Error body
415 Unsupported Media Type
The request was attempt with a media-type which is not supported by the server for this resource.
429 Too Many Request
EPL-1.0 License
Releases
No releases published
Packages 0
No packages published
Contributors 13
+ 2 contributors
Languages
Java
98.1%
Other
1.9%
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
[client]
hawkbit_server = 127.0.0.1:8080
ssl = false
tenant_id = DEFAULT
target_name = test-target
auth_token = bhVahL1Il1shie2aj2poojeChee6ahShu
mac_address = 12:34:56:78:9A:BC
bundle_download_location = /tmp/bundle.raucb
Finally start the client application:
./rauc-hawkbit-client -c config.cfg
Documentation
Read the Docs
Contributing
Development Docs
Background
Work on the RAUC hawkBit client started at Pengutronix in the middle of 2016 as part of a customer's project
and for demonstration purposes. In May 2017 the decision was made to restructure
and clean up the code and publish it as Open Source software.
Example Usage
The RaucDBUSDDIClient class from the rauc_hawkbit module allows you to
simply setup an interface between RAUC and hawkBit.
from rauc_hawkbit.rauc_dbus_ddi_client import RaucDBUSDDIClient
...
async with aiohttp.ClientSession() as session:
1
I Use This!
×
Login Required
Log in to Open Hub
Remember Me
Moderate Activity
Analyzed
4 days
ago.
based on code collected
about 1 year
ago.
Project Summary
Eclipse hawkBit™ is a domain independent back-end framework for rolling out software updates to constrained edge devices as well as more powerful controllers and gateways connected to IP based networking infrastructure
Tags
cloud devicemanagement eclipseiot IoT java
In a Nutshell, Eclipse hawkBit...
...
has had
2,482 commits
made by
66 contributors
#520
Merged
kaizimmerm
changed the title
Refactor repository interfaces for consitency
Repository abstraction API
May 22, 2017
kaizimmerm
mentioned this issue
May 23, 2017
Split repository API for module and DS management. Refactor utility usage
#524
Merged
kaizimmerm
mentioned this issue
Sep 5, 2017
Complete repository refactoring - method renaming
#575
Merged
kaizimmerm
closed this
Sep 22, 2017
kaizimmerm
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Delete a single meta data. Required permission: UPDATE_REPOSITORY
Delete a single meta data
CURL
$ curl 'https://management-api.host.com/rest/v1/distributionsets/23/metadata/knownKey' -i -X DELETE
Request URL
DELETE /rest/v1/distributionsets/23/metadata/knownKey HTTP/1.1
Host: management-api.host.com
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
key
The technical identifier of the entity
Response (Status 200)
Response example
HTTP/1.1 200 OK
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
client = RaucDBUSDDIClient(session, HOST, SSL, TENANT_ID, TARGET_NAME,
AUTH_TOKEN, ATTRIBUTES, BUNDLE_DL_LOCATION,
result_callback, step_callback)
await client.start_polling()
If you only want use the hawkBit interface from your python project, you can
use the DDIClient class.
from rauc_hawkbit.ddi.client import DDIClient
...
ddi = DDIClient(session, host, ssl, auth_token, tenant_id, target_name)
base = await self.ddi()
if '_links' in base:
if 'configData' in base['_links']:
await self.identify(base)
Debugging
When setting the log level to 'debug' the RAUC hawkBit client will print API
URLs and JSON payload sent and received. This can be done either by setting
log_level from the config file
[client]
...
log_level = debug
or by providing the -d (--debug) switch when calling the client.
./rauc-hawkbit-client -d
Copyright
Copyright (C) 2016-2020 Pengutronix, Enrico Joerns <entwicklung@pengutronix.de>
Copyright (C) 2016-2020 Pengutronix, Bastian Stender <entwicklung@pengutronix.de>
representing
125,522 lines of code
...
is
mostly written in Java
with
an average number of source code comments
...
has
a well established, mature codebase
maintained by
a large development team
with
decreasing Y-O-Y commits
...
took an estimated
32 years of effort
(COCOMO model)
starting with its
first commit in November, 2015
ending with its
most recent commit 4 days
ago
Quick Reference
added this to the 0.2.0M4 milestone
Feb 7, 2018
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Assignees
kaizimmerm
Labels
refactoring
Projects
None yet
Milestone
0.2.0M4
Linked pull requests
Successfully merging a pull request may close this issue.
None yet
1 participant
© 2020 GitHub, Inc.
Terms
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
404 Not Found
Not Found Target.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Get a single meta data value for a meta data key. Required permission: READ_REPOSITORY
Get a single meta data value
Curl
$ curl 'https://management-api.host.com/rest/v1/distributionsets/20/metadata/knownKey' -i -X GET
Request URL
GET /rest/v1/distributionsets/20/metadata/knownKey HTTP/1.1
Host: management-api.host.com
Request path parameter
This library is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version.
This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
Lesser General Public License for more details.
You should have received a copy of the GNU Lesser General Public
License along with this library; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
About
RAUC hawkBit Client
Topics
software-provisioning
iot
updating
rauc
Resources
Readme
License
LGPL-2.1 License
Releases
2
Project Links:
Homepage
Documentation
Code Locations:
(3 Locations)
Similar Projects:
Managers:
kaizimmerm
Licenses
Eclipse Public License 1.0
Permitted
Commercial Use
Modify
Distribute
Sub-License
Private Use
Use Patent Claims
Forbidden
Hold Liable
Use Trademarks
Required
Distribute Original
Disclose Source
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Parameter
Description
distributionSetId
The technical identifier of the entity
metadatakey
The technical identifier of the entity
Response (Status 200)
Response fields
Path
Type
Description
Allowed Values
key
String
Metadata property key.
value
String
Metadata property value.
Response example
HTTP/1.1 200 OK
Content-Length: 50
Content-Type: application/json;charset=UTF-8
{
"key" : "knownKey",
v0.2.0
Latest
Feb 20, 2020
+ 1 release
Packages 0
No packages published
Contributors 4
ejoerns
Enrico Jorns
jluebbe
Jan Lübbe
livioso
Livio Bieri
Bastian-Krause
Bastian Krause
Languages
Python
100.0%
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Include Copyright
Include License
Include Install Instructions
Compensate Damages
These details are provided for information only. No information here is legal advice and should not be used as such.
All Licenses
Project Security
Vulnerabilities per Version
( last 10 releases )
Project Vulnerability Report
Security Confidence Index
Poor security track-record
Favorable security track-record
Vulnerability Exposure Index
Many reported vulnerabilities
Few reported vulnerabilities
About Project Vulnerability Report
Did You Know...
...
use of OSS increased in 65% of companies in 2016
...
you can embed statistics from Open Hub on your site
...
nearly 1 in 3 companies have no process for identifying, tracking,
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
"value" : "knownValue"
}
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Implementation Notes
Update a single meta data value for speficic key. Required permission: UPDATE_REPOSITORY
Update a single meta data value
Curl
$ curl 'https://management-api.host.com/rest/v1/distributionsets/13/metadata/knownKey' -i -X PUT \
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
or remediating known open source vulnerabilities
...
by exploring contributors within projects, you can view details on every commit
they have made to that project
About Project Security
Code
Lines of Code
Activity
Commits per Month
Community
Contributors per Month
Languages
Java
90%
6 Other
10%
30 Day Summary
Sep 6 2019
—
Oct 6 2019
104
Commits
25
Contributors
-H 'Content-Type: application/json;charset=UTF-8' \
-d '{
"value" : "valueForUpdate",
"key" : "knownKey"
}'
Request URL
PUT /rest/v1/distributionsets/13/metadata/knownKey HTTP/1.1
Content-Length: 54
Content-Type: application/json;charset=UTF-8
Host: management-api.host.com
{
"value" : "valueForUpdate",
"key" : "knownKey"
}
Request path parameter
Parameter
Description
distributionSetId
The technical identifier of the entity
metadatakey
The technical identifier of the entity
Request fields
Path
Type
Description
Accept
Reject
Save preferences
including
11 new contributors
1
New Language
:
XML
added
Jan 27
12 Month Summary
Oct 6 2018
—
Oct 6 2019
293
Commits
Up
+
70
(31%)
from previous 12 months
31
Contributors
Up
+
14
(82%)
Allowed Values
Mandatory
key
String
Metadata property key.
X
value
String
Metadata property value.
X
Response (Status 200)
Response fields
Path
Type
Description
Allowed Values
key
String
Metadata property key.
value
String
Metadata property value.
Response example
HTTP/1.1 200 OK
from previous 12 months
Most Recent Contributors
Kai Zimmermann
Sergey Gerasimov
Dominic Schabel
Anand Kumar
Markus Block
Bondar Bogdan
Ratings
1 user rates this project:
5.0
5.0/5.0
Click to add your rating
Review this Project!
Project Summary
News
Settings
Sharing Widgets
Related Projects
Code Data
Languages
Cost Estimates
Content-Length: 54
Content-Type: application/hal+json;charset=UTF-8
{
"key" : "knownKey",
"value" : "valueForUpdate"
}
Error responses
HTTP Status Code
Reason
Response Model
400 Bad Request
Bad Request - e.g. invalid parameters
401 Unauthorized
The request requires user authentication.
403 Forbidden
Insufficient permissions, entity is not allowed to be changed (i.e. read-only) or data volume restriction applies.
Security
SCM Data
Commits
Contributors
Community Data
Users
Ratings & Reviews
User & Contributor Locations
ABOUT SYNOPSYS
Application Security Testing
Software Security Services
Program Development
Training
See Error body
404 Not Found
Not Found Target.
See Error body
405 Method Not Allowed
The http request method is not allowed on the resource.
406 Not Acceptable
In case accept header is specified and not application/json.
409 Conflict
E.g. in case an entity is created or modified by another user in another request at the same time. You may retry your modification request.
See Error body
415 Unsupported Media Type
The request was attempt with a media-type which is not supported by the server for this resource.
ABOUT OPEN HUB
Forums
Terms
Privacy
Open Hub UI Source Code
Contact Us
©
2020
Synopsys, Inc.
All Rights Reserved.
This site uses cookies to give you the best possible experience.
By using the site, you consent to our use of cookies.
For more information, please see our
Privacy Policy
Agree
429 Too Many Request
Too many requests. The server will refuse further attempts and the client has to wait another second.
Additional content
Error body
{
"errorCode": "string",
"exceptionClass": "string",
"message": "string",
"parameters": [
"string"
]
}
Field description
Field
Description
errorCode
A error code/key set by server
exceptionClass
The involved exceptionClass
message
An error message set by the server
parameters
A list of parameters
Last updated 2020-02-19 09:36:17 +00:00
Cleanup UI code after Vaadin migration by blomark · Pull Request #1027 · eclipse/hawkbit · GitHub
Skip to content
Sign up
Why GitHub?
Features →
Code review
Project management
Integrations
Actions
Packages
Security
Team management
Hosting
Mobile
Customer stories →
Security →
Team
Enterprise
Explore
Explore GitHub →
Learn & contribute
Topics
Collections
Trending
Learning Lab
Open source guides
Connect with others
Events
Community forum
GitHub Education
GitHub Stars program
Marketplace
Pricing
Plans →
Compare plans
Contact Sales
Nonprofit →
Education →
In this repository
All GitHub
↵
Jump to
↵
No suggested jump to results
In this repository
All GitHub
↵
Jump to
↵
In this repository
All GitHub
↵
Jump to
↵
Sign in
Sign up
eclipse
/
hawkbit
Watch
39
Star
267
Fork
114
Code
Issues
39
Pull requests
15
Actions
Projects
0
Wiki
Security
Insights
More
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
Dismiss
Join GitHub today
GitHub is home to over 50 million developers working together to host and review code, manage projects, and build software together.
Sign up
GitHub is where the world builds software
Millions of developers and companies build, ship, and maintain their software on GitHub — the largest and most advanced development platform in the world.
Sign up for free
Dismiss
New issue
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
Pick a username
Email Address
Password
Sign up for GitHub
By clicking “Sign up for GitHub”, you agree to our terms of service and
privacy statement. We’ll occasionally send you account related emails.
Already on GitHub?
Sign in
to your account
Jump to bottom
Cleanup UI code after Vaadin migration
#1027
Merged
stefbehl
merged 31 commits into
eclipse:master
from
bosch-io:feature_remove_code_duplications_in_ui
Nov 5, 2020
Merged
Cleanup UI code after Vaadin migration
#1027
stefbehl
merged 31 commits into
eclipse:master
from
bosch-io:feature_remove_code_duplications_in_ui
Nov 5, 2020
Conversation
27
Commits
31
Checks
0
Files changed
Conversation
Copy link
Quote reply
Contributor
blomark
commented
Oct 14, 2020
•
edited
Refactored code and removed duplications in WindowController classes and Layout classes
This PR also contains a bugfix when updating an existing distribution set a duplicate error is no longer shown
blomark
added 25 commits
Sep 17, 2020
Removed code duplications in DistSMTypeFilterLayout
…
5831ef2
Signed-off-by: Markus Block <markus.block@bosch-si.com>
Removed code duplications in DistributionSetGridLayout
…
e80baac
Signed-off-by: Markus Block <markus.block@bosch-si.com>
fix Sonar issues
…
9d9ce74
Signed-off-by: Markus Block <markus.block@bosch-si.com>
fixed Sonar issues
…
81ad854
Signed-off-by: Markus Block <markus.block@bosch-si.com>
fix Sonar issues
…
49cff0f
Signed-off-by: Markus Block <markus.block@bosch-si.com>
Removed duplications in SwModuleGridLayout and SoftwareModuleGridLayout
…
48eb328
Signed-off-by: Markus Block <markus.block@bosch-si.com>
started to remove ui duplications in *WindowController classes
…
8f973e0
Signed-off-by: Markus Block <markus.block@bosch-si.com>
Removed unused variables
…
8203c31
Signed-off-by: Markus Block <markus.block@bosch-si.com>
Merge remote-tracking branch 'origin/master' into feature_remove_code…
…
96522e9
…_duplications_in_ui
introduced UIConfiguration object as container for common used
…
d3faf8b
dependencies
Signed-off-by: Markus Block <markus.block@bosch-si.com>
continued introducing UIConfiguration object
…
6f0cf7e
Signed-off-by: Markus Block <markus.block@bosch-si.com>
fixed Sonar issues
…
4266647
Signed-off-by: Markus Block <markus.block@bosch-si.com>
Removed some duplicated code in WindowController classes
…
31ad8cc
Signed-off-by: Markus Block <markus.block@bosch-si.com>
call getter in super class instead of accessing fields directly
…
ccc674a
Signed-off-by: Markus Block <markus.block@bosch-si.com>
introduced convinience methods for showing notifications in super class
…
88adb4f
Signed-off-by: Markus Block <markus.block@bosch-si.com>
Renamed UIConfiguration to CommonUiDependencies
…
67aba1b
Signed-off-by: Markus Block <markus.block@bosch-si.com>
Renamed UIConfiguration to CommonUiDependencies
…
16e77de
Signed-off-by: Markus Block <markus.block@bosch-si.com>
Introduced parent classes for add and update window controllers
…
952678d
Signed-off-by: Markus Block <markus.block@bosch-si.com>
fixed Sonar issue
…
6a68e95
Signed-off-by: Markus Block <markus.block@bosch-si.com>
introduced validator delegates in the window controller classes
…
b6a1963
remove duplicate code between add/update controllers
Signed-off-by: Markus Block <markus.block@bosch-si.com>
removed unnecessary abstract method used only for logging
…
a538922
Signed-off-by: Markus Block <markus.block@bosch-si.com>
fixed DS selection after create
…
192aab5
Signed-off-by: Markus Block <markus.block@bosch-si.com>
check for duplicate entity only if attributes have changed
…
ed47200
Signed-off-by: Markus Block <markus.block@bosch-si.com>
fixed some failures
…
Loading status checks…
f34aa58
Signed-off-by: Markus Block <markus.block@bosch-si.com>
fixed using wrong method for displaying validation error
…
Loading status checks…
a66b786
Signed-off-by: Markus Block <markus.block@bosch-si.com>
schabdo
added
the
refactoring
label
Oct 14, 2020
schabdo
added this to the 0.3.0M7 milestone
Oct 14, 2020
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...ipse/hawkbit/ui/common/detailslayout/UpdateMetaDataWindowController.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...hawkbit/ui/common/distributionset/AbstractDistributionSetGridLayout.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...va/org/eclipse/hawkbit/ui/management/dstable/DistributionGridLayout.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...ui/src/main/java/org/eclipse/hawkbit/ui/common/CommonUiDependencies.java
Outdated
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...a/org/eclipse/hawkbit/ui/artifacts/smtable/SoftwareModuleGridLayout.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...a/org/eclipse/hawkbit/ui/artifacts/smtype/filter/SMTypeFilterLayout.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...e/hawkbit/ui/common/softwaremodule/AbstractSoftwareModuleGridLayout.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...ava/org/eclipse/hawkbit/ui/distributions/smtable/SwModuleGridLayout.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...lipse/hawkbit/ui/distributions/smtype/filter/DistSMTypeFilterLayout.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...n/java/org/eclipse/hawkbit/ui/common/AbstractEntityWindowController.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...n/java/org/eclipse/hawkbit/ui/common/AbstractEntityWindowController.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...n/java/org/eclipse/hawkbit/ui/common/AbstractEntityWindowController.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
.../eclipse/hawkbit/ui/distributions/dstable/DistributionSetGridLayout.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...clipse/hawkbit/ui/distributions/disttype/filter/DSTypeFilterButtons.java
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...it-ui/src/main/java/org/eclipse/hawkbit/ui/common/AbstractValidator.java
Outdated
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...it-ui/src/main/java/org/eclipse/hawkbit/ui/common/AbstractValidator.java
Outdated
Show resolved
Hide resolved
hawkbit-bot
reviewed
Oct 14, 2020
View changes
...n/grid/support/assignment/DistributionSetsToTargetAssignmentSupport.java
Show resolved
Hide resolved
Copy link
hawkbit-bot
commented
Oct 14, 2020
SonarQube analysis reported 20 issues
16 minor
4 info
Watch the comments in this conversation to review them.
3 extra issues
Note: The following issues were found on lines that were not modified in the pull request. Because these issues can't be reported as line comments, they are summarized here:
AbstractDsGrid.java#L41: Override the "equals" method in this class.
DistributionSetDetails.java#L44: Override the "equals" method in this class.
DistributionSetDetailsHeader.java#L22: Override the "equals" method in this class.
blomark
added 5 commits
Oct 14, 2020
making hawkbit bot happy
…
Loading status checks…
932d94e
Signed-off-by: Markus Block <markus.block@bosch-si.com>
Merge remote-tracking branch 'origin/master' into feature_remove_code…
…
Loading status checks…
39bd752
…_duplications_in_ui
Fixed displaying success message now with persisted entity name
…
Loading status checks…
cad5a7b
Signed-off-by: Markus Block <markus.block@bosch-si.com>
make Sonar happy
…
Loading status checks…
b6c402b
Signed-off-by: Markus Block <markus.block@bosch-si.com>
merged master into branch
…
Loading status checks…
5a0fa00
Signed-off-by: Markus Block <markus.block@bosch-si.com>
bogdan-bondar
suggested changes
Nov 2, 2020
View changes
Copy link
Quote reply
Contributor
bogdan-bondar
left a comment
Couple of small comments, but otherwise great job! ;)
...main/java/org/eclipse/hawkbit/ui/common/AbstractEntityWindowBuilder.java
Outdated
Show resolved
Hide resolved
...ipse/hawkbit/ui/common/detailslayout/UpdateMetaDataWindowController.java
Outdated
Show resolved
Hide resolved
...ipse/hawkbit/ui/common/detailslayout/UpdateMetaDataWindowController.java
Outdated
Show resolved
Hide resolved
...src/main/java/org/eclipse/hawkbit/ui/common/type/ProxyTypeValidator.java
Outdated
Show resolved
Hide resolved
.../eclipse/hawkbit/ui/filtermanagement/AutoAssignmentWindowController.java
Show resolved
Hide resolved
hawkbit-ui/src/main/java/org/eclipse/hawkbit/ui/common/data/filters/DsFilterParams.java
/**
*/
public class DsFilterParams implements Serializable {
This comment has been minimized.
Sign in to view
bogdan-bondar
Nov 2, 2020
Contributor
Does it make sense to define the "SearchAwareFilterParams" or something similar, because search text belongs not only to DS, what is your opinion?
This comment has been minimized.
Sign in to view
blomark
Nov 2, 2020
Author
Contributor
I would suggest to discuss this independantly of this PR
Incorporated review remarks
…
Loading status checks…
40011b9
Signed-off-by: Markus Block <markus.block@bosch-si.com>
bogdan-bondar
approved these changes
Nov 3, 2020
View changes
Copy link
Quote reply
Contributor
bogdan-bondar
left a comment
Thanks a lot @blomark!
Hide details
View details
stefbehl
merged commit cc40529
into
eclipse:master
Nov 5, 2020
2 checks passed
2 checks passed
ci/circleci: build
Your tests passed on CircleCI!
Details
eclipsefdn/eca
The author(s) of the pull request is covered by necessary legal agreements in order to proceed!
Details
stefbehl
deleted the
bosch-io:feature_remove_code_duplications_in_ui
branch
Nov 5, 2020
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Reviewers
hawkbit-bot
bogdan-bondar
Assignees
No one assigned
Labels
refactoring
Projects
None yet
Milestone
0.3.0M7
Linked issues
Successfully merging this pull request may close these issues.
None yet
5 participants
Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
© 2020 GitHub, Inc.
Terms
Privacy
Cookie Preferences
Security
Status
Help
Contact GitHub
Pricing
API
Training
Blog
About
You can’t perform that action at this time.
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
Learn more.
Accept
Reject
We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.
You can always update your selection by clicking Cookie Preferences at the bottom of the page.
For more information, see our Privacy Statement.
Essential cookies
Learn more
Always active
Analytics cookies
We use analytics cookies to understand how you use our websites so we can make them better, e.g. they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.
Learn more
Accept
Reject
Save preferences
